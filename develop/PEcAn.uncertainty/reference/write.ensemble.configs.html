<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Write ensemble config files — write.ensemble.configs • PEcAn.uncertainty</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Write ensemble config files — write.ensemble.configs"><meta name="description" content="Writes config files for use in meta-analysis and returns a list of run ids.
Given a pft.xml object, a list of lists as supplied by get.sa.samples,
a name to distinguish the output files, and the directory to place the files."><meta property="og:description" content="Writes config files for use in meta-analysis and returns a list of run ids.
Given a pft.xml object, a list of lists as supplied by get.sa.samples,
a name to distinguish the output files, and the directory to place the files."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PEcAn.uncertainty</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.2</small>

    <a href="../index.html" style="padding: 0em 1em">← Up</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Write ensemble config files</h1>
      <small class="dont-index">Source: <a href="https://github.com/PecanProject/pecan/blob/develop/modules/uncertainty/R/ensemble.R" class="external-link"><code>R/ensemble.R</code></a></small>
      <div class="d-none name"><code>write.ensemble.configs.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Writes config files for use in meta-analysis and returns a list of run ids.
Given a pft.xml object, a list of lists as supplied by get.sa.samples,
a name to distinguish the output files, and the directory to place the files.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">write.ensemble.configs</span><span class="op">(</span></span>
<span>  <span class="va">input_design</span>,</span>
<span>  <span class="va">ensemble.size</span>,</span>
<span>  <span class="va">defaults</span>,</span>
<span>  <span class="va">ensemble.samples</span>,</span>
<span>  <span class="va">settings</span>,</span>
<span>  <span class="va">model</span>,</span>
<span>  clean <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  write.to.db <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  restart <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  samples <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rename <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-input-design">input_design<a class="anchor" aria-label="anchor" href="#arg-input-design"></a></dt>
<dd><p>the input indices for samples</p></dd>


<dt id="arg-ensemble-size">ensemble.size<a class="anchor" aria-label="anchor" href="#arg-ensemble-size"></a></dt>
<dd><p>size of ensemble</p></dd>


<dt id="arg-defaults">defaults<a class="anchor" aria-label="anchor" href="#arg-defaults"></a></dt>
<dd><p>pft</p></dd>


<dt id="arg-ensemble-samples">ensemble.samples<a class="anchor" aria-label="anchor" href="#arg-ensemble-samples"></a></dt>
<dd><p>list of lists supplied by <a href="get.ensemble.samples.html">get.ensemble.samples</a></p></dd>


<dt id="arg-settings">settings<a class="anchor" aria-label="anchor" href="#arg-settings"></a></dt>
<dd><p>list of PEcAn settings</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>name of model to be run, e.g. "ED2" or "SIPNET"</p></dd>


<dt id="arg-clean">clean<a class="anchor" aria-label="anchor" href="#arg-clean"></a></dt>
<dd><p>remove old output first?</p></dd>


<dt id="arg-write-to-db">write.to.db<a class="anchor" aria-label="anchor" href="#arg-write-to-db"></a></dt>
<dd><p>logical: Record this run in BETY?</p></dd>


<dt id="arg-restart">restart<a class="anchor" aria-label="anchor" href="#arg-restart"></a></dt>
<dd><p>In case this is a continuation of an old simulation. restart needs to be a list with name tags of runid, inputs, new.params (parameters), new.state (initial condition), ensemble.id (ensemble id), start.time and stop.time.See Details.</p></dd>


<dt id="arg-samples">samples<a class="anchor" aria-label="anchor" href="#arg-samples"></a></dt>
<dd><p>Sampled inputs such as met and parameter files</p></dd>


<dt id="arg-rename">rename<a class="anchor" aria-label="anchor" href="#arg-rename"></a></dt>
<dd><p>Decide if we want to rename previous output files, for example convert from sipnet.out to sipnet.2020-07-16.out.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>list, containing $runs = data frame of runids, $ensemble.id = the ensemble ID for these runs and $samples with ids and samples used for each tag.  Also writes sensitivity analysis configuration files as a side effect</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The restart functionality is developed using model specific functions by calling write_restart.modelname function. First, you need to make sure that this function is already exist for your desired model.See here <a href="https://pecanproject.github.io/pecan-documentation/latest/pecan-models.html" class="external-link">https://pecanproject.github.io/pecan-documentation/latest/pecan-models.html</a>
new state is a dataframe with a different column for each state variable. The number of the rows in this dataframe needs to be the same as the ensemble size.
State variables that you can use for setting up the intial conditions differs for different models. You may check the documentation of the write_restart.modelname your model.
The units for the state variables need to be in the PEcAn standard units which can be found in standard_vars.
new.params also has similar structure to ensemble.samples which is sent as an argument.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>David LeBauer, Carl Davidson, Hamze Dokoohaki</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mike Dietze, David LeBauer, Xiaohui Feng, Dan Wang, Carl Davidson, Rob Kooper, Shawn Serbin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

