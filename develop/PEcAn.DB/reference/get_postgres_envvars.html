<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Look up Postgres connection parameters from environment variables — get_postgres_envvars • PEcAn.DB</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Look up Postgres connection parameters from environment variables — get_postgres_envvars"><meta name="description" content="Retrieves database connection parameters stored in any of the
 environment variables known by Postgres,
 using defaults from `...` for parameters not set in the environment.
 In a standard PEcAn installation only a few of these parameters
 will ever be set, but we check all of them anyway in case you need to do
 anything unusual."><meta property="og:description" content="Retrieves database connection parameters stored in any of the
 environment variables known by Postgres,
 using defaults from `...` for parameters not set in the environment.
 In a standard PEcAn installation only a few of these parameters
 will ever be set, but we check all of them anyway in case you need to do
 anything unusual."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PEcAn.DB</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.8.1.9000</small>

    <a href="../index.html" style="padding: 0em 1em">← Up</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/betydb_access.html">BETYdb Access</a></li>
    <li><a class="dropdown-item" href="../articles/create_sites.geometry.html">Create PostGIS polygon</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Look up Postgres connection parameters from environment variables</h1>
      <small class="dont-index">Source: <a href="https://github.com/PecanProject/pecan/blob/develop/base/db/R/get_postgres_envvars.R" class="external-link"><code>R/get_postgres_envvars.R</code></a></small>
      <div class="d-none name"><code>get_postgres_envvars.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Retrieves database connection parameters stored in any of the
 environment variables known by Postgres,
 using defaults from `...` for parameters not set in the environment.
 In a standard PEcAn installation only a few of these parameters
 will ever be set, but we check all of them anyway in case you need to do
 anything unusual.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_postgres_envvars</span><span class="op">(</span><span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>defaults for parameters not found in the environment,
in `name = value` form</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>list of connection parameters suitable for passing on to `db.open`</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The list of environment variables we check is taken from the
 [Postgres 12 manual](https://postgresql.org/docs/12/libpq-envars.html),
 but it should apply to older Postgres versions as well.
 Note that this function only looks for environment variables that control
 connection parameters; it does not retrieve any of the variables related to
 per-session behavior (e.g. PGTZ, PGSYSCONFDIR).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span> <span class="va">host</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"PGHOST"</span><span class="op">)</span> <span class="co"># to restore environment after demo</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.unsetenv</a></span><span class="op">(</span><span class="st">"PGHOST"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu">get_postgres_envvars</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">host</span> <span class="co"># NULL</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> NULL</span>
<span class="r-in"><span> <span class="fu">get_postgres_envvars</span><span class="op">(</span>host <span class="op">=</span> <span class="st">"default"</span>, port <span class="op">=</span> <span class="fl">5432</span><span class="op">)</span><span class="op">$</span><span class="va">host</span> <span class="co"># "default"</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "default"</span>
<span class="r-in"><span> <span class="co"># defaults are ignored for a variable that exists</span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PGHOST <span class="op">=</span> <span class="st">"localhost"</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="fu">get_postgres_envvars</span><span class="op">(</span><span class="op">)</span><span class="op">$</span><span class="va">host</span> <span class="co"># "localhost"</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "localhost"</span>
<span class="r-in"><span> <span class="fu">get_postgres_envvars</span><span class="op">(</span>host <span class="op">=</span> <span class="st">"postgres"</span><span class="op">)</span><span class="op">$</span><span class="va">host</span> <span class="co"># still "localhost"</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "localhost"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="co"># To override a set variable, edit the returned list before using it</span></span></span>
<span class="r-in"><span> <span class="va">con_parms</span> <span class="op">&lt;-</span> <span class="fu">get_postgres_envvars</span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span> <span class="va">con_parms</span><span class="op">$</span><span class="va">host</span> <span class="co"># "localhost"</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "localhost"</span>
<span class="r-in"><span> <span class="va">con_parms</span><span class="op">$</span><span class="va">host</span> <span class="op">&lt;-</span> <span class="st">"postgres"</span></span></span>
<span class="r-in"><span> <span class="co"># db.open(con_parms)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PGHOST <span class="op">=</span> <span class="va">host</span><span class="op">)</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David LeBauer, Mike Dietze, Rob Kooper, Shawn Serbin, Elizabeth Cowdery, Ankur Desai, Istem Fer, Alexey Shiklomanov, Tony Gardella, Chris Black, Liam Burke, Ryan Kelly, Dan Wang, Carl Davidson, Xiaohui Feng, Shashank Singh.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

