<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download NOAA GEFS Weather Data — download.NOAA_GEFS • PEcAn.data.atmosphere</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download NOAA GEFS Weather Data — download.NOAA_GEFS"><meta name="description" content="Download NOAA GEFS Weather Data"><meta property="og:description" content="Download NOAA GEFS Weather Data"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PEcAn.data.atmosphere</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.9.1.9000</small>

    <a href="../index.html" style="padding: 0em 1em">← Up</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ameriflux_demo.html">PEcAn: Importing Met data from Bondville, IL Ameriflux station</a></li>
    <li><a class="dropdown-item" href="../articles/cfmet_downscaling.html">Met Downscaling</a></li>
    <li><a class="dropdown-item" href="../articles/compare_narr_cruncep_met.html">Comparing met data from various sources</a></li>
    <li><a class="dropdown-item" href="../articles/tdm_downscaling.html">Temporally Downscale Meteorology</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Download NOAA GEFS Weather Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/PecanProject/pecan/blob/develop/modules/data.atmosphere/R/download.NOAA_GEFS.R" class="external-link"><code>R/download.NOAA_GEFS.R</code></a></small>
      <div class="d-none name"><code>download.NOAA_GEFS.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Download NOAA GEFS Weather Data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">download.NOAA_GEFS</span><span class="op">(</span></span>
<span>  <span class="va">site_id</span>,</span>
<span>  <span class="va">lat.in</span>,</span>
<span>  <span class="va">lon.in</span>,</span>
<span>  <span class="va">outfolder</span>,</span>
<span>  start_date <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  end_date <span class="op">=</span> <span class="va">start_date</span> <span class="op">+</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/period.html" class="external-link">days</a></span><span class="op">(</span><span class="fl">16</span><span class="op">)</span>,</span>
<span>  downscale <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-site-id">site_id<a class="anchor" aria-label="anchor" href="#arg-site-id"></a></dt>
<dd><p>The unique ID given to each site. This is used as part of the file name.</p></dd>


<dt id="arg-lat-in">lat.in<a class="anchor" aria-label="anchor" href="#arg-lat-in"></a></dt>
<dd><p>site latitude in decimal degrees</p></dd>


<dt id="arg-lon-in">lon.in<a class="anchor" aria-label="anchor" href="#arg-lon-in"></a></dt>
<dd><p>site longitude in decimal degrees</p></dd>


<dt id="arg-outfolder">outfolder<a class="anchor" aria-label="anchor" href="#arg-outfolder"></a></dt>
<dd><p>Directory where results should be written</p></dd>


<dt id="arg-start-date">start_date<a class="anchor" aria-label="anchor" href="#arg-start-date"></a></dt>
<dd><p>Range of dates/times to be downloaded (default assumed to be time that function is run)</p></dd>


<dt id="arg-end-date">end_date<a class="anchor" aria-label="anchor" href="#arg-end-date"></a></dt>
<dd><p>end date for range of dates to be downloaded (default 16 days from start_date)</p></dd>


<dt id="arg-downscale">downscale<a class="anchor" aria-label="anchor" href="#arg-downscale"></a></dt>
<dd><p>logical, assumed True. Indicates whether data should be downscaled to hourly</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>logical. Download a fresh version even if a local file with the same name already exists?</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional optional parameters, currently ignored</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of data frames is returned containing information about the data file that can be used to locate it later.  Each
data frame contains information about one file.</p>
    </div>
    <div class="section level2">
    <h2 id="information-on-units">Information on Units<a class="anchor" aria-label="anchor" href="#information-on-units"></a></h2>


<p>Information on NOAA weather units can be found below. Note that the temperature is measured in degrees C,
but is converted at the station and downloaded in Kelvin.</p>
    </div>
    <div class="section level2">
    <h2 id="noaa-gefs-general-information">NOAA_GEFS General Information<a class="anchor" aria-label="anchor" href="#noaa-gefs-general-information"></a></h2>


<p>This function downloads NOAA GEFS weather data.  GEFS is an ensemble of 31 different weather forecast models.
A 16 day forecast is available every 6 hours and a 35 day forecast is available every 24 hours.
Both are at 3-hour frequency for the first 10 days of the forecast and 6-hour frequency beyond that.
Each forecast includes information on a total of 8 variables.
These are transformed from the NOAA standard to the internal PEcAn standard.</p>
    </div>
    <div class="section level2">
    <h2 id="data-availability">Data Availability<a class="anchor" aria-label="anchor" href="#data-availability"></a></h2>


<p>NOAA GEFS weather data is available on a rolling 4 day basis.
Dates provided in "start_date" must be within this range.
The end date can be any point after that, but if the end date is beyond 16 days
(35 days for the midnight UTC forecast), only 16 (35) days worth of forecast are retrieved.
Times are rounded down to the previous 6 hour forecast.</p>
<p>NOAA GEFS weather data isn't always posted immediately. Each 16-day forecast takes
approximately three hours to run, and the once-a-day forecasts for days 17-35 are
posted much later (up to 21 hours) than the forecasts for days 0 to 16.
See the [GEFS v12 release announcement](https://www.weather.gov/media/notification/pdf2/scn20-75gefs_v12_changes.pdf)
for details.</p>
    </div>
    <div class="section level2">
    <h2 id="data-save-format">Data Save Format<a class="anchor" aria-label="anchor" href="#data-save-format"></a></h2>


<p>Data is saved in the netcdf format to the specified directory.
  File names reflect the precision of the data to the given range of days.
NOAA.GEFS.willow creek.3.2018-06-08T06:00.2018-06-24T06:00.nc specifies the forecast, using ensemble number 3 at willow creek on
June 6th, 2018 at 6:00 a.m. to June 24th, 2018 at 6:00 a.m.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>https://www.ncdc.noaa.gov/crn/measurements.html</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Quinn Thomas, modified by K Zarada</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span> <span class="fu">download.NOAA_GEFS</span><span class="op">(</span>outfolder<span class="op">=</span><span class="st">"~/Working/results"</span>,</span></span>
<span class="r-in"><span>    lat.in<span class="op">=</span> <span class="fl">45.805925</span>,</span></span>
<span class="r-in"><span>    lon.in <span class="op">=</span> <span class="op">-</span><span class="fl">90.07961</span>,</span></span>
<span class="r-in"><span>    site_id <span class="op">=</span> <span class="fl">676</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mike Dietze, David LeBauer, Carl Davidson, Rob Kooper, Deepak Jaiswal.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

