[{"path":"/articles/ameriflux_demo.html","id":"overview","dir":"Articles","previous_headings":"","what":"Overview","title":"PEcAn: Importing Met data from Bondville, IL Ameriflux station","text":"demonstration PEcAn utilities downloading met data, converting PEcAn-CF format (based Climate Forecasting conventions similar MsTMIP). variables described PEcAn met data documentation. ’ll download 12 years met data Bondville Ameriflux site, SITE_ID US-Bo1. PEcAn.data.atmosphere source code modules/data.atmosphere documentation can found either package?PEcAn.data.atmosphere data.atmosphere package documentation.","code":"library(knitr) library(PEcAn.data.atmosphere)"},{"path":"/articles/ameriflux_demo.html","id":"download-ameriflux-data-for-bondville","dir":"Articles","previous_headings":"Overview","what":"Download Ameriflux data for Bondville","title":"PEcAn: Importing Met data from Bondville, IL Ameriflux station","text":"","code":"download.Ameriflux(sitename = \"US-Bo1\", outfolder = \"/tmp/\",                     start_date = \"1996-01-01\", end_date = \"2008-04-10\")"},{"path":"/articles/ameriflux_demo.html","id":"convert-to-pecan-cf-format","dir":"Articles","previous_headings":"Overview","what":"Convert to PEcAn-CF format","title":"PEcAn: Importing Met data from Bondville, IL Ameriflux station","text":"","code":"met2CF.Ameriflux(in.path = \"/tmp/\", in.prefix = \"US-Bo1\", outfolder = \"/tmp/out/\",                   start_date = \"1996-01-01\", end_date = \"2008-04-10\")"},{"path":"/articles/ameriflux_demo.html","id":"concatenate-years","dir":"Articles","previous_headings":"Overview","what":"Concatenate years","title":"PEcAn: Importing Met data from Bondville, IL Ameriflux station","text":"NB: required within PEcAn; used convenience. See documentation NCO ncrcat function.","code":"system(\"ncrcat -O -h /tmp/out/US-Bo1.199[6789].nc /tmp/out/US-Bo1.200[12348678].nc /tmp/out/US-Bo11996-2008.nc\")"},{"path":"/articles/ameriflux_demo.html","id":"load","dir":"Articles","previous_headings":"Overview","what":"Load","title":"PEcAn: Importing Met data from Bondville, IL Ameriflux station","text":"Using load.cfmet convenience function. Ameriflux provided 30 min intervals. needed finer resolution, see ?cfmet.downscale.time (works subdaily daily data). cfmet.upscale.time function, straightforward implement needed.","code":"bondville.nc <- nc_open(\"/tmp/out/US-Bo11996-2008.nc\") bondville.cfmet <- load.cfmet(bondville.nc, lat = 40.0061988830566, lon = -88.290397644043, start.date = \"1996-08-25\", end.date = \"2008-04-10\")[!is.na(air_pressure)] library(\"ggplot2\", logical.return = TRUE)  || stop(\"Skipping this chunk because ggplot2 not found\")  theme_set(theme_tufte()) p1 <- ggplot() + geom_line(data = bondville.cfmet, aes(x = date, y = surface_downwelling_shortwave_flux_in_air)) + ylab(paste(bondville.nc$var$surface_downwelling_shortwave_flux_in_air$longname, bondville.nc$var$surface_downwelling_shortwave_flux_in_air$units))  p2 <- ggplot() + geom_line(data = bondville.cfmet, aes(x = date, y = surface_downwelling_longwave_flux_in_air)) +   ylab(paste(bondville.nc$var$surface_downwelling_longwave_flux_in_air$longname, bondville.nc$var$surface_downwelling_longwave_flux_in_air$units))  p3 <- ggplot() + geom_line(data = bondville.cfmet, aes(x = date, y = surface_downwelling_photosynthetic_photon_flux_in_air)) + ylab(\"PAR umol/m2/s\")  p4 <- ggplot() + geom_line(data = bondville.cfmet, aes(x = date, y = air_pressure)) +     ylab(paste(bondville.nc$var$air_pressure$longname, bondville.nc$var$air_pressure$units))  p5 <- ggplot() + geom_line(data = bondville.cfmet, aes(x = date, y = air_temperature )) +     ylab(paste(bondville.nc$var$air_temperature$longname, bondville.nc$var$air_temperature$units))  p6 <- ggplot(data = bondville.cfmet, aes(x = date)) +    geom_line(aes(y = wind_speed)) +    #geom_line(aes(y = northward_wind), color = 'blue', alpha = 0.3) +    #geom_line(aes(y = eastward_wind), color = 'red', alpha = 0.3) +    #ggtitle(\"wind speed: scalar (black) north vector (blue) and east vector (red) \") +     ylab(paste(bondville.nc$var$wind_speed$longname, bondville.nc$var$wind_speed$units))  p7 <- ggplot() + geom_line(data = bondville.cfmet, aes(x = date, y = relative_humidity )) +     ylab(paste(bondville.nc$var$relative_humidity$longname, bondville.nc$var$relative_humidity$units))  p8 <- ggplot() + geom_line(data = bondville.cfmet, aes(x = date, y = specific_humidity )) +     ylab(paste(bondville.nc$var$specific_humidity$longname, bondville.nc$var$specific_humidity$units))  p9 <- ggplot() + geom_line(data = bondville.cfmet, aes(x = date, y = precipitation_flux))  +    ylab(paste(bondville.nc$var$ precipitation_flux$longname, bondville.nc$var$precipitation_flux$units))   plots <- list(p1, p2, p3, p4, p5, p6, p7, p8, p9)"},{"path":[]},{"path":[]},{"path":"/articles/ameriflux_demo.html","id":"convert-to-biocro-model-format","dir":"Articles","previous_headings":"Overview","what":"Convert to BioCro Model format","title":"PEcAn: Importing Met data from Bondville, IL Ameriflux station","text":"use data, can convert model specific format","code":"library(PEcAn.BIOCRO) # met2model.BioCro uses the following bondville.biocromet <- cf2biocro(bondville.cfmet, longitude = -88.0, zulu2solarnoon = TRUE)  # write as csv for sharing  write.csv(bondville.biocromet, \"../soy/data/bondville_1996-2008.csv\", row.names = FALSE)"},{"path":[]},{"path":"/articles/cfmet_downscaling.html","id":"subdaily-data","dir":"Articles","previous_headings":"Met Downscaling","what":"Subdaily Data","title":"Met Downscaling","text":"examples: NARR 3 hourly CRU-NCEP 6 hourly","code":""},{"path":"/articles/cfmet_downscaling.html","id":"extract","dir":"Articles","previous_headings":"Met Downscaling > Subdaily Data","what":"Extract","title":"Met Downscaling","text":"TODO: urbana_subdaily_test now lives test folder, extdata","code":"library(PEcAn.data.atmosphere) subdaily.nc <- ncdf4::nc_open(system.file(\"extdata/urbana_subdaily_test.nc\", package = \"PEcAn.data.atmosphere\")) subdaily.cf <- load.cfmet(met.nc = subdaily.nc, lat = 39.75, lon = -87.25, start.date = \"1979-01-01\", end.date = \"1979-06-30\")"},{"path":"/articles/cfmet_downscaling.html","id":"downscale","dir":"Articles","previous_headings":"Met Downscaling > Subdaily Data","what":"Downscale","title":"Met Downscaling","text":"","code":"hourly.cf <- cfmet.downscale.time(cfmet = subdaily.cf)"},{"path":[]},{"path":[]},{"path":"/articles/compare_narr_cruncep_met.html","id":"comparing-met-data-from-various-sources","dir":"Articles","previous_headings":"","what":"Comparing met data from various sources","title":"Comparing met data from various sources","text":"(code chunks set eval=FALSE vignette building throwing errors. TODO: Debug re-enable chunks)","code":""},{"path":"/articles/compare_narr_cruncep_met.html","id":"sources","dir":"Articles","previous_headings":"Comparing met data from various sources","what":"Sources:","title":"Comparing met data from various sources","text":"point location (40.08o^o N, -88.2o^o W), energy farm, Urbana, IL 0.3o^o grid daily 1979-2013 0.25o^o grid 3-hourly 1979-2010 0.5o^o grid 6 hourly 1901-2010 input record BETYdb: https://www.betydb.org/inputs/280","code":""},{"path":"/articles/compare_narr_cruncep_met.html","id":"variables","dir":"Articles","previous_headings":"Comparing met data from various sources","what":"Variables","title":"Comparing met data from various sources","text":"RH / Relative Humidity (%) PAR / Solar Radiation (umol/h/m2) Temperature (C) Wind Speed (m/s) Precipitation (mm/h) Note obviously error downscaling method used generate hourly NARR daily. obsolete method (since now sub-daily, going correct , version weachDT currently PEcAn.data.atmosphere) Comparing ‘data’ (ebifarm) gridded products TODO: clean figure titles, labels, write explanations","code":"library(PEcAn.data.atmosphere) # library(data.table) library(ggplot2, logical.return = TRUE) || stop(\"this vignette requires ggplot2\") theme_set(theme_bw()) data(narr_cruncep_ebifarm)  knitr::opts_chunk$set(echo=FALSE, cache = TRUE, comment=NA, tidy=TRUE, warning=FALSE, results = 'hide',                        fig.width = 10, fig.height = 4)"},{"path":"/articles/compare_narr_cruncep_met.html","id":"extracting-data","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Extracting data","title":"Comparing met data from various sources","text":"data biocluster.igb.illinois.edu, 10-100s GB. Scripts used download convert data PEcAn CF format, optimized time series extraction, GitHub ebimodeling/model-drivers.","code":"mkdir ~/testmet/ ncks -O -d lon,-76.75,-76.25 -d lat,2.75,3.25 /home/groups/ebimodeling/met/narr/threehourly_32km/1979_2013.nc ~/testmet/narr32km_champaign.nc  ncks -O -d lon,-76.75,-76.25 -d lat,2.75,3.25 /home/groups/ebimodeling/met/narr/threehourly/all.nc ~/testmet/narr_champaign.nc  ncks -O -d lon,-76.75,-76.25 -d lat,2.75,3.25 /home/groups/ebimodeling/met/cruncep/all.nc ~/testmet/cruncep_champaign.nc Lat <- 40.08 Lon <- -88.2     narr <- data.table(getNARRforBioCro(lat = Lat, lon = Lon, year = 2010))  ## NARR 3 hourly met.nc <- nc_open(\"/home/groups/ebimodeling/met/narr/threehourly/all/all.nc\") narr3h <- get.weather(lat = Lat, lon =Lon, met.nc = met.nc, start.date = \"2010-01-01\", end.date=\"2010-12-31\") ###HACK narr3h$RH <- narr3h[,qair2rh(qair = RH, temp = DailyTemp.C)]  met.nc <- nc_open(\"/home/groups/ebimodeling/met/cruncep/vars2/all.nc\") cruncep <- get.weather(lat = Lat, lon =Lon, met.nc = met.nc, start.date = \"2010-01-01\", end.date=\"2010-12-31\") ###HACK cruncep$RH <- cruncep[,qair2rh(qair = RH, temp = DailyTemp.C)]  ebifarm <- data.table(read.csv(\"/home/groups/ebimodeling/ebifarm_met_2009_2011.csv\"), key = \"yeardoytime\") ebifarm.sun <- data.table(read.csv(\"/home/groups/ebimodeling/ebifarm_flux_2010.csv\"), key = \"yeardoytime\") ebifarm <- merge(ebifarm, ebifarm.sun[,list(yeardoytime, solar = PARDown_Avg)])  time <- ebifarm[,list(year = substr(yeardoytime, 1, 4), doy = substr(yeardoytime, 5,7), hour = paste0(substr(yeardoytime, 8,9), ifelse(substr(yeardoytime, 10,10) == \"0\", \".0\", \".5\")))] time <- data.table(sapply(time, as.numeric)) ebifarm <- cbind(time, ebifarm[,list(Temp = Tair_f, RH = RH_f, precip = rain, wind = ws, solar = solar)]) ebifarm <- ebifarm[year == 2010 & !grepl(\".5\", hour)]  getdate <- function(dataset, timezone = hours(0)){     date <- ymd_hms(\"2009-12-31 00:00:00\") + days(dataset$doy) + hours(dataset$hour) + timezone     return(data.table(cbind(date, dataset))) } ebifarm <- getdate(ebifarm) narr <- getdate(narr) narr3h <- getdate(narr3h, timezone = hours(-6)) cruncep <- getdate(cruncep, timezone = hours(-6))  cruncep$source <- \"cruncep\" narr$source <- \"narr\" narr3h$source <- \"narr3h\" ebifarm$source <- \"ebifarm\" met <- rbind(cruncep[,list(source, date, temp = DailyTemp.C, RH, wind = WindSpeed, precip, solar = solarR)],              narr[,list(source, date, temp = Temp, RH, wind = WS, precip, solar = SolarR)],              narr3h[,list(source, date, temp = DailyTemp.C, RH, wind = WindSpeed, precip, solar = solarR)],              ebifarm[,list(source, date, temp = Temp, RH = RH/100, wind, precip, solar = solar)])  met$source <- factor(met$source,          levels = c(\"ebifarm\", \"narr3h\", \"narr\", \"cruncep\"))"},{"path":"/articles/compare_narr_cruncep_met.html","id":"solar-radiation-par-vs-temp","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Solar Radiation (PAR) vs Temp","title":"Comparing met data from various sources","text":"","code":"ggplot() + geom_point(data = met, aes(solar, temp, color = month(date)), alpha = 0.1) +    facet_wrap(~source, nrow=1) +    scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\"))  ## ggplot() + geom_point(data = met, aes(solar, temp, color = hour(date)), alpha = 0.1) + facet_wrap(~source, nrow=1) + scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\"))"},{"path":"/articles/compare_narr_cruncep_met.html","id":"rh-vs-temp","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"RH vs Temp","title":"Comparing met data from various sources","text":"","code":"ggplot() + geom_point(data = met, aes(RH, temp, color = month(date)), alpha = 0.1) +    facet_wrap(~source, nrow=1) +    scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\"))"},{"path":"/articles/compare_narr_cruncep_met.html","id":"solar-radiation-and-precipitation-narr-daily-vs-3-hourly","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Solar Radiation and Precipitation: NARR daily vs 3 hourly","title":"Comparing met data from various sources","text":"","code":"ggplot() + geom_point(data = met[solar > 1 & precip > 0.1], aes(solar, precip, color = month(date)), alpha = 0.1) +    facet_wrap(~source, nrow=1) +    scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\")) +    scale_x_log10() + scale_y_log10()"},{"path":"/articles/compare_narr_cruncep_met.html","id":"precipitation-v-temperature","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Precipitation v Temperature","title":"Comparing met data from various sources","text":"","code":"ggplot() + geom_point(data = met, aes(precip, temp, color = month(date)), alpha = 0.1) +    facet_wrap(~source, nrow=1) +    scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\")) +    scale_x_log10()"},{"path":"/articles/compare_narr_cruncep_met.html","id":"compare-solar-radiation","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Compare Solar Radiation","title":"Comparing met data from various sources","text":"","code":"s <- met[,list(date, day = yday(date), solar, source )] s <- s[,list(date = min(date), solar = max(solar)), by = 'day,source']   allsolar <- merge(ebifarm[,list(obs = max(solar)),by=date],                   met[source == \"narr\",list(narr=max(solar)),by=date],                   by='date') allsolar <- merge(allsolar,    met[source == \"cruncep\",list(cruncep=max(solar), day = min(date)),key=date],by='date') allsolar <- merge(allsolar,    met[source == \"narr3h\",list(narr3h=max(solar), day = min(date)),key=date],by='date') allsolar$day <- yday(allsolar$date)  ggplot() + geom_point(data = met[month(date) >5 & month(date)<9 & solar > 100], aes(date, solar, color = hour(date)), alpha = 0.1) +    facet_wrap(~source, nrow=1) +    scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\")) +    scale_y_log10()"},{"path":"/articles/compare_narr_cruncep_met.html","id":"max-solar-radiation-for-june-1-aug31-2010","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Max Solar Radiation for June 1-Aug31 2010","title":"Comparing met data from various sources","text":"","code":"maxsolarplot <- ggplot() +     geom_line(data = s, aes(date, solar, color = source)) +     xlim(ymd(\"2010-06-01\"), ymd(\"2010-08-31\")) + ggtitle(\"Max Daily PAR\") print(maxsolarplot)"},{"path":"/articles/compare_narr_cruncep_met.html","id":"max-solar-radiation-par-model-v-obs","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Max Solar Radiation (PAR) Model v OBS","title":"Comparing met data from various sources","text":"","code":"maxsolar <- allsolar[,list(obs=max(obs),cruncep=max(cruncep), narr = max(narr), narr3h=max(narr3h), date = min(date)), by = day]  narrsolar <- ggplot() + geom_point(data = maxsolar, aes(obs, narr, color = month(date)), alpha = 0.3)+ scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\"))+ geom_line(aes(0:2000, 0:2000)) + xlim(c(0,2100)) + ylim(c(0,2100))  cruncepsolar <- ggplot() + geom_point(data = maxsolar, aes(obs, cruncep, color = month(date)), alpha = 0.3) + geom_line(aes(0:2000, 0:2000)) +  scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\"))+ geom_line(aes(0:2000, 0:2000)) + xlim(c(0,2100)) + ylim(c(0,2100))  narr3hsolar <- ggplot() + geom_point(data = maxsolar, aes(obs, narr3h, color = month(date)), alpha = 0.3)+ scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\"))+ geom_line(aes(0:2000, 0:2000))  +xlim(c(0,2100)) + ylim(c(0,2100))  weachnarr_narr3h <- ggplot() +     geom_point(data = maxsolar, aes(narr, narr3h, color = month(date)))+     scale_color_gradientn(colours = c(\"Red\", \"Orange\", \"Yellow\", \"Green\", \"Blue\"))+     geom_line(aes(0:2000, 0:2000)) + ggtitle(\"Weach NARR v. 3 hourly NARR\") +xlim(c(0,2100)) + ylim(c(0,2100)) gridExtra::grid.arrange(   narrsolar,   narr3hsolar,    cruncepsolar,   ncol = 3)"},{"path":"/articles/compare_narr_cruncep_met.html","id":"par-residuals-model---obs","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"PAR residuals (model - obs)","title":"Comparing met data from various sources","text":"","code":"solarresiduals <- ggplot(data=allsolar[narr+obs>100]) +     geom_point(aes(date, narr - obs), alpha = 0.1, color = \"blue\") +     geom_point(aes(date, narr3h - obs), alpha = 0.1, color = \"red\") +     geom_point(aes(date, cruncep - obs), alpha = 0.1, color = \"green\") + #    geom_hline(aes(0,1))+     geom_smooth(aes(date, narr - obs), alpha = 0.5, color = \"blue\") +     geom_smooth(aes(date, narr3h - obs), alpha = 0.5, color = \"red\") +     geom_smooth(aes(date, cruncep - obs), alpha = 0.5, color = \"green\") +     geom_hline(aes(date,  rep(0, length(date))))+     ggtitle(\"observed vs. modeled solar radiation:\\n daily narr / weach (blue), cruncep 6 hourly (green), narr 3hourly (red)\") +     ylab(\"Modeled - Observed Solar Radiation (umol / h )\")  print(solarresiduals)"},{"path":"/articles/compare_narr_cruncep_met.html","id":"correlations-of-daily-max-solar-radiation","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Correlations of daily max solar radiation","title":"Comparing met data from various sources","text":"","code":"library(GGally) ggpairs(maxsolar[,list(obs, narr3h, narr, cruncep)])"},{"path":"/articles/compare_narr_cruncep_met.html","id":"compare-daily-and-3hourly-downscaled-narr","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Compare daily and 3hourly downscaled NARR","title":"Comparing met data from various sources","text":"","code":"weachnarr_narr3h"},{"path":"/articles/compare_narr_cruncep_met.html","id":"multiple-variables","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Multiple variables","title":"Comparing met data from various sources","text":"","code":"### Generate some plots to compare August   rh <- ggplot() +     geom_line(data = met, aes(date, RH, color = source)) +     xlim(ymd(\"2010-08-01\"), ymd(\"2010-08-31\")) + ggtitle(\"Relative Humidity (0-1)\")  precip <- ggplot() +     geom_line(data = met, aes(date, precip, color = source)) +     xlim(ymd(\"2010-08-01\"), ymd(\"2010-08-31\")) + ggtitle(\"Precipitation mm/d\")  temp <- ggplot() +     geom_line(data = met, aes(date, temp, color = source)) +     xlim(ymd(\"2010-08-01\"), ymd(\"2010-08-31\")) + ggtitle(\"Temperature C\") wind <- ggplot() +     geom_line(data = met, aes(date, wind, color = source)) +     xlim(ymd(\"2010-08-01\"), ymd(\"2010-08-31\")) + ggtitle(\"Wind Speed m/s\")  solar <- ggplot() +     geom_line(data = met, aes(date, solar, color = source)) +     xlim(ymd(\"2010-08-01\"), ymd(\"2010-08-31\")) + ggtitle(\"PAR\")  print(gridExtra::grid.arrange(rh, precip, temp, wind, solar, ncol = 1))"},{"path":"/articles/compare_narr_cruncep_met.html","id":"some-sanity-checks-on-variables","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"Some sanity checks on variables","title":"Comparing met data from various sources","text":"Temperature: RH Total Precip","code":"kable(met[,list(min = min(temp), mean = mean(temp), max = max(temp)), by = source]) kable(met[,list(min = min(RH*100), mean = mean(RH*100), max = max(RH*100)), by = source]) kable(met[,list(total=sum(precip)), by = source])"},{"path":"/articles/compare_narr_cruncep_met.html","id":"more-diagnostic-plots","dir":"Articles","previous_headings":"Comparing met data from various sources > Variables","what":"More diagnostic plots","title":"Comparing met data from various sources","text":"need print one …","code":"obs <- merge(met[!source == \"ebifarm\"], met[source == \"ebifarm\"], by = \"date\") obs$yday <- yday(obs$date) dailyprecip <- obs[,list(precip.x = mean(precip.x), precip.y = mean(precip.y)), by = 'source.x,yday']  gridExtra::grid.arrange( ggplot(data = obs, aes(date, RH.x-RH.y, color = source.x)) +     geom_point(alpha = 0.1) +     geom_smooth() + geom_hline(aes(date,0)) + ggtitle(\"RH\"),  ggplot(data = obs, aes(date, temp.x-temp.y, color = source.x)) +     geom_point(alpha = 0.1) +     geom_smooth() + geom_hline(aes(date,0)) + ggtitle(\"Temperature C\"),   ggplot(data = obs, aes(date, solar.x-solar.y, color = source.x)) +     geom_point(alpha = 0.1) +     geom_smooth() + geom_hline(aes(date,0)) + ggtitle(\"Solar Radiation umol/h/m2\"),  ggplot(data = obs, aes(date, wind.x-wind.y, color = source.x)) +     geom_point(alpha = 0.1) +     geom_smooth() + geom_hline(aes(date,0)) + ggtitle(\"Wind m/s\"), ggplot(data = dailyprecip, aes(yday, precip.x-precip.y, color = source.x))+ geom_point(alpha = 0.1) +     geom_smooth() + geom_hline(aes(yday,0)) +     ylim(c(-0.5,0.5))+ ggtitle(\"Precip (daily average)\"), ncol = 1 )   met$yday <- yday(met$date) dailyprecip2 <- met[,list(precip = mean(precip)), by = 'source,yday'] gridExtra::grid.arrange( ggplot(data = met, aes(date, RH, color = source)) +   geom_point(alpha = 0.1) +   geom_smooth() + geom_hline(aes(date,0)) + ggtitle(\"RH\"),  ggplot(data = met[precip > 0], aes(date, temp, color = source)) +   geom_point(alpha = 0.1) +   geom_smooth() + geom_hline(aes(date,0)) + ggtitle(\"Temperature C\"),  ggplot(data = met, aes(date, solar, color = source)) +   geom_point(alpha = 0.1) +   geom_smooth() + geom_hline(aes(date,0)) + ggtitle(\"Solar Radiation umol/h/m2\"),  ggplot(data = met, aes(date, wind, color = source)) +   geom_point(alpha = 0.1) +   geom_smooth() + ggtitle(\"Wind m/s\"),   ggplot(data = dailyprecip2, aes(yday, precip, color = source))+ geom_point(alpha = 0.1) +   geom_smooth()+   ylim(c(-0.5,0.5))+ ggtitle(\"Precip (daily average)\"), ncol = 1 )"},{"path":"/articles/tdm_downscaling.html","id":"subdaily-training-data","dir":"Articles","previous_headings":"","what":"Subdaily Training Data","title":"Temporally Downscale Meteorology","text":"Examples: Fluxnet2015 30-minute/hourly Ameriflux 30-minute/hourly","code":""},{"path":"/articles/tdm_downscaling.html","id":"extract-training-data-and-merge-all-years-into-1-file","dir":"Articles","previous_headings":"","what":"Extract Training Data and Merge All Years Into 1 File","title":"Temporally Downscale Meteorology","text":"","code":"library(PEcAn.data.atmosphere) library(PEcAn.DB)  # Download the Fluxnet2015 file sitename   <- 'Niwot Ridge Forest/LTER NWT1' lat        <- 40.0329 lon        <- -105.546 start_date <- '2000/01/01' end_date   <- '2014/12/31' outfolder  <- \"~/Example\" # TODO show where `bety` comes from con <- db.open(params = bety) format    <- query.format.vars(input.id = 5000000005, bety = con) in.prefix <- 'FLX_US-NR1_FLUXNET2015_SUBSET_HH_1998-2014_1-3' download.Fluxnet2015(sitename, lat, lon, start_date, end_date, outfolder, username = 'pecan', overwrite = FALSE)  # Convert the data to CF metadata standards met2CF.csv(in.path = file.path(outfolder), in.prefix, outfolder = file.path(outfolder, \"CF\"), start_date, end_date, format, lat, lon)  # Fill the gaps in the flux tower dataset metgapfill(lst = -7, in.path = file.path(outfolder, \"CF\"), in.prefix, outfolder = file.path(outfolder, \"gapfill\"), start_date, end_date)  # Merge the individual years of the gapfilled NC files together nc.merge(outfolder = file.path(outfolder, \"training_data\"), in.path = file.path(outfolder, \"gapfill\"), in.prefix, start_date, end_date, upscale = \"hour\")"},{"path":"/articles/tdm_downscaling.html","id":"generate-linear-regression-models-from-training-data","dir":"Articles","previous_headings":"","what":"Generate Linear Regression Models From Training Data","title":"Temporally Downscale Meteorology","text":"Note: requires ~ 120 GB space using entire training dataset","code":"in.prefix      <- \"US-NR1\" dat.train.file <- \"~/Example/training_data/FLX_US-NR1_FLUXNET2015_SUBSET_HH_1998-2014_1-3_dat.train.nc\" n.beta         <- 10 # Number of betas for the linear regression model to create, we'll choose 10 for time's sake day.window     <- 5  # Number of days around a specific timestamp to gather statistics from (at the same timestamp) gen.subdaily.models(outfolder = dir.create(outfolder, \"lm_models_base\"), dat.train.file, in.prefix, n.beta, day.window)"},{"path":"/articles/tdm_downscaling.html","id":"coarse-data-to-downscale","dir":"Articles","previous_headings":"","what":"Coarse Data to Downscale","title":"Temporally Downscale Meteorology","text":"Examples: MACA daily CRU-NCEP 6 hourly","code":""},{"path":"/articles/tdm_downscaling.html","id":"extract-data-we-want-to-downscale","dir":"Articles","previous_headings":"","what":"Extract Data We Want To Downscale","title":"Temporally Downscale Meteorology","text":"","code":"start_date      <- \"2020-01-01\" end_date        <- \"2020-12-31\" site_id         <- 772 model           <- \"BNU-ESM\" scenario        <- \"rcp85\" ensemble_member <- \"r1i1p1\" download.MACA(outfolder, start_date, end_date, site_id, model, scenario, ensemble_member)"},{"path":"/articles/tdm_downscaling.html","id":"predict-subdaily-data-using-statistics-from-training-data","dir":"Articles","previous_headings":"","what":"Predict Subdaily Data Using Statistics From Training Data","title":"Temporally Downscale Meteorology","text":"","code":"in.path        <- \"~/Example/MACA_site_0-772\" in.prefix      <- \"MACA.BNU-ESM.rcp85.r1i1p1\" # this is the data we are going to downscale lm.models.base <- \"~/Example/lm_model_output\" # where we stored the lm models n.ens          <- 3 # number of ensemble members we want to generate predict_subdaily_met(outfolder = file.path(outfolder, \"downscaled_data\"), in.path, in.prefix, lm.models.base, n.ens, start_date, end_date)"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mike Dietze. Author. David LeBauer. Author, maintainer. Carl Davidson. Author. Rob Kooper. Author. Deepak Jaiswal. Author. Chris Black. Contributor. University Illinois, NCSA. Copyright holder.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Dietze M, LeBauer D, Davidson C, Kooper R, Jaiswal D (2026). PEcAn.data.atmosphere: PEcAn Functions Used Managing Climate Driver Data. R package version 1.9.1.9000, https://pecanproject.github.io.","code":"@Manual{,   title = {PEcAn.data.atmosphere: PEcAn Functions Used for Managing Climate Driver Data},   author = {Mike Dietze and David LeBauer and Carl Davidson and Rob Kooper and Deepak Jaiswal},   year = {2026},   note = {R package version 1.9.1.9000},   url = {https://pecanproject.github.io}, }"},{"path":"/index.html","id":"pecan-functions-for-processing-meteorological-data","dir":"","previous_headings":"","what":"PEcAn Functions Used for Managing Climate Driver Data","title":"PEcAn Functions Used for Managing Climate Driver Data","text":"Converts meteorological products PEcAn-CF formated netCDF files.","code":""},{"path":"/index.html","id":"supported-formats","dir":"","previous_headings":"","what":"Supported Formats","title":"PEcAn Functions Used for Managing Climate Driver Data","text":"Current list input meteorological formats supported, functions named download.<source> met2CF.<source>. NCEP NARR Ameriflux FACE ALMA NOAA GEFS arbitrary csv files ICOS","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"PEcAn Functions Used for Managing Climate Driver Data","text":"PEcAn.data.atmosphere package ‘standalone’.","code":"library(devtools) install_github(\"pecanproject/pecan/modules/data.atmosphere\")"},{"path":"/index.html","id":"documentation","dir":"","previous_headings":"","what":"Documentation","title":"PEcAn Functions Used for Managing Climate Driver Data","text":"Package Documentation Vignettes","code":""},{"path":"/index.html","id":"pecan-variable-names","dir":"","previous_headings":"","what":"PEcAn variable names","title":"PEcAn Functions Used for Managing Climate Driver Data","text":"updated list, see https://pecanproject.github.io/pecan-documentation/develop/input-standards.html#input-standards General Note: dates database datatime (preferably timezone), datetime passed around PEcAn type POSIXlt.","code":""},{"path":"/index.html","id":"met-data","dir":"","previous_headings":"","what":"Met Data","title":"PEcAn Functions Used for Managing Climate Driver Data","text":"standard met data inputs form: Converters raw standard format go /modules/data.atmosphere/R; converters standard model-specific go models/<mymodel>/R. number common gridded products (NARR, CRUNCEP, ISIMIP), bash scripts converting rechunking repository: https://github.com/ebimodeling/model-drivers; generalized, may merged PEcAn point. Examples: * NARR: * CRUNCEP: * ISIMIP: Names met2CF.<sourcename> met2model.<modelname>.","code":""},{"path":[]},{"path":"/index.html","id":"the-variable-names-should-be-standard_name","dir":"","previous_headings":"","what":"The variable names should be standard_name","title":"PEcAn Functions Used for Managing Climate Driver Data","text":"preferred variables indicated bold wind_direction CF equivalent converted, instead met2CF functions convert wind_direction wind_speed eastward_wind northward_wind variable names MsTMIP, lowercase consistent MsTMIP drivers. standard_name CF-convention standard names units can converted udunits, can vary (e.g. time denominator may change time frequency inputs) soil moisture full column, rather layer, soil_moisture_content standardized files, using CF standard names variable names. example, MsTMIP-CRUNCEP data, variable rain precipitation_rate. want standardize units well part met2CF.<product> step. believe want use CF “canonical” units retain MsTMIP units time CF ambiguous units. key process type met data (site, reanalysis, forecast, climate scenario, etc) exact standard. way every operation (extract, gap fill, downscale, convert model, etc) always exact inputs. make everything else much simpler code allow us avoid lot unnecessary data checking, tests, etc repeated every downstream function.","code":""},{"path":"/reference/AirDens.html","id":null,"dir":"Reference","previous_headings":"","what":"Air Density — AirDens","title":"Air Density — AirDens","text":"estimate air density pressure, temperature, humidity","code":""},{"path":"/reference/AirDens.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Air Density — AirDens","text":"","code":"AirDens(pres, T, rv)"},{"path":"/reference/AirDens.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Air Density — AirDens","text":"pres air pressure (pascals) T air temperature (Kelvin) rv humidity","code":""},{"path":"/reference/AirDens.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Air Density — AirDens","text":"Mike Dietze","code":""},{"path":"/reference/AmeriFlux_met_ensemble.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate AmeriFlux meteorological ensembles — AmeriFlux_met_ensemble","title":"Generate AmeriFlux meteorological ensembles — AmeriFlux_met_ensemble","text":"Downloads AmeriFlux data, applies ERA5 fallback missing radiation soil moisture, performs gap-filling, generates ensembles. function provides complete pipeline raw AmeriFlux data CF-compliant ensemble meteorological files.","code":""},{"path":"/reference/AmeriFlux_met_ensemble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate AmeriFlux meteorological ensembles — AmeriFlux_met_ensemble","text":"","code":"AmeriFlux_met_ensemble(   site_id,   start_date,   end_date,   outfolder,   ameriflux_username = \"pecan\",   ameriflux_useremail = \"@\",   overwrite = FALSE,   verbose = FALSE,   format = NULL,   n_ens = 10,   w_len = 30,   era5_user = NULL,   era5_key = NULL,   threshold = 0.5,   dirs = NULL,   ... )"},{"path":"/reference/AmeriFlux_met_ensemble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate AmeriFlux meteorological ensembles — AmeriFlux_met_ensemble","text":"site_id character. AmeriFlux site identifier (e.g, \"US-Ha1\") 'SITE_ID' field list Ameriflux sites start_date character date. Start date \"YYYY-MM-DD\" format end_date character date. End date \"YYYY-MM-DD\" format outfolder character. Output directory path ensemble files ameriflux_username character. AmeriFlux username data access. ameriflux_useremail character. Email address AmeriFlux authentication (must contain \"@\") overwrite logical. Whether overwrite existing files. Default: FALSE verbose logical. Whether print detailed logs.  Default: FALSE format data frame List. format specifications CF conversion. Default: NULL AmerifluxLBL format Bety record 5000000002. returned PEcAn.DB::query.format.vars(format.id=5000000002, bety = con) n_ens integer. Number ensemble members generate. Default: 10 w_len integer. Window length days. Default: 20 era5_user character. CDS user ID (UID) CDS profile. Required authentication. era5_key character. CDS API key CDS profile. Required authentication. threshold numeric. Coverage threshold (0-1) triggering ERA5 fallback. Default: 0.5 dirs named list. Optional configuration existing data directory paths. Default: NULL ... additional arguments passed download.AmerifluxLBL","code":""},{"path":"/reference/AmeriFlux_met_ensemble.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate AmeriFlux meteorological ensembles — AmeriFlux_met_ensemble","text":"data frame paths generated ensemble files metadata.","code":""},{"path":"/reference/AmeriFlux_met_ensemble.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generate AmeriFlux meteorological ensembles — AmeriFlux_met_ensemble","text":"Akash","code":""},{"path":"/reference/AmeriFlux_met_ensemble.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate AmeriFlux meteorological ensembles — AmeriFlux_met_ensemble","text":"","code":"if (FALSE) { # \\dontrun{ result <- AmeriFlux_met_process(   site_id = \"US-Ha1\",    start_date = \"2010-01-01\",   end_date = \"2010-12-31\",   outfolder = \"/path/to/output\",   ameriflux_username = \"your_username\",   ameriflux_useremail = \"your.email@domain.com\",    format = format,   era5_user = \"your_cds_user\",   era5_key = \"your_cds_api_key\",   n_ens = 5,   verbose = TRUE ) } # }"},{"path":"/reference/Average_ERA5_2_GeoTIFF.html","id":null,"dir":"Reference","previous_headings":"","what":"Average_ERA5_2_GeoTIFF — Average_ERA5_2_GeoTIFF","title":"Average_ERA5_2_GeoTIFF — Average_ERA5_2_GeoTIFF","text":"function helps average ERA5 data based start end dates, convert GeoTIFF file.","code":""},{"path":"/reference/Average_ERA5_2_GeoTIFF.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Average_ERA5_2_GeoTIFF — Average_ERA5_2_GeoTIFF","text":"","code":"Average_ERA5_2_GeoTIFF(start.date, end.date, in.path, outdir)"},{"path":"/reference/Average_ERA5_2_GeoTIFF.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Average_ERA5_2_GeoTIFF — Average_ERA5_2_GeoTIFF","text":"start.date character: start point average data (e.g., 2012-01-01). end.date character: end point average data (e.g., 2021-12-31). .path character: directory ERA5 data stored (named ERA5_YEAR.nc). outdir character: output directory averaged GeoTIFF file generated.","code":""},{"path":"/reference/Average_ERA5_2_GeoTIFF.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Average_ERA5_2_GeoTIFF — Average_ERA5_2_GeoTIFF","text":"character: path exported GeoTIFF file.","code":""},{"path":"/reference/Average_ERA5_2_GeoTIFF.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Average_ERA5_2_GeoTIFF — Average_ERA5_2_GeoTIFF","text":"Dongchen Zhang","code":""},{"path":"/reference/ERA5_met_process.html","id":null,"dir":"Reference","previous_headings":"","what":"Met Processes for ERA5 data — ERA5_met_process","title":"Met Processes for ERA5 data — ERA5_met_process","text":"Met Processes ERA5 data","code":""},{"path":"/reference/ERA5_met_process.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Met Processes for ERA5 data — ERA5_met_process","text":"","code":"ERA5_met_process(   settings,   in.path,   out.path,   write.db = FALSE,   write = TRUE,   ncores = 1 )"},{"path":"/reference/ERA5_met_process.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Met Processes for ERA5 data — ERA5_met_process","text":"settings multi-settings object .path met input path .path output path write.db write Bety database write write settings pecan.xml file outdir settings. ncores numeric: number CPUs parallel compute. Default 1.","code":""},{"path":"/reference/ERA5_met_process.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Met Processes for ERA5 data — ERA5_met_process","text":"write.db True return input IDs physical paths; write.db False return just physical paths extracted ERA5 clim files.","code":""},{"path":"/reference/ERA5_met_process.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Met Processes for ERA5 data — ERA5_met_process","text":"Dongchen Zhang","code":""},{"path":"/reference/align.met.html","id":null,"dir":"Reference","previous_headings":"","what":"align.met — align.met","title":"align.met — align.met","text":"script aligns meteorology datasets temporal resolution debiasing &              temporal downscaling.              Note: output stored memory!              Note: can probably borrow adapt align_data.R Benchmarking module,              much black box moment.","code":""},{"path":"/reference/align.met.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"align.met — align.met","text":"","code":"align.met(   train.path,   source.path,   yrs.train = NULL,   yrs.source = NULL,   n.ens = NULL,   pair.mems = FALSE,   mems.train = NULL,   seed = Sys.Date(),   print.progress = FALSE )"},{"path":"/reference/align.met.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"align.met — align.met","text":"train.path - path dataset used downscale data source.path - data bias-corrected aligned training data (align.met) yrs.train - (optional) specify specific years loaded training data; prevents needing load entire dataset.  NULL, available years loaded. null, vector numbers (can skip problematic years) yrs.source - (optional) specify specific years loaded source data; prevents needing load entire dataset.  NULL, available years loaded. null, vector numbers (can skip problematic years) n.ens - number ensemble members generate save pair.mems - logical stating whether ensemble members paired case ensembles read training source data mems.train - (optional) string ensemble identifiers ensure training data read specific order ensure consistent time series & proper error propagation. null, members training data ensemble randomly selected ordered.  Specifying ensemble members IDs (e.g. CCSM_001, CCSM_002) ensure ensemble members properly identified combined. seed - specify seed random draws can reproduced print.progress - TRUE, prints progress bar","code":""},{"path":"/reference/align.met.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"align.met — align.met","text":"2-layered list (stored memory) containing training source data now matched         temporal resolution specified number ensemble members          - dat.train (training dataset) dat.source (source data downscaled bias-corrected)            lists contain separate data frames time indices available met            variables ensemble members columns","code":""},{"path":"/reference/align.met.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"align.met — align.met","text":"Align meteorology datasets debiasing 1. Assumes training source data *least* daily resolution             dataset consistent temporal resolution read single file             (CF/Pecan format).  example, CMIP5 historical/p1000 runs radiation drivers             monthly resolution temperature daily need reconciled using             one \"met2CF\" \"download\" \"extract\" functions          2. Default file structure: Ensembles members given site set simes housed             common folder site ID.  Right now everything based Christy's             PalEON ensemble ID scheme site ID character string (e.g. HARVARD) followed             SOURCE data family (.e. GCM) string ensemble member ID number             (e.g. 001).  example, file path single daily ensemble member PalEON :             \"~/Desktop/Research/met_ensembles/data/met_ensembles/HARVARD/day/ensembles/bcc-csm1-1_004\"             year separate netcdf file inside .  \"bcc-csm1-1_004\" example             ensemnle member ID might used specifying mems.train.","code":""},{"path":[]},{"path":"/reference/align.met.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"align.met — align.met","text":"Christy Rollinson","code":""},{"path":"/reference/build_cf_variables_table_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct a URL to a specific version of the CF variables table XML — build_cf_variables_table_url","title":"Construct a URL to a specific version of the CF variables table XML — build_cf_variables_table_url","text":"uses sprintf construct URL version number first argument.","code":""},{"path":"/reference/build_cf_variables_table_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct a URL to a specific version of the CF variables table XML — build_cf_variables_table_url","text":"","code":"build_cf_variables_table_url(   version,   url_format_string = paste0(\"http://cfconventions.org/\",     \"Data/cf-standard-names/%d/src/\", \"src-cf-standard-name-table.xml\") )"},{"path":"/reference/build_cf_variables_table_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct a URL to a specific version of the CF variables table XML — build_cf_variables_table_url","text":"version CF variables table version number (integer/numeric) url_format_string format string passed sprintf. contain entire target URL version number replaced \"%d\", string substitutions.","code":""},{"path":"/reference/build_cf_variables_table_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct a URL to a specific version of the CF variables table XML — build_cf_variables_table_url","text":"Complete URL, string","code":""},{"path":"/reference/build_cf_variables_table_url.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Construct a URL to a specific version of the CF variables table XML — build_cf_variables_table_url","text":"Alexey Shiklomanov","code":""},{"path":"/reference/cfmet.downscale.daily.html","id":null,"dir":"Reference","previous_headings":"","what":"Simple, Fast Daily to Hourly Climate Downscaling — cfmet.downscale.daily","title":"Simple, Fast Daily to Hourly Climate Downscaling — cfmet.downscale.daily","text":"Based weach family functions 5x faster weachNEW, requiring metric units (temperature Kelvins input celsius   output, windspeed kph, precip mm, relative humidity fraction). Derived weachDT function BioCro package.","code":""},{"path":"/reference/cfmet.downscale.daily.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simple, Fast Daily to Hourly Climate Downscaling — cfmet.downscale.daily","text":"","code":"cfmet.downscale.daily(dailymet, output.dt = 1, lat)"},{"path":"/reference/cfmet.downscale.daily.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simple, Fast Daily to Hourly Climate Downscaling — cfmet.downscale.daily","text":"dailymet data frame climate variables output.dt output timestep lat latitude (calculating solar radiation)","code":""},{"path":"/reference/cfmet.downscale.daily.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simple, Fast Daily to Hourly Climate Downscaling — cfmet.downscale.daily","text":"weather file subdaily timesteps","code":""},{"path":"/reference/cfmet.downscale.daily.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Simple, Fast Daily to Hourly Climate Downscaling — cfmet.downscale.daily","text":"David LeBauer","code":""},{"path":"/reference/cfmet.downscale.subdaily.html","id":null,"dir":"Reference","previous_headings":"","what":"Subdaily to hourly (or less) downscaling — cfmet.downscale.subdaily","title":"Subdaily to hourly (or less) downscaling — cfmet.downscale.subdaily","text":"Uses simple spline interpolate variables diurnal variability, otherwise uses averaging repeating variables clear diurnal pattern. variables except temperature, negative values set zero.","code":""},{"path":"/reference/cfmet.downscale.subdaily.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subdaily to hourly (or less) downscaling — cfmet.downscale.subdaily","text":"","code":"cfmet.downscale.subdaily(subdailymet, output.dt = 1)"},{"path":"/reference/cfmet.downscale.subdaily.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subdaily to hourly (or less) downscaling — cfmet.downscale.subdaily","text":"subdailymet data frame climate variables queried load.cfmet output.dt output timestep. default one hour","code":""},{"path":"/reference/cfmet.downscale.subdaily.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subdaily to hourly (or less) downscaling — cfmet.downscale.subdaily","text":"weather file subdaily met variables rescaled output time step","code":""},{"path":"/reference/cfmet.downscale.subdaily.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Subdaily to hourly (or less) downscaling — cfmet.downscale.subdaily","text":"David LeBauer","code":""},{"path":"/reference/cfmet.downscale.time.html","id":null,"dir":"Reference","previous_headings":"","what":"Temporal downscaling of daily or subdaily CF met data — cfmet.downscale.time","title":"Temporal downscaling of daily or subdaily CF met data — cfmet.downscale.time","text":"Temporal downscaling daily subdaily CF met data","code":""},{"path":"/reference/cfmet.downscale.time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Temporal downscaling of daily or subdaily CF met data — cfmet.downscale.time","text":"","code":"cfmet.downscale.time(cfmet, output.dt = 1, lat = lat, ...)"},{"path":"/reference/cfmet.downscale.time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Temporal downscaling of daily or subdaily CF met data — cfmet.downscale.time","text":"cfmet data frame CF variables generated load.cfmet output.dt time step (hours) output lat latitude (calculating solar radiation) ... ignored","code":""},{"path":"/reference/cfmet.downscale.time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Temporal downscaling of daily or subdaily CF met data — cfmet.downscale.time","text":"downscaled result","code":""},{"path":"/reference/cfmet.downscale.time.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Temporal downscaling of daily or subdaily CF met data — cfmet.downscale.time","text":"David LeBauer","code":""},{"path":"/reference/check_met_input_file.html","id":null,"dir":"Reference","previous_headings":"","what":"Check a meteorology data file for compliance with the PEcAn standard — check_met_input_file","title":"Check a meteorology data file for compliance with the PEcAn standard — check_met_input_file","text":"Check meteorology data file compliance PEcAn standard","code":""},{"path":"/reference/check_met_input_file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check a meteorology data file for compliance with the PEcAn standard — check_met_input_file","text":"","code":"check_met_input_file(   metfile,   variable_table = pecan_standard_met_table,   required_vars = variable_table %>% dplyr::filter(.data$is_required) %>%     dplyr::pull(\"cf_standard_name\"),   warn_unknown = TRUE )"},{"path":"/reference/check_met_input_file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check a meteorology data file for compliance with the PEcAn standard — check_met_input_file","text":"metfile Path met file check, scalar character. variable_table `data.frame` linking standard names units. Must contain columns \"cf_standard_name\" \"units\". Default [pecan_standard_met_table]. required_vars Character vector required variables. Defaults variables marked required `variable_table`. warn_unknown Logical. `TRUE` (default), throw warning variables `variable_table`. Otherwise, ignore unknown variables.","code":""},{"path":"/reference/check_met_input_file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check a meteorology data file for compliance with the PEcAn standard — check_met_input_file","text":"`data.frame` summarizing results tests.","code":""},{"path":"/reference/check_met_input_file.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Check a meteorology data file for compliance with the PEcAn standard — check_met_input_file","text":"Alexey Shiklomanov","code":""},{"path":"/reference/check_unit.html","id":null,"dir":"Reference","previous_headings":"","what":"Check that the unit of a variable in a NetCDF file is equivalent to the expected unit. — check_unit","title":"Check that the unit of a variable in a NetCDF file is equivalent to the expected unit. — check_unit","text":"Check unit variable NetCDF file equivalent expected unit.","code":""},{"path":"/reference/check_unit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check that the unit of a variable in a NetCDF file is equivalent to the expected unit. — check_unit","text":"","code":"check_unit(variable, nc, variable_table, warn_unknown = TRUE)"},{"path":"/reference/check_unit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check that the unit of a variable in a NetCDF file is equivalent to the expected unit. — check_unit","text":"variable Name target variable, length 1 character nc NetCDF object containing target variable variable_table `data.frame` linking standard names units. Must contain columns \"cf_standard_name\" \"units\". Default [pecan_standard_met_table]. warn_unknown Logical. `TRUE` (default), throw warning variables `variable_table`. Otherwise, ignore unknown variables.","code":""},{"path":"/reference/check_unit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check that the unit of a variable in a NetCDF file is equivalent to the expected unit. — check_unit","text":"`TRUE` unit correct, `try-error` object mismatch.","code":""},{"path":"/reference/check_unit.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Check that the unit of a variable in a NetCDF file is equivalent to the expected unit. — check_unit","text":"Alexey Shiklomanov","code":""},{"path":"/reference/closest_xy.html","id":null,"dir":"Reference","previous_headings":"","what":"Given latitude and longitude coordinates, find NARR x and y indices — closest_xy","title":"Given latitude and longitude coordinates, find NARR x and y indices — closest_xy","text":"Given latitude longitude coordinates, find NARR x y indices","code":""},{"path":"/reference/closest_xy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Given latitude and longitude coordinates, find NARR x and y indices — closest_xy","text":"","code":"closest_xy(slat, slon, infolder, infile)"},{"path":"/reference/closest_xy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Given latitude and longitude coordinates, find NARR x and y indices — closest_xy","text":"slat, slon site location, decimal degrees infolder path folder containing infile infile pattern match filename inside infile. first file matching pattern ending '.nc' used","code":""},{"path":"/reference/closest_xy.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Given latitude and longitude coordinates, find NARR x and y indices — closest_xy","text":"Betsy Cowdery, Ankur Desai","code":""},{"path":"/reference/col2ncvar.html","id":null,"dir":"Reference","previous_headings":"","what":"Create `ncvar` object from variable name — col2ncvar","title":"Create `ncvar` object from variable name — col2ncvar","text":"Create `ncvar` object variable name","code":""},{"path":"/reference/col2ncvar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create `ncvar` object from variable name — col2ncvar","text":"","code":"col2ncvar(variable, dims)"},{"path":"/reference/col2ncvar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create `ncvar` object from variable name — col2ncvar","text":"variable CF variable name dims List NetCDF dimension objects (passed `ncdf4::ncvar_def(..., dim)`)","code":""},{"path":"/reference/col2ncvar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create `ncvar` object from variable name — col2ncvar","text":"`ncvar` object (`ncvar_def`)","code":""},{"path":"/reference/cos_solar_zenith_angle.html","id":null,"dir":"Reference","previous_headings":"","what":"Cosine of Solar Zenith Angle — cos_solar_zenith_angle","title":"Cosine of Solar Zenith Angle — cos_solar_zenith_angle","text":"Calculates cosine solar zenith angle based given parameters. angle crucial determining amount solar radiation reaching point Earth.","code":""},{"path":"/reference/cos_solar_zenith_angle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cosine of Solar Zenith Angle — cos_solar_zenith_angle","text":"","code":"cos_solar_zenith_angle(doy, lat, lon, dt, hr)"},{"path":"/reference/cos_solar_zenith_angle.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cosine of Solar Zenith Angle — cos_solar_zenith_angle","text":"doy Day year. Integer representing day year (1-365). lat Latitude degrees. Positive Northern Hemisphere negative Southern Hemisphere. lon Longitude degrees. Positive East negative West. dt Time interval seconds. Represents duration measurement averaged integrated. hr Hour day (0-23). Specifies specific hour calculation made.","code":""},{"path":"/reference/cos_solar_zenith_angle.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cosine of Solar Zenith Angle — cos_solar_zenith_angle","text":"Numeric value representing cosine solar zenith angle.","code":""},{"path":"/reference/cos_solar_zenith_angle.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Cosine of Solar Zenith Angle — cos_solar_zenith_angle","text":"explanations formulae, see https://web.archive.org/web/20180307133425/http://www.itacanet.org/-sun---source--energy/part-3-calculating-solar-angles/","code":""},{"path":"/reference/cos_solar_zenith_angle.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Cosine of Solar Zenith Angle — cos_solar_zenith_angle","text":"\"Understanding Solar Position Solar Radiation\" - RAMMB: [Link](https://rammb.cira.colostate.edu/wmovl/vrl/tutorials/euromet/courses/english/nwp/n5720/n5720005.htm)","code":""},{"path":"/reference/cos_solar_zenith_angle.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Cosine of Solar Zenith Angle — cos_solar_zenith_angle","text":"Alexey Shiklomanov","code":""},{"path":"/reference/cos_solar_zenith_angle.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cosine of Solar Zenith Angle — cos_solar_zenith_angle","text":"","code":"cos_solar_zenith_angle(doy = 150, lat = 45, lon = -93, dt = 3600, hr = 12) #> [1] 0.3198601"},{"path":"/reference/debias.met.regression.html","id":null,"dir":"Reference","previous_headings":"","what":"debias.met.regression — debias.met.regression","title":"debias.met.regression — debias.met.regression","text":"script debiases one dataset (e.g. GCM, re-analysis product) given another higher              resolution product empirical observations. assumes input annual CF standard              files generate pecan extract download funcitons.","code":""},{"path":"/reference/debias.met.regression.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"debias.met.regression — debias.met.regression","text":"","code":"debias.met.regression(   train.data,   source.data,   n.ens,   vars.debias = NULL,   CRUNCEP = FALSE,   pair.anoms = TRUE,   pair.ens = FALSE,   uncert.prop = \"mean\",   resids = FALSE,   seed = Sys.Date(),   outfolder,   yrs.save = NULL,   ens.name,   ens.mems = NULL,   force.sanity = TRUE,   sanity.tries = 25,   sanity.sd = 8,   lat.in,   lon.in,   save.diagnostics = TRUE,   path.diagnostics = NULL,   parallel = FALSE,   n.cores = NULL,   overwrite = TRUE,   verbose = FALSE )"},{"path":"/reference/debias.met.regression.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"debias.met.regression — debias.met.regression","text":"train.data - training data coming align.met source.data - data bias-corrected aligned training data (align.met) n.ens - number ensemble members generate save source ensemble member vars.debias - met variables debiased? NULL, variables train.data CRUNCEP - flag dataset downscaled CRUNCEP; TRUE, special cases triggered met variables naively gapfilled certain time periods pair.anoms - logical stating whether anomalies year matched pair.ens - logical stating whether ensembles train source data need paired together (uncertainty propogation) uncert.prop - method error propogation child ensemble members 1 ensemble member; options=c(random, mean); randomly strongly encouraged n.ens>1 resids - logical stating whether pass residual data *implemented yet seed - specify seed random draws can reproduced outfolder - directory data go yrs.save - years source data saved; NULL years source data saved ens.name - name attached debiased ensemble ens.mems - labels/numbers attach ensemble members can gradually build bigger ensembles without giant runs ; NULL numbered 1:n.ens force.sanity - (logical) force data meet sanity checks? sanity.tries - many time try predict reasonable value giving ?  want end infinite loop sanity.sd - many standard deviations mean used determine sane outliers (default 8) lat.- latitude site lon.- longitude site save.diagnostics - logical; save diagnostic plots output? path.diagnostics - path diagnostic graphs saved parallel - (experimental) logical stating whether run temporal_downscale_functions.R parallel *Implemented yet n.cores - (experimental) many cores use parallelization *implemented yet overwrite - overwrite existing files? Currently ignored verbose logical: ncdf4 functions print debugging information run?","code":""},{"path":"/reference/debias.met.regression.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"debias.met.regression — debias.met.regression","text":"Debias Meteorology using Multiple Linear Regression Statistically debias met datasets generate ensembles based observed uncertainty","code":""},{"path":[]},{"path":"/reference/debias.met.regression.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"debias.met.regression — debias.met.regression","text":"Christy Rollinson","code":""},{"path":"/reference/debias_met.html","id":null,"dir":"Reference","previous_headings":"","what":"debias_met — debias_met","title":"debias_met — debias_met","text":"debias.met takes input_met debiases based statistics train_met dataset","code":""},{"path":"/reference/debias_met.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"debias_met — debias_met","text":"","code":"debias.met(   outfolder,   input_met,   train_met,   site_id,   de_method = \"linear\",   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/debias_met.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"debias_met — debias_met","text":"outfolder location output stored input_met - source_met dataset altered training dataset NC format. train_met - observed dataset used train modeled dataset NC format site_id BETY site id de_method - select debias method like use, options 'normal', 'linear regression' overwrite logical: replace output file already exists? Currently ignored. verbose logical: ncdf4 ... inputs functions print debugging information run?","code":""},{"path":"/reference/debias_met.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"debias_met — debias_met","text":"James Simkins","code":""},{"path":"/reference/download.Ameriflux.html","id":null,"dir":"Reference","previous_headings":"","what":"download.Ameriflux — download.Ameriflux","title":"download.Ameriflux — download.Ameriflux","text":"Download Ameriflux L2 netCDF files","code":""},{"path":"/reference/download.Ameriflux.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download.Ameriflux — download.Ameriflux","text":"","code":"download.Ameriflux(   sitename,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/download.Ameriflux.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download.Ameriflux — download.Ameriflux","text":"sitename FLUXNET ID site downloaded, used file name prefix. 'SITE_ID' field list Ameriflux sites outfolder location disk outputs stored start_date start date data downloaded. Format YYYY-MM-DD (use year part date) end_date end date data downloaded. Format YYYY-MM-DD (use year part date) overwrite existing files overwritten verbose function verbose ... arguments, currently ignored","code":""},{"path":"/reference/download.Ameriflux.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"download.Ameriflux — download.Ameriflux","text":"Josh Mantooth, Rob Kooper, Ankur Desai","code":""},{"path":"/reference/download.AmerifluxLBL.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Ameriflux LBL CSV files — download.AmerifluxLBL","title":"Download Ameriflux LBL CSV files — download.AmerifluxLBL","text":"download.AmerifluxLBL. Function uses amf_download_base function amerifluxr package download zip-file data. zip-file extracted csv-file stored given outfolder. Details amf_download_base function can found : https://github.com/chuhousen/amerifluxr/blob/master/R/amf_download_base.R","code":""},{"path":"/reference/download.AmerifluxLBL.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Ameriflux LBL CSV files — download.AmerifluxLBL","text":"","code":"download.AmerifluxLBL(   sitename,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   username = \"pecan\",   method,   useremail = \"@\",   data_product = \"BASE-BADM\",   data_policy = \"CCBY4.0\",   ... )"},{"path":"/reference/download.AmerifluxLBL.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Ameriflux LBL CSV files — download.AmerifluxLBL","text":"sitename Ameriflux ID site downloaded, used file name prefix. 'SITE_ID' field list Ameriflux sites outfolder location disk outputs stored start_date start date data downloaded. Format YYYY-MM-DD (use year part date) end_date end date data downloaded. Format YYYY-MM-DD (use year part date) overwrite existing files overwritten verbose function verbose username Ameriflux username method Optional. download_file() function option.  Use set custom programs ncftp useremail Used email, include 'address sign' code functional data_product AmeriFlux data product data_policy Two possible licenses (based site): 'CCBY4.0' 'LEGACY' ... arguments, currently ignored","code":""},{"path":"/reference/download.AmerifluxLBL.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Ameriflux LBL CSV files — download.AmerifluxLBL","text":"Uses Ameriflux LBL JSON API download met data Ameriflux towers CSV format","code":""},{"path":"/reference/download.AmerifluxLBL.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download Ameriflux LBL CSV files — download.AmerifluxLBL","text":"Ankur Desai, Henri Kajasilta based download.Ameriflux.R Josh Mantooth, Rob Kooper, Shawn Serbin","code":""},{"path":"/reference/download.AmerifluxLBL.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Ameriflux LBL CSV files — download.AmerifluxLBL","text":"","code":"if (FALSE) { # \\dontrun{ options(download.ftp.method = \"ncftpget\") result <- download.AmerifluxLBL(\"US-Akn\",\"~/\",\"2011-01-01\",\"2011-12-31\",overwrite=TRUE) } # }"},{"path":"/reference/download.CRUNCEP.html","id":null,"dir":"Reference","previous_headings":"","what":"Download CRUNCEP data — download.CRUNCEP","title":"Download CRUNCEP data — download.CRUNCEP","text":"Download convert CF CRUNCEP single grid point MSTIMIP server using OPENDAP interface","code":""},{"path":"/reference/download.CRUNCEP.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download CRUNCEP data — download.CRUNCEP","text":"","code":"download.CRUNCEP(   outfolder,   start_date,   end_date,   lat.in,   lon.in,   overwrite = FALSE,   verbose = FALSE,   maxErrors = 10,   sleep = 2,   method = \"ncss\",   ... )"},{"path":"/reference/download.CRUNCEP.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download CRUNCEP data — download.CRUNCEP","text":"outfolder Directory results written start_date, end_date Range years retrieve. Format YYYY-MM-DD, year portion used resulting files always contain full year data. lat.site latitude decimal degrees lon.site longitude decimal degrees overwrite logical. Download fresh version even local file name already exists? verbose logical. Passed ncvar_def nc_create control printing debug info maxErrors Maximum times re-try following error accessing netCDF data THREDDS sleep Wait time attempts following THREDDS error method (string) Data access method. `opendap` (default) attempts directly access files via OpenDAP. `ncss` (NetCDF subset) subsets file server, downloads subsetted file `tempfile` reads locally. `opendap` faster works, often fails server issues. `ncss` can much slower, reliable. ... arguments, currently ignored","code":""},{"path":"/reference/download.CRUNCEP.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download CRUNCEP data — download.CRUNCEP","text":"James Simkins, Mike Dietze, Alexey Shiklomanov","code":""},{"path":"/reference/download.ERA5_cds.html","id":null,"dir":"Reference","previous_headings":"","what":"Download ERA5 Climate Data from the Copernicus CDS API — download.ERA5_cds","title":"Download ERA5 Climate Data from the Copernicus CDS API — download.ERA5_cds","text":"Download ERA5 climate data Copernicus Climate Data Store (CDS) API NetCDF files, year year, according user-specified parameters. function saves one NetCDF file per year specified output directory.","code":""},{"path":"/reference/download.ERA5_cds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download ERA5 Climate Data from the Copernicus CDS API — download.ERA5_cds","text":"","code":"download.ERA5_cds(   outfolder,   start_date,   end_date,   extent,   variables,   user,   key,   time = NULL,   dataset = \"reanalysis-era5-single-levels\",   product_type = \"ensemble_members\",   timeout = 36000 )"},{"path":"/reference/download.ERA5_cds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download ERA5 Climate Data from the Copernicus CDS API — download.ERA5_cds","text":"outfolder Character. Directory downloaded NetCDF files saved. start_date character: start date data downloaded. Format YYYY-MM-DD (use year part date) end_date character: end date data downloaded. Format YYYY-MM-DD (use year part date) extent numeric: vector numbers contains bounding box (formatted xmin, xmax, ymin, ymax) (longitude latitude degrees). variables character: vector contains variables downloaded (e.g., c(\"2m_temperature\",\"surface_pressure\")). user Character. CDS user ID (UID) CDS profile. Required authentication. key Character. CDS API key CDS profile. Required authentication. time Character vector NULL. Hours day download (e.g., c(\"00:00\", \"12:00\")). Default NULL download hours. dataset Character. Name CDS dataset use (default: \"reanalysis-era5-single-levels\"). product_type Character. Product type request CDS (default: \"ensemble_members\"). timeout numeric: maximum time (seconds) allowed download data. default 36000 seconds.","code":""},{"path":"/reference/download.ERA5_cds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download ERA5 Climate Data from the Copernicus CDS API — download.ERA5_cds","text":"list element list containing: file File path downloaded NetCDF file. host Host name file downloaded. startdate Start date time data file. enddate End date time data file. mimetype MIME type file (\"application/x-netcdf\"). formatname Format name (\"ERA5_year.nc\").","code":""},{"path":"/reference/download.ERA5_cds.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download ERA5 Climate Data from the Copernicus CDS API — download.ERA5_cds","text":"function requires valid CDS API key ecmwfr package accessing Copernicus Climate Data Store. get Copernicus CDS API key, register https://cds.climate.copernicus.eu/profile. must provide user (UID) key parameters CDS profile. can check \"CC-\" license 'licences' tab profile page.","code":""},{"path":"/reference/download.ERA5_cds.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download ERA5 Climate Data from the Copernicus CDS API — download.ERA5_cds","text":"Dongchen Zhang, Akash","code":""},{"path":"/reference/download.ERA5_cds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download ERA5 Climate Data from the Copernicus CDS API — download.ERA5_cds","text":"","code":"if (FALSE) { # \\dontrun{ # Download ERA5 reanalysis data for 2020 output_dir <- withr::local_tempdir() era5_files <- download.ERA5_cds(   outfolder = output_dir,   start_date = \"2020-01-01\",   end_date = \"2020-06-30\",   extent = c(-72.2215, -72.1215, 42.4878, 42.5878),   variables = c(\"2m_temperature\", \"surface_pressure\"),   user = \"your_cds_user_id\",   key = \"your_cds_api_key\",   product_type = \"reanalysis\" )  # Download ensemble data for specificed hours only era5_files <- download.ERA5_cds(   outfolder = output_dir,   start_date = \"2020-01-01\",   end_date = \"2020-12-31\",   extent = c(-83.05, -82.95, 42.95, 43.05),   variables = \"surface_solar_radiation_downwards\",   user = \"your_cds_user_id\",   key = \"your_cds_api_key\",   time = c(\"00:00\", \"12:00\") ) } # }"},{"path":"/reference/download.FACE.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Raw FACE data from the internet — download.FACE","title":"Download Raw FACE data from the internet — download.FACE","text":"Download Raw FACE data internet","code":""},{"path":"/reference/download.FACE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Raw FACE data from the internet — download.FACE","text":"","code":"download.FACE(   sitename,   outfolder,   start_date,   end_date,   overwrite = FALSE,   method,   ... )"},{"path":"/reference/download.FACE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Raw FACE data from the internet — download.FACE","text":"sitename sitename outfolder location output stored start_date desired start date YYYY-MM-DD end_date desired end date YYYY-MM-DD overwrite overwrite existing files? Default FALSE method Optional. Passed download_file() function.  Use set custom programs ncftp use downloading files FTP sites ... inputs","code":""},{"path":"/reference/download.FACE.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download Raw FACE data from the internet — download.FACE","text":"Betsy Cowdery","code":""},{"path":"/reference/download.Fluxnet2015.html","id":null,"dir":"Reference","previous_headings":"","what":"download.Fluxnet2015 — download.Fluxnet2015","title":"download.Fluxnet2015 — download.Fluxnet2015","text":"Download Fluxnet 2015 CSV files","code":""},{"path":"/reference/download.Fluxnet2015.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download.Fluxnet2015 — download.Fluxnet2015","text":"","code":"download.Fluxnet2015(   sitename,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   username = \"pecan\",   ... )"},{"path":"/reference/download.Fluxnet2015.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download.Fluxnet2015 — download.Fluxnet2015","text":"sitename FLUXNET ID site downloaded, used file name prefix. 'SITE_ID' field list Ameriflux sites outfolder location disk outputs stored start_date start date data downloaded. Format YYYY-MM-DD (use year part date) end_date end date data downloaded. Format YYYY-MM-DD (use year part date) overwrite existing files overwritten verbose function verbose username login name Ameriflux ... arguments, currently ignored","code":""},{"path":"/reference/download.Fluxnet2015.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"download.Fluxnet2015 — download.Fluxnet2015","text":"Ankur Desai, based download.Ameriflux.R Josh Mantooth, Rob Kooper","code":""},{"path":"/reference/download.FluxnetLaThuile.html","id":null,"dir":"Reference","previous_headings":"","what":"download.FluxnetLaThuile — download.FluxnetLaThuile","title":"download.FluxnetLaThuile — download.FluxnetLaThuile","text":"Download Flxunet LaThuile CSV files","code":""},{"path":"/reference/download.FluxnetLaThuile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download.FluxnetLaThuile — download.FluxnetLaThuile","text":"","code":"download.FluxnetLaThuile(   sitename,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   username = \"pecan\",   ... )"},{"path":"/reference/download.FluxnetLaThuile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download.FluxnetLaThuile — download.FluxnetLaThuile","text":"sitename FLUXNET ID site downloaded, used file name prefix. 'SITE_ID' field list Fluxnet LaThuile sites outfolder location disk outputs stored start_date start date data downloaded. Format YYYY-MM-DD (use year part date) end_date end date data downloaded. Format YYYY-MM-DD (use year part date) overwrite existing files overwritten verbose function verbose username registered Fluxnet username, else defaults pecan ... arguments, currently ignored","code":""},{"path":"/reference/download.FluxnetLaThuile.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"download.FluxnetLaThuile — download.FluxnetLaThuile","text":"Ankur Desai","code":""},{"path":"/reference/download.GFDL.html","id":null,"dir":"Reference","previous_headings":"","what":"Download GFDL CMIP5 outputs for a single grid point using OPeNDAP and convert to CF — download.GFDL","title":"Download GFDL CMIP5 outputs for a single grid point using OPeNDAP and convert to CF — download.GFDL","text":"Download GFDL CMIP5 outputs single grid point using OPeNDAP convert CF","code":""},{"path":"/reference/download.GFDL.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download GFDL CMIP5 outputs for a single grid point using OPeNDAP and convert to CF — download.GFDL","text":"","code":"download.GFDL(   outfolder,   start_date,   end_date,   lat.in,   lon.in,   overwrite = FALSE,   verbose = FALSE,   model = \"CM3\",   scenario = \"rcp45\",   ensemble_member = \"r1i1p1\",   ... )"},{"path":"/reference/download.GFDL.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download GFDL CMIP5 outputs for a single grid point using OPeNDAP and convert to CF — download.GFDL","text":"outfolder Directory storing output start_date Start date met (converted via [base::.POSIXlt]) end_date End date met (converted via [base::.POSIXlt]) lat.Latitude coordinate met lon.Longitude coordinate met overwrite Logical: Download fresh version even local file name already exists? verbose Logical, passed ncvar_def nc_create control printing debug info model GFDL model run (options CM3, ESM2M, ESM2G) scenario scenario run (options rcp26, rcp45, rcp60, rcp85) ensemble_member ensemble_member initialize run (options r1i1p1, r3i1p1, r5i1p1) ... arguments, currently ignored","code":""},{"path":"/reference/download.GFDL.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download GFDL CMIP5 outputs for a single grid point using OPeNDAP and convert to CF — download.GFDL","text":"James Simkins, Alexey Shiklomanov, Ankur Desai","code":""},{"path":"/reference/download.GLDAS.html","id":null,"dir":"Reference","previous_headings":"","what":"Download GLDAS data — download.GLDAS","title":"Download GLDAS data — download.GLDAS","text":"Download convert single grid point GLDAS CF single grid point hydro1.sci.gsfc.nasa.gov using OPENDAP interface","code":""},{"path":"/reference/download.GLDAS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download GLDAS data — download.GLDAS","text":"","code":"download.GLDAS(   outfolder,   start_date,   end_date,   site_id,   lat.in,   lon.in,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/download.GLDAS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download GLDAS data — download.GLDAS","text":"outfolder location output stored start_date desired start date end_date desired end date site_id desired site id lat.latitude site lon.longistude site overwrite overwrite existing files? Default FALSE verbose Default FALSE, used input ncdf4::ncvar_def ... inputs","code":""},{"path":"/reference/download.GLDAS.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download GLDAS data — download.GLDAS","text":"Christy Rollinson","code":""},{"path":"/reference/download.Geostreams.html","id":null,"dir":"Reference","previous_headings":"","what":"Download Geostreams data from Clowder API — download.Geostreams","title":"Download Geostreams data from Clowder API — download.Geostreams","text":"Download Geostreams data Clowder API","code":""},{"path":"/reference/download.Geostreams.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download Geostreams data from Clowder API — download.Geostreams","text":"","code":"download.Geostreams(   outfolder,   sitename,   start_date,   end_date,   url = \"https://terraref.ncsa.illinois.edu/clowder/api/geostreams\",   key = NULL,   user = NULL,   pass = NULL,   ... )"},{"path":"/reference/download.Geostreams.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download Geostreams data from Clowder API — download.Geostreams","text":"outfolder directory save json result. created necessary sitename character. Must match Geostreams sensor_name start_date, end_date datetime url base url Clowder host key, user, pass authentication info Clowder host. ... arguments passed query parameters","code":""},{"path":"/reference/download.Geostreams.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download Geostreams data from Clowder API — download.Geostreams","text":"Depending setup Clowder host, authentication may   username/password, API key, skipped entirely. download.Geostreams   looks first call arguments API key, username password,   NULL looks user's home directory file named   `~/.pecan.clowder.xml`, finally keys passwords found   attempts connect unauthenticated. using `~/.pecan.clowder.xml`, must valid PEcAn-formatted XML settings  file must contain <clowder> key specifies hostname, user,  password Clowder server:","code":"<?xml version=\"1.0\"?>   <pecan>     <clowder>       <hostname>terraref.ncsa.illinois.edu<\/hostname>       <user>yourname<\/user>       <password>superSecretPassw0rd<\/password>     <\/clowder>   <\/pecan>"},{"path":"/reference/download.Geostreams.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download Geostreams data from Clowder API — download.Geostreams","text":"Harsh Agrawal, Chris Black","code":""},{"path":"/reference/download.Geostreams.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download Geostreams data from Clowder API — download.Geostreams","text":"","code":"if (FALSE) { # \\dontrun{  download.Geostreams(outfolder = \"~/output/dbfiles/Clowder_EF\",                      sitename = \"UIUC Energy Farm - CEN\",                      start_date = \"2016-01-01\", end_date=\"2016-12-31\",                      key=\"verysecret\") } # }"},{"path":"/reference/download.ICOS.html","id":null,"dir":"Reference","previous_headings":"","what":"Download ICOS Ecosystem data products — download.ICOS","title":"Download ICOS Ecosystem data products — download.ICOS","text":"Currently available products: Drought-2018 ecosystem eddy covariance flux product https://www.icos-cp.eu/data-products/YVR0-4898 ICOS Final Fully Quality Controlled Observational Data (Level 2) https://www.icos-cp.eu/data-products/ecosystem-release","code":""},{"path":"/reference/download.ICOS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download ICOS Ecosystem data products — download.ICOS","text":"","code":"download.ICOS(   sitename,   outfolder,   start_date,   end_date,   product,   overwrite = FALSE,   ... )"},{"path":"/reference/download.ICOS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download ICOS Ecosystem data products — download.ICOS","text":"sitename ICOS id site. Example - \"-Bra\" outfolder path directory output file stored. specified directory exists, created. start_date start date data request form YYYY-MM-DD end_date end date area data request form YYYY-MM-DD product ICOS product downloaded. Currently supported options: \"Drought2018\", \"ETC\" overwrite existing files overwritten. Default False. ... used extra arguments present.","code":""},{"path":"/reference/download.ICOS.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download ICOS Ecosystem data products — download.ICOS","text":"information output file","code":""},{"path":"/reference/download.ICOS.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download ICOS Ecosystem data products — download.ICOS","text":"Ayush Prasad","code":""},{"path":"/reference/download.ICOS.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download ICOS Ecosystem data products — download.ICOS","text":"","code":"if (FALSE) { # \\dontrun{ download.ICOS(\"FI-Sii\", \"/home/carya/pecan\", \"2016-01-01\", \"2018-01-01\", product=\"Drought2018\") } # }"},{"path":"/reference/download.MACA.html","id":null,"dir":"Reference","previous_headings":"","what":"download.MACA — download.MACA","title":"download.MACA — download.MACA","text":"Download MACA CMIP5 outputs single grid point using OPeNDAP convert CF","code":""},{"path":"/reference/download.MACA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download.MACA — download.MACA","text":"","code":"download.MACA(   outfolder,   start_date,   end_date,   site_id,   lat.in,   lon.in,   model = \"IPSL-CM5A-LR\",   scenario = \"rcp85\",   ensemble_member = \"r1i1p1\",   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/download.MACA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download.MACA — download.MACA","text":"outfolder location output stored start_date , format \"YEAR-01-01 00:00:00\" end_date , format \"YEAR-12-31 23:59:59\" site_id BETY site id lat.latitude site lon.longitude site model , select MACA model run (options BNU-ESM, CNRM-CM5, CSIRO-Mk3-6-0, bcc-csm1-1, bcc-csm1-1-m, CanESM2, GFDL-ESM2M, GFDL-ESM2G, HadGEM2-CC365, HadGEM2-ES365, inmcm4, MIROC5, MIROC-ESM, MIROC-ESM-CHEM, MRI-CGCM3, CCSM4, IPSL-CM5A-LR, IPSL-CM5A-MR, IPSL-CM5B-LR, NorESM1-M) scenario , select scenario run (options rcp45, rcp85) ensemble_member , r1i1p1 ensemble member available dataset, CCSM4 uses r6i1p1 instead overwrite overwrite existing files? Default FALSE verbose Default FALSE, used input ncdf4::ncvar_def ... inputs","code":""},{"path":"/reference/download.MACA.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"download.MACA — download.MACA","text":"James Simkins","code":""},{"path":"/reference/download.MERRA.html","id":null,"dir":"Reference","previous_headings":"","what":"Download MERRA data — download.MERRA","title":"Download MERRA data — download.MERRA","text":"Download MERRA data","code":""},{"path":"/reference/download.MERRA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download MERRA data — download.MERRA","text":"","code":"download.MERRA(   outfolder,   start_date,   end_date,   lat.in,   lon.in,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/download.MERRA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download MERRA data — download.MERRA","text":"outfolder Directory results written start_date, end_date Range years retrieve. Format YYYY-MM-DD, year portion used resulting files always contain full year data. lat.site latitude decimal degrees lon.site longitude decimal degrees overwrite logical. Download fresh version even local file name already exists? verbose logical. Passed ncvar_def nc_create control printing debug info ... used – silently soak extra arguments `convert_input`, etc.","code":""},{"path":"/reference/download.MERRA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download MERRA data — download.MERRA","text":"`data.frame` meteorology data metadata","code":""},{"path":"/reference/download.MERRA.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download MERRA data — download.MERRA","text":"Alexey Shiklomanov","code":""},{"path":"/reference/download.MsTMIP_NARR.html","id":null,"dir":"Reference","previous_headings":"","what":"download.MsTMIP_NARR — download.MsTMIP_NARR","title":"download.MsTMIP_NARR — download.MsTMIP_NARR","text":"Download conver CF NARR single grid point MSTIMIP server using OPENDAP interface","code":""},{"path":"/reference/download.MsTMIP_NARR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download.MsTMIP_NARR — download.MsTMIP_NARR","text":"","code":"download.MsTMIP_NARR(   outfolder,   start_date,   end_date,   site_id,   lat.in,   lon.in,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/download.MsTMIP_NARR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download.MsTMIP_NARR — download.MsTMIP_NARR","text":"outfolder location output stored start_date YYYY-MM-DD end_date YYYY-MM-DD site_id BETY site id lat.latitude site lon.longitude site overwrite overwrite existing files? Default FALSE verbose Default FALSE, used ncdf4::ncvar_def ... inputs","code":""},{"path":"/reference/download.MsTMIP_NARR.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"download.MsTMIP_NARR — download.MsTMIP_NARR","text":"James Simkins","code":""},{"path":"/reference/download.NARR.html","id":null,"dir":"Reference","previous_headings":"","what":"Download NARR files — download.NARR","title":"Download NARR files — download.NARR","text":"Download NARR files","code":""},{"path":"/reference/download.NARR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download NARR files — download.NARR","text":"","code":"download.NARR(   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   method,   ... )"},{"path":"/reference/download.NARR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download NARR files — download.NARR","text":"outfolder location output stored start_date desired start date YYYY-MM-DD end_date desired end date YYYY-MM-DD overwrite Overwrite existing files?  Default=FALSE verbose Turn verbose output? Default=FALSE method Method file retrieval. Can set using options(download.ftp.method=[method]) Rprofile. ... inputs","code":""},{"path":"/reference/download.NARR.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download NARR files — download.NARR","text":"Betsy Cowdery, Shawn Serbin","code":""},{"path":"/reference/download.NARR.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download NARR files — download.NARR","text":"","code":"if (FALSE) { # \\dontrun{ options(download.ftp.method = \"ncftpget\") download.NARR(    outfolder = \"~/\",    start_date = \"2000/01/01\",    end_date = \"2000/01/02\",    overwrite = TRUE,    verbose = TRUE) } # }"},{"path":"/reference/download.NARR_site.html","id":null,"dir":"Reference","previous_headings":"","what":"Download NARR time series for a single site — download.NARR_site","title":"Download NARR time series for a single site — download.NARR_site","text":"Download NARR time series single site","code":""},{"path":"/reference/download.NARR_site.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download NARR time series for a single site — download.NARR_site","text":"","code":"download.NARR_site(   outfolder,   start_date,   end_date,   lat.in,   lon.in,   overwrite = FALSE,   verbose = FALSE,   progress = TRUE,   parallel = TRUE,   ncores = if (parallel) parallel::detectCores() else NULL,   ... )"},{"path":"/reference/download.NARR_site.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download NARR time series for a single site — download.NARR_site","text":"outfolder Target directory storing output start_date Start date met data end_date End date met data lat.Site latitude coordinate lon.Site longitude coordinate overwrite Overwrite existing files?  Default=FALSE verbose Turn verbose output? Default=FALSE progress Whether show progress bar. Requires `progress` package installed. parallel Download parallel? Default = TRUE ncores Number cores parallel download. Default `parallel::detectCores()` ... arguments, currently ignored","code":""},{"path":"/reference/download.NARR_site.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download NARR time series for a single site — download.NARR_site","text":"Alexey Shiklomanov","code":""},{"path":"/reference/download.NARR_site.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download NARR time series for a single site — download.NARR_site","text":"","code":"if (FALSE) { # \\dontrun{ download.NARR_site(tempdir(), \"2001-01-01\", \"2001-01-12\", 43.372, -89.907) } # }"},{"path":"/reference/download.NEONmet.html","id":null,"dir":"Reference","previous_headings":"","what":"Download NEON Site Met CSV files — download.NEONmet","title":"Download NEON Site Met CSV files — download.NEONmet","text":"download.NEONmet","code":""},{"path":"/reference/download.NEONmet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download NEON Site Met CSV files — download.NEONmet","text":"","code":"download.NEONmet(   sitename,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/download.NEONmet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download NEON Site Met CSV files — download.NEONmet","text":"sitename NEON ID site downloaded, used file name prefix. 4-letter SITE code  list NEON sites outfolder location disk outputs stored start_date start date data downloaded. Format YYYY-MM-DD (use year month date) end_date end date data downloaded. Format YYYY-MM-DD (use year month part date) overwrite existing files overwritten verbose makes function output text ... arguments, currently ignored","code":""},{"path":"/reference/download.NEONmet.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Download NEON Site Met CSV files — download.NEONmet","text":"Uses NEON v0 API download met data NEON towers convert CF NetCDF","code":""},{"path":"/reference/download.NEONmet.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download NEON Site Met CSV files — download.NEONmet","text":"","code":"if (FALSE) { # \\dontrun{ result <- download.NEONmet(    sitename = 'HARV',    outfolder = '~/',    start_date = '2017-01-01',    end_date = '2017-01-31',    overwrite = TRUE) } # }"},{"path":"/reference/download.NLDAS.html","id":null,"dir":"Reference","previous_headings":"","what":"Download NLDAS met data — download.NLDAS","title":"Download NLDAS met data — download.NLDAS","text":"Download convert single grid point NLDAS CF single grid point hydro1.sci.gsfc.nasa.gov using OPENDAP interface","code":""},{"path":"/reference/download.NLDAS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download NLDAS met data — download.NLDAS","text":"","code":"download.NLDAS(   outfolder,   start_date,   end_date,   site_id,   lat.in,   lon.in,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/download.NLDAS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download NLDAS met data — download.NLDAS","text":"outfolder location output start_date desired start date YYYY-MM-DD end_date desired end date YYYY-MM-DD site_id site id (BETY) lat.latitude site lon.longitude site overwrite overwrite existing files? Default FALSE verbose Turn verbose output? Default=FALSE ... inputs","code":""},{"path":"/reference/download.NLDAS.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download NLDAS met data — download.NLDAS","text":"Christy Rollinson (help Ankur Desai)","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":null,"dir":"Reference","previous_headings":"","what":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"Download NOAA GEFS Weather Data","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"","code":"download.NOAA_GEFS(   site_id,   lat.in,   lon.in,   outfolder,   start_date = Sys.Date(),   end_date = start_date + lubridate::days(16),   downscale = TRUE,   overwrite = FALSE,   ... )"},{"path":"/reference/download.NOAA_GEFS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"site_id unique ID given site. used part file name. lat.site latitude decimal degrees lon.site longitude decimal degrees outfolder Directory results written start_date Range dates/times downloaded (default assumed time function run) end_date end date range dates downloaded (default 16 days start_date) downscale logical, assumed True. Indicates whether data downscaled hourly overwrite logical. Download fresh version even local file name already exists? ... Additional optional parameters, currently ignored","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"list data frames returned containing information data file can used locate later.  data frame contains information one file.","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":"information-on-units","dir":"Reference","previous_headings":"","what":"Information on Units","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"Information NOAA weather units can found . Note temperature measured degrees C, converted station downloaded Kelvin.","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":"noaa-gefs-general-information","dir":"Reference","previous_headings":"","what":"NOAA_GEFS General Information","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"function downloads NOAA GEFS weather data.  GEFS ensemble 31 different weather forecast models. 16 day forecast available every 6 hours 35 day forecast available every 24 hours. 3-hour frequency first 10 days forecast 6-hour frequency beyond . forecast includes information total 8 variables. transformed NOAA standard internal PEcAn standard.","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":"data-availability","dir":"Reference","previous_headings":"","what":"Data Availability","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"NOAA GEFS weather data available rolling 4 day basis. Dates provided \"start_date\" must within range. end date can point , end date beyond 16 days (35 days midnight UTC forecast), 16 (35) days worth forecast retrieved. Times rounded previous 6 hour forecast. NOAA GEFS weather data always posted immediately. 16-day forecast takes approximately three hours run, --day forecasts days 17-35 posted much later (21 hours) forecasts days 0 16. See [GEFS v12 release announcement](https://www.weather.gov/media/notification/pdf2/scn20-75gefs_v12_changes.pdf) details.","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":"data-save-format","dir":"Reference","previous_headings":"","what":"Data Save Format","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"Data saved netcdf format specified directory.   File names reflect precision data given range days. NOAA.GEFS.willow creek.3.2018-06-08T06:00.2018-06-24T06:00.nc specifies forecast, using ensemble number 3 willow creek June 6th, 2018 6:00 .m. June 24th, 2018 6:00 .m.","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"https://www.ncdc.noaa.gov/crn/measurements.html","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"Quinn Thomas, modified K Zarada","code":""},{"path":"/reference/download.NOAA_GEFS.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download NOAA GEFS Weather Data — download.NOAA_GEFS","text":"","code":"if (FALSE) { # \\dontrun{   download.NOAA_GEFS(     site_id = 676,     lat.in= 45.805925,     lon.in = -90.07961,     outfolder=\"~/Working/results\") } # }"},{"path":"/reference/download.PalEON.html","id":null,"dir":"Reference","previous_headings":"","what":"download.PalEON — download.PalEON","title":"download.PalEON — download.PalEON","text":"Download PalEON files","code":""},{"path":"/reference/download.PalEON.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download.PalEON — download.PalEON","text":"","code":"download.PalEON(   sitename,   outfolder,   start_date,   end_date,   overwrite = FALSE,   ... )"},{"path":"/reference/download.PalEON.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download.PalEON — download.PalEON","text":"sitename sitename outfolder desired output location start_date desired start date YYYY-MM-DD end_date desired end date YYYY-MM-DD overwrite overwrite existing files? Default FALSE ... inputs","code":""},{"path":"/reference/download.PalEON.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"download.PalEON — download.PalEON","text":"Betsy Cowdery","code":""},{"path":"/reference/download.PalEON_ENS.html","id":null,"dir":"Reference","previous_headings":"","what":"Download PalEON met ensemble files — download.PalEON_ENS","title":"Download PalEON met ensemble files — download.PalEON_ENS","text":"Download PalEON met ensemble files","code":""},{"path":"/reference/download.PalEON_ENS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download PalEON met ensemble files — download.PalEON_ENS","text":"","code":"download.PalEON_ENS(   sitename,   outfolder,   start_date,   end_date,   overwrite = FALSE,   ... )"},{"path":"/reference/download.PalEON_ENS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download PalEON met ensemble files — download.PalEON_ENS","text":"sitename sitename outfolder desired output folder start_date desired start date YYYY-MM-DD end_date desired end date YYYY-MM-DD overwrite overwrite existing files? Default FALSE ... inputs","code":""},{"path":"/reference/download.PalEON_ENS.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Download PalEON met ensemble files — download.PalEON_ENS","text":"Betsy Cowdery, Mike Dietze","code":""},{"path":"/reference/download.US_WCr.html","id":null,"dir":"Reference","previous_headings":"","what":"download.US-WCr — download.US_WCr","title":"download.US-WCr — download.US_WCr","text":"download.US-WCr","code":""},{"path":"/reference/download.US_WCr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download.US-WCr — download.US_WCr","text":"","code":"download.US_WCr(start_date, end_date, timestep = 1)"},{"path":"/reference/download.US_WCr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download.US-WCr — download.US_WCr","text":"start_date Start date/time data downloaded end_date End date/time data downloaded timestep often take data points file.  Must multiple 0.5","code":""},{"path":"/reference/download.US_WCr.html","id":"general-description","dir":"Reference","previous_headings":"","what":"General Description","title":"download.US-WCr — download.US_WCr","text":"Obtains data Ankur Desai's Willow Creek flux tower, selects certain variables (NEE LE) return Data returned given timestep given range. data includes information number flux variables. timestep parameter measured hours, converted half hours data's timestep every half hour.","code":""},{"path":"/reference/download.US_WCr.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"download.US-WCr — download.US_WCr","text":"Luke Dramko","code":""},{"path":"/reference/download.US_Wlef.html","id":null,"dir":"Reference","previous_headings":"","what":"download.US_Wlef — download.US_Wlef","title":"download.US_Wlef — download.US_Wlef","text":"download.US_Wlef","code":""},{"path":"/reference/download.US_Wlef.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download.US_Wlef — download.US_Wlef","text":"","code":"download.US_Wlef(start_date, end_date, timestep = 1)"},{"path":"/reference/download.US_Wlef.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download.US_Wlef — download.US_Wlef","text":"start_date Start date/time data downloaded end_date End date/time data downloaded timestep often take data points file.  Must integer","code":""},{"path":"/reference/download.US_Wlef.html","id":"general-description","dir":"Reference","previous_headings":"","what":"General Description","title":"download.US_Wlef — download.US_Wlef","text":"Obtains data Ankur Desai's WLEF/ Parks Fall flux tower, selects certain variables (NEE LE) return Data returned given timestep given range. data includes information number flux variables.","code":""},{"path":"/reference/download.US_Wlef.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"download.US_Wlef — download.US_Wlef","text":"Luke Dramko K Zarada","code":""},{"path":"/reference/download.raw.met.module.html","id":null,"dir":"Reference","previous_headings":"","what":"download.raw.met.module — download.raw.met.module","title":"download.raw.met.module — download.raw.met.module","text":"download.raw.met.module","code":""},{"path":"/reference/download.raw.met.module.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download.raw.met.module — download.raw.met.module","text":"","code":".download.raw.met.module(   dir,   met,   register,   machine,   start_date,   end_date,   str_ns,   con,   input_met,   site.id,   lat.in,   lon.in,   host,   site,   username,   overwrite = FALSE,   dbparms,   Ens.Flag = FALSE )"},{"path":"/reference/download.raw.met.module.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download.raw.met.module — download.raw.met.module","text":"dir directory write outputs met source included input_met register register.xml, provided met.process machine machine associated hostname, provided met.process start_date start date data downloaded (use year part date) end_date end date data downloaded (use year part date) str_ns substitute site_id provided, provided met.process con database connection based dbparms met.process input_met data source process site.id site id lat.site latitude, provided met.process lon.site longitude, provided met.process host host info settings file site site info settings file username database username overwrite whether force download.raw.met.module proceed dbparms database settings settings file Ens.Flag default set FALSE","code":""},{"path":"/reference/download.raw.met.module.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"download.raw.met.module — download.raw.met.module","text":"list data frames returned containing information data file can used locate later.  data frame contains information one file.","code":""},{"path":"/reference/download_NOAA_GEFS_EFI.html","id":null,"dir":"Reference","previous_headings":"","what":"download_NOAA_GEFS_EFI — download_NOAA_GEFS_EFI","title":"download_NOAA_GEFS_EFI — download_NOAA_GEFS_EFI","text":"download_NOAA_GEFS_EFI","code":""},{"path":"/reference/download_NOAA_GEFS_EFI.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"download_NOAA_GEFS_EFI — download_NOAA_GEFS_EFI","text":"","code":"download_NOAA_GEFS_EFI(sitename, outfolder, start_date, site.lat, site.lon)"},{"path":"/reference/download_NOAA_GEFS_EFI.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"download_NOAA_GEFS_EFI — download_NOAA_GEFS_EFI","text":"sitename NEON site name outfolder filepath save ensemble member .nc files start_date start date met forecast site.lat site lat site.lon site lon","code":""},{"path":"/reference/download_NOAA_GEFS_EFI.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"download_NOAA_GEFS_EFI — download_NOAA_GEFS_EFI","text":"message confirming download complete location .nc files","code":""},{"path":"/reference/download_NOAA_GEFS_EFI.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"download_NOAA_GEFS_EFI — download_NOAA_GEFS_EFI","text":"Alexis Helgeson","code":""},{"path":"/reference/download_grid.html","id":null,"dir":"Reference","previous_headings":"","what":"Download all requested timepoints of one GEFS ensemble member — download_grid","title":"Download all requested timepoints of one GEFS ensemble member — download_grid","text":"Download requested timepoints one GEFS ensemble member","code":""},{"path":"/reference/download_grid.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download all requested timepoints of one GEFS ensemble member — download_grid","text":"","code":"download_grid(   ens_index,   location,   directory,   hours_char,   cycle,   base_filename1,   vars,   working_directory )"},{"path":"/reference/download_grid.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download all requested timepoints of one GEFS ensemble member — download_grid","text":"ens_index ensemble member integer (1-31) location bounding box portion query, single URL-escaped string directory server path portion query, single URL-escaped string (confused local output dir – `working_directory`) hours_char timepoints retrieve, zero-padded strings e.g. `c(\"000\", \"384\", \"840\")` cycle forecast hour use (\"00\", \"06\", \"12\", \"18\") base_filename1 URL onto append query string components vars variable listing component query, single URL-escaped string working_directory path local disk write output","code":""},{"path":"/reference/downscale_ShortWave_to_half_hrly.html","id":null,"dir":"Reference","previous_headings":"","what":"Downscale shortwave to half hourly — downscale_ShortWave_to_half_hrly","title":"Downscale shortwave to half hourly — downscale_ShortWave_to_half_hrly","text":"Downscale shortwave half hourly","code":""},{"path":"/reference/downscale_ShortWave_to_half_hrly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downscale shortwave to half hourly — downscale_ShortWave_to_half_hrly","text":"","code":"downscale_ShortWave_to_half_hrly(df, lat, lon, hr = 0.5)"},{"path":"/reference/downscale_ShortWave_to_half_hrly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downscale shortwave to half hourly — downscale_ShortWave_to_half_hrly","text":"df data frame variables lat lat site lon long site hr hour downscale - default 1","code":""},{"path":"/reference/downscale_ShortWave_to_half_hrly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downscale shortwave to half hourly — downscale_ShortWave_to_half_hrly","text":"dataframe downscaled state variables ShortWave.ds","code":""},{"path":"/reference/downscale_ShortWave_to_half_hrly.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Downscale shortwave to half hourly — downscale_ShortWave_to_half_hrly","text":"Laura Puckett","code":""},{"path":"/reference/downscale_ShortWave_to_hrly.html","id":null,"dir":"Reference","previous_headings":"","what":"Downscale shortwave to hourly — downscale_ShortWave_to_hrly","title":"Downscale shortwave to hourly — downscale_ShortWave_to_hrly","text":"Downscale shortwave hourly","code":""},{"path":"/reference/downscale_ShortWave_to_hrly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downscale shortwave to hourly — downscale_ShortWave_to_hrly","text":"","code":"downscale_ShortWave_to_hrly(df, lat, lon, hr = 1)"},{"path":"/reference/downscale_ShortWave_to_hrly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downscale shortwave to hourly — downscale_ShortWave_to_hrly","text":"df, data frame variables lat, lat site lon, long site hr, hour downscale - default 1","code":""},{"path":"/reference/downscale_ShortWave_to_hrly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downscale shortwave to hourly — downscale_ShortWave_to_hrly","text":"dataframe downscaled state variables ShortWave.ds","code":""},{"path":"/reference/downscale_ShortWave_to_hrly.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Downscale shortwave to hourly — downscale_ShortWave_to_hrly","text":"Laura Puckett","code":""},{"path":"/reference/downscale_one_cfmet_day.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal helper to downscale a single row from a daily file — downscale_one_cfmet_day","title":"Internal helper to downscale a single row from a daily file — downscale_one_cfmet_day","text":"Internal helper downscale single row daily file","code":""},{"path":"/reference/downscale_one_cfmet_day.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal helper to downscale a single row from a daily file — downscale_one_cfmet_day","text":"","code":"downscale_one_cfmet_day(df, tseq, lat)"},{"path":"/reference/downscale_one_cfmet_day.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal helper to downscale a single row from a daily file — downscale_one_cfmet_day","text":"df one row dailymet tseq vector hours estimate lat latitude","code":""},{"path":"/reference/downscale_one_cfmet_day.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal helper to downscale a single row from a daily file — downscale_one_cfmet_day","text":"df one row hour `tseq`","code":""},{"path":"/reference/downscale_repeat_6hr_to_half_hrly.html","id":null,"dir":"Reference","previous_headings":"","what":"Downscale repeat to half hourly — downscale_repeat_6hr_to_half_hrly","title":"Downscale repeat to half hourly — downscale_repeat_6hr_to_half_hrly","text":"Downscale repeat half hourly","code":""},{"path":"/reference/downscale_repeat_6hr_to_half_hrly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downscale repeat to half hourly — downscale_repeat_6hr_to_half_hrly","text":"","code":"downscale_repeat_6hr_to_half_hrly(df, varName, hr = 0.5)"},{"path":"/reference/downscale_repeat_6hr_to_half_hrly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downscale repeat to half hourly — downscale_repeat_6hr_to_half_hrly","text":"df dataframe data downscaled (Longwave) varName variable names downscaled hr hour downscale - default 0.5","code":""},{"path":"/reference/downscale_repeat_6hr_to_half_hrly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downscale repeat to half hourly — downscale_repeat_6hr_to_half_hrly","text":"dataframe downscaled data","code":""},{"path":"/reference/downscale_repeat_6hr_to_half_hrly.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Downscale repeat to half hourly — downscale_repeat_6hr_to_half_hrly","text":"Laura Puckett","code":""},{"path":"/reference/downscale_repeat_6hr_to_hrly.html","id":null,"dir":"Reference","previous_headings":"","what":"Downscale repeat to hourly — downscale_repeat_6hr_to_hrly","title":"Downscale repeat to hourly — downscale_repeat_6hr_to_hrly","text":"Downscale repeat hourly","code":""},{"path":"/reference/downscale_repeat_6hr_to_hrly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downscale repeat to hourly — downscale_repeat_6hr_to_hrly","text":"","code":"downscale_repeat_6hr_to_hrly(df, varName, hr = 1)"},{"path":"/reference/downscale_repeat_6hr_to_hrly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downscale repeat to hourly — downscale_repeat_6hr_to_hrly","text":"df, dataframe data downscaled (Longwave) varName, variable names downscaled hr, hour downscale - default 1","code":""},{"path":"/reference/downscale_repeat_6hr_to_hrly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downscale repeat to hourly — downscale_repeat_6hr_to_hrly","text":"dataframe downscaled data","code":""},{"path":"/reference/downscale_repeat_6hr_to_hrly.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Downscale repeat to hourly — downscale_repeat_6hr_to_hrly","text":"Laura Puckett","code":""},{"path":"/reference/downscale_solar_geom.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate potential shortwave radiation — downscale_solar_geom","title":"Calculate potential shortwave radiation — downscale_solar_geom","text":"Calculate potential shortwave radiation","code":""},{"path":"/reference/downscale_solar_geom.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate potential shortwave radiation — downscale_solar_geom","text":"","code":"downscale_solar_geom(doy, lon, lat)"},{"path":"/reference/downscale_solar_geom.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate potential shortwave radiation — downscale_solar_geom","text":"doy, day year decimal lon, longitude lat, latitude","code":""},{"path":"/reference/downscale_solar_geom.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate potential shortwave radiation — downscale_solar_geom","text":"vector potential shortwave radiation doy","code":""},{"path":"/reference/downscale_solar_geom.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Calculate potential shortwave radiation — downscale_solar_geom","text":"Quinn Thomas","code":""},{"path":"/reference/downscale_solar_geom_halfhour.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate potential shortwave radiation — downscale_solar_geom_halfhour","title":"Calculate potential shortwave radiation — downscale_solar_geom_halfhour","text":"Calculate potential shortwave radiation","code":""},{"path":"/reference/downscale_solar_geom_halfhour.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate potential shortwave radiation — downscale_solar_geom_halfhour","text":"","code":"downscale_solar_geom_halfhour(doy, lon, lat)"},{"path":"/reference/downscale_solar_geom_halfhour.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate potential shortwave radiation — downscale_solar_geom_halfhour","text":"doy, day year decimal lon, longitude lat, latitude","code":""},{"path":"/reference/downscale_solar_geom_halfhour.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate potential shortwave radiation — downscale_solar_geom_halfhour","text":"vector potential shortwave radiation doy","code":""},{"path":"/reference/downscale_solar_geom_halfhour.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Calculate potential shortwave radiation — downscale_solar_geom_halfhour","text":"Quinn Thomas","code":""},{"path":"/reference/downscale_spline_to_half_hrly.html","id":null,"dir":"Reference","previous_headings":"","what":"Downscale spline to half hourly — downscale_spline_to_half_hrly","title":"Downscale spline to half hourly — downscale_spline_to_half_hrly","text":"Downscale spline half hourly","code":""},{"path":"/reference/downscale_spline_to_half_hrly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downscale spline to half hourly — downscale_spline_to_half_hrly","text":"","code":"downscale_spline_to_half_hrly(df, VarNames, hr = 0.5)"},{"path":"/reference/downscale_spline_to_half_hrly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downscale spline to half hourly — downscale_spline_to_half_hrly","text":"df dataframe data downscales VarNames variable names downscaled hr hour downscale - default 0.5","code":""},{"path":"/reference/downscale_spline_to_half_hrly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downscale spline to half hourly — downscale_spline_to_half_hrly","text":"dataframe half hourly downscaled state variables","code":""},{"path":"/reference/downscale_spline_to_half_hrly.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Downscale spline to half hourly — downscale_spline_to_half_hrly","text":"Laura Puckett","code":""},{"path":"/reference/downscale_spline_to_hrly.html","id":null,"dir":"Reference","previous_headings":"","what":"Downscale spline to hourly — downscale_spline_to_hrly","title":"Downscale spline to hourly — downscale_spline_to_hrly","text":"Downscale spline hourly","code":""},{"path":"/reference/downscale_spline_to_hrly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downscale spline to hourly — downscale_spline_to_hrly","text":"","code":"downscale_spline_to_hrly(df, VarNames, hr = 1)"},{"path":"/reference/downscale_spline_to_hrly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downscale spline to hourly — downscale_spline_to_hrly","text":"df, dataframe data downscales VarNames, variable names downscaled hr, hour downscale - default 1","code":""},{"path":"/reference/downscale_spline_to_hrly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downscale spline to hourly — downscale_spline_to_hrly","text":"dataframe downscaled state variables","code":""},{"path":"/reference/downscale_spline_to_hrly.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Downscale spline to hourly — downscale_spline_to_hrly","text":"Laura Puckett","code":""},{"path":"/reference/equation_of_time.html","id":null,"dir":"Reference","previous_headings":"","what":"Equation of time: Eccentricity and obliquity — equation_of_time","title":"Equation of time: Eccentricity and obliquity — equation_of_time","text":"description calculations, see https://en.wikipedia.org/wiki/Equation_of_time#Calculating_the_equation_of_time","code":""},{"path":"/reference/equation_of_time.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Equation of time: Eccentricity and obliquity — equation_of_time","text":"","code":"equation_of_time(doy)"},{"path":"/reference/equation_of_time.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Equation of time: Eccentricity and obliquity — equation_of_time","text":"doy Day year","code":""},{"path":"/reference/equation_of_time.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Equation of time: Eccentricity and obliquity — equation_of_time","text":"`numeric(1)` length solar day, hours.","code":""},{"path":"/reference/equation_of_time.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Equation of time: Eccentricity and obliquity — equation_of_time","text":"Alexey Shiklomanov","code":""},{"path":"/reference/exner.html","id":null,"dir":"Reference","previous_headings":"","what":"Exner function — exner","title":"Exner function — exner","text":"estimated exner function","code":""},{"path":"/reference/exner.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Exner function — exner","text":"","code":"exner(pres)"},{"path":"/reference/exner.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Exner function — exner","text":"pres air pressure (Bar)","code":""},{"path":"/reference/exner.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Exner function — exner","text":"Mike Dietze","code":""},{"path":"/reference/extract.local.CMIP5.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.CMIP5","title":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.CMIP5","text":"function extracts CMIP5 data grids downloaded stored locally.              Files saved netCDF file CF conventions *DAILY* resolution.  Note: point              time, variables available native monthly resolution repeated              give pseudo-daily record (can get dealt downscaling workflow).  files              ready used general PEcAn workflow fed downscaling workflow.","code":""},{"path":"/reference/extract.local.CMIP5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.CMIP5","text":"","code":"extract.local.CMIP5(   outfolder,   in.path,   start_date,   end_date,   lat.in,   lon.in,   model,   scenario,   ensemble_member = \"r1i1p1\",   date.origin = NULL,   adjust.pr = 1,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/extract.local.CMIP5.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.CMIP5","text":"outfolder - directory output files stored .path - path raw full grids start_date - first day want extract met (yyyy-mm-dd) end_date - last day want extract met (yyyy-mm-dd) lat.site latitude decimal degrees lon.site longitude decimal degrees model GCM extract data scenario experiment pull (p1000, historical, ...) ensemble_member CMIP5 experiment ensemble member date.origin (optional) specify date origin timestamps files read. NULL defaults 1850 historical simulations (except MPI-ESM-P) 850 p1000 simulations (plus MPI-ESM-P historical).  Format: YYYY-MM-DD adjust.pr - adjustment factor fore precipitation extracted values seem overwrite logical. Download fresh version even local file name already exists? verbose logical. control printing debug info ... arguments, currently ignored","code":""},{"path":"/reference/extract.local.CMIP5.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.CMIP5","text":"Christy Rollinson","code":""},{"path":"/reference/extract.local.NLDAS.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.NLDAS","title":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.NLDAS","text":"function extracts NLDAS data grids downloaded stored locally.              upon time, query files directly internet, now              behind tricky authentication wall. Files saved netCDF file CF conventions.              files ready used general PEcAn workflow fed downscaling              workflow.","code":""},{"path":"/reference/extract.local.NLDAS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.NLDAS","text":"","code":"extract.local.NLDAS(   outfolder,   in.path,   start_date,   end_date,   lat.in,   lon.in,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/extract.local.NLDAS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.NLDAS","text":"outfolder - directory output files stored .path - path raw full grids start_date - first day want extract met (yyyy-mm-dd) end_date - last day want extract met (yyyy-mm-dd) lat.site latitude decimal degrees lon.site longitude decimal degrees overwrite logical. Download fresh version even local file name already exists? verbose logical. Passed ncvar_def nc_create control printing debug info ... arguments, currently ignored","code":""},{"path":"/reference/extract.local.NLDAS.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Extract NLDAS from local download Extract NLDAS meteorology for a point from a local download of the full grid — extract.local.NLDAS","text":"Christy Rollinson","code":""},{"path":"/reference/extract.nc.ERA5.html","id":null,"dir":"Reference","previous_headings":"","what":"ERA5_extract — extract.nc.ERA5","title":"ERA5_extract — extract.nc.ERA5","text":"ERA5_extract","code":""},{"path":"/reference/extract.nc.ERA5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ERA5_extract — extract.nc.ERA5","text":"","code":"extract.nc.ERA5(   slat,   slon,   in.path,   start_date,   end_date,   outfolder,   in.prefix,   newsite,   ncores = 1,   vars = NULL,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/extract.nc.ERA5.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ERA5_extract — extract.nc.ERA5","text":"slat numeric: vector latitudes. slon numeric: vector longitudes. .path character: path directory containing file inserted start_date character: start date (YYYY-MM-DD format). end_date character: end date (YYYY-MM-DD format). outfolder character: Path directory nc files need saved. .prefix character: initial portion filename vary date. include directory; specify part .path. newsite character: vector site names. length match slat slon. ncores numeric: number CPUs parallel compute. Default 1. vars character: names variables extracted. NULL variables returned. Default NULL. overwrite Logical files needs overwritten. verbose Decide want stop printing info. ... inputs.","code":""},{"path":"/reference/extract.nc.ERA5.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ERA5_extract — extract.nc.ERA5","text":"list xts objects variables requested years","code":""},{"path":"/reference/extract.nc.ERA5.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"ERA5_extract — extract.nc.ERA5","text":"list variables check documentation  https://confluence.ecmwf.int/display/CKB/ERA5+data+documentation#ERA5datadocumentation-Spatialgrid","code":""},{"path":"/reference/extract.nc.ERA5.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"ERA5_extract — extract.nc.ERA5","text":"Dongchen Zhang, Akash","code":""},{"path":"/reference/extract.nc.ERA5.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ERA5_extract — extract.nc.ERA5","text":"","code":"if (FALSE) { # \\dontrun{ point.data <- extract.nc.ERA5(   slat = 43.25,   slon = -83.25,   in.path = \"path/to/era5/files\",   start_date = \"1990-01-01\",   end_date = \"1995-12-31\",   outfolder = \"path/to/output\",   in.prefix = \"ERA5_\",   newsite = \"my_site\",   vars = NULL,   overwrite = FALSE,   verbose = TRUE )  } # }"},{"path":"/reference/extract.nc.html","id":null,"dir":"Reference","previous_headings":"","what":"extract.nc — extract.nc","title":"extract.nc — extract.nc","text":"Given latitude longitude coordinates, extract site data NARR file","code":""},{"path":"/reference/extract.nc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"extract.nc — extract.nc","text":"","code":"extract.nc(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   slat,   slon,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/extract.nc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"extract.nc — extract.nc","text":".path location disk inputs stored .prefix prefix input files outfolder location disk outputs stored start_date start date data permuted (use year part date) end_date end date data permuted (use year part date) slat latitude site slon longitude site overwrite existing files overwritten verbose ouput function extra verbose ... arguments, currently ignored","code":""},{"path":"/reference/extract.nc.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"extract.nc — extract.nc","text":"Betsy Cowdery","code":""},{"path":"/reference/gen.subdaily.models.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate Subdaily Models — gen.subdaily.models","title":"Generate Subdaily Models — gen.subdaily.models","text":"Create statistical models predict subdaily meteorology 2nd function tdm workflow takes dat.train_file created              nc2dat.train function generates \"lag.days\" \"next.days\". variables pass along information              previous time step provides preview next time step. variables created,              models generated calling tdm_temporal_downscale_functions.R scripts models              betas saved separately. Please note models betas require significant              amount space. storage required varies size training dataset, prepare              >100 GB. called later tdm_predict_subdaily_met perform linear regression              analysis.","code":""},{"path":"/reference/gen.subdaily.models.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate Subdaily Models — gen.subdaily.models","text":"","code":"gen.subdaily.models(   outfolder,   path.train,   yrs.train,   direction.filter = \"forward\",   in.prefix,   n.beta,   day.window,   seed = Sys.time(),   resids = FALSE,   parallel = FALSE,   n.cores = NULL,   overwrite = TRUE,   verbose = FALSE,   print.progress = FALSE )"},{"path":"/reference/gen.subdaily.models.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate Subdaily Models — gen.subdaily.models","text":"outfolder - directory models stored *** storage required varies size training dataset, prepare >10 GB path.train - path CF/PEcAn style training data year separate file. yrs.train - years training data used generate model subdaily cycle.  NULL, default years direction.filter - Whether model filtered backward forward time. options = c(\"backward\", \"forward\") (PalEON go backward, anybody interested future go forward) .prefix used n.beta - number betas save linear regression model day.window - integer specifying number days around day modeled want use data specific hours coefficients. Must integer want statistics time day day surrounding model day seed - seed randomization allow reproducible results resids - logical stating whether pass residual data (increases memory & storage requirements) parallel - logical stating whether run temporal_downscale_functions.R parallel n.cores - deals parallelization overwrite logical: replace output file already exists? verbose logical, currently ignored print.progress - print progress bar? (gets passed )","code":""},{"path":[]},{"path":"/reference/gen.subdaily.models.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generate Subdaily Models — gen.subdaily.models","text":"Christy Rollinson, James Simkins","code":""},{"path":"/reference/generate_narr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate NARR url from a vector of dates — generate_narr_url","title":"Generate NARR url from a vector of dates — generate_narr_url","text":"Figures file names given dates, based NARR's convoluted inconsistent naming scheme.","code":""},{"path":"/reference/generate_narr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate NARR url from a vector of dates — generate_narr_url","text":"","code":"generate_narr_url(dates, flx)"},{"path":"/reference/generate_narr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate NARR url from a vector of dates — generate_narr_url","text":"dates Vector dates generate URL flx (Logical) `TRUE`, format `flx` variables. Otherwise, format `sfc` variables. See [narr_flx_vars].","code":""},{"path":"/reference/generate_narr_url.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Generate NARR url from a vector of dates — generate_narr_url","text":"Alexey Shiklomanov","code":""},{"path":"/reference/get.lv.html","id":null,"dir":"Reference","previous_headings":"","what":"Latent heat of vaporization — get.lv","title":"Latent heat of vaporization — get.lv","text":"calculate latent heat vaporization water","code":""},{"path":"/reference/get.lv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Latent heat of vaporization — get.lv","text":"","code":"get.lv(airtemp = 268.6465)"},{"path":"/reference/get.lv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Latent heat of vaporization — get.lv","text":"airtemp air temperature (Kelvin)","code":""},{"path":"/reference/get.lv.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Latent heat of vaporization — get.lv","text":"lV   latent heat vaporization (J kg-1)","code":""},{"path":"/reference/get.lv.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Latent heat of vaporization — get.lv","text":"Istem Fer","code":""},{"path":"/reference/get.ncvector.html","id":null,"dir":"Reference","previous_headings":"","what":"Get time series vector from netCDF file — get.ncvector","title":"Get time series vector from netCDF file — get.ncvector","text":"internal convenience function streamlining extraction data netCDF files CF-compliant variable names","code":""},{"path":"/reference/get.ncvector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get time series vector from netCDF file — get.ncvector","text":"","code":"get.ncvector(var, lati = lati, loni = loni, run.dates = run.dates, met.nc)"},{"path":"/reference/get.ncvector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get time series vector from netCDF file — get.ncvector","text":"var name variable extract lati, loni latitude longitude extract run.dates data frame dates read met.nc netcdf file CF variable names","code":""},{"path":"/reference/get.ncvector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get time series vector from netCDF file — get.ncvector","text":"numeric vector","code":""},{"path":"/reference/get.ncvector.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Get time series vector from netCDF file — get.ncvector","text":"David Shaner LeBauer","code":""},{"path":"/reference/get.rh.html","id":null,"dir":"Reference","previous_headings":"","what":"get RH — get.rh","title":"get RH — get.rh","text":"Calculate RH temperature dewpoint","code":""},{"path":"/reference/get.rh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get RH — get.rh","text":"","code":"get.rh(T, Td)"},{"path":"/reference/get.rh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get RH — get.rh","text":"T air temperature, Kelvin Td dewpoint, Kelvin","code":""},{"path":"/reference/get.rh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get RH — get.rh","text":"Relative Humidity numeric vector","code":""},{"path":"/reference/get.rh.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"get RH — get.rh","text":"Based equation 12 Lawrence 2005, Relationship Relative Humidity Dewpoint Temperature Moist Air Simple Conversion Applications. BAMS https://doi.org/10.1175/BAMS-86-2-225 R = 461.5 K-1 kg-1 gas constant H2O L enthalpy vaporization linear dependence T (p 226, following eq 9)","code":""},{"path":"/reference/get.rh.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"get RH — get.rh","text":"David LeBauer","code":""},{"path":"/reference/get.vpd.html","id":null,"dir":"Reference","previous_headings":"","what":"VPD — get.vpd","title":"VPD — get.vpd","text":"Calculate VPD","code":""},{"path":"/reference/get.vpd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"VPD — get.vpd","text":"","code":"get.vpd(rh, temp)"},{"path":"/reference/get.vpd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"VPD — get.vpd","text":"rh relative humidity, percent temp temperature, degrees celsius","code":""},{"path":"/reference/get.vpd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"VPD — get.vpd","text":"vpd: vapor pressure deficit, mb","code":""},{"path":"/reference/get.vpd.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"VPD — get.vpd","text":"Calculate vapor pressure deficit relative humidity temperature.","code":""},{"path":"/reference/get.vpd.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"VPD — get.vpd","text":"David LeBauer","code":""},{"path":"/reference/get.vpd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"VPD — get.vpd","text":"","code":"temp <- -30:30 plot(temp, get.vpd(0, temp))"},{"path":"/reference/get_NARR_thredds.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve NARR data using thredds — get_NARR_thredds","title":"Retrieve NARR data using thredds — get_NARR_thredds","text":"Retrieve NARR data using thredds","code":""},{"path":"/reference/get_NARR_thredds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve NARR data using thredds — get_NARR_thredds","text":"","code":"get_NARR_thredds(   start_date,   end_date,   lat.in,   lon.in,   progress = TRUE,   drop_outside = TRUE,   parallel = TRUE,   ncores = 1 )"},{"path":"/reference/get_NARR_thredds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve NARR data using thredds — get_NARR_thredds","text":"start_date Start date meteorology end_date End date meteorology lat.Latitude coordinate lon.Longitude coordinate progress Whether show progress bar (default = `TRUE`). Requires `progress` package installed. drop_outside Whether drop dates outside `start_date` `end_date` range (default = `TRUE`). parallel Download parallel? Default = TRUE ncores Number cores parallel download. Default `parallel::detectCores()`","code":""},{"path":"/reference/get_NARR_thredds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve NARR data using thredds — get_NARR_thredds","text":"`tibble` containing time series NARR data given site","code":""},{"path":"/reference/get_NARR_thredds.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Retrieve NARR data using thredds — get_NARR_thredds","text":"Alexey Shiklomanov","code":""},{"path":"/reference/get_NARR_thredds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve NARR data using thredds — get_NARR_thredds","text":"","code":"if (FALSE) { # \\dontrun{ dat <- get_NARR_thredds(\"2008-01-01\", \"2008-01-15\", 43.3724, -89.9071) } # }"},{"path":"/reference/get_cf_variables_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve the current CF variables table from cfconventions.org and convert it into a data.frame — get_cf_variables_table","title":"Retrieve the current CF variables table from cfconventions.org and convert it into a data.frame — get_cf_variables_table","text":"Retrieve current CF variables table cfconventions.org convert data.frame","code":""},{"path":"/reference/get_cf_variables_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve the current CF variables table from cfconventions.org and convert it into a data.frame — get_cf_variables_table","text":"","code":"get_cf_variables_table(cf_url = build_cf_variables_table_url(57))"},{"path":"/reference/get_cf_variables_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve the current CF variables table from cfconventions.org and convert it into a data.frame — get_cf_variables_table","text":"cf_url URL CF variables table XML. See also build_cf_variables_table_url.","code":""},{"path":"/reference/get_cf_variables_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve the current CF variables table from cfconventions.org and convert it into a data.frame — get_cf_variables_table","text":"CF variables table, tibble","code":""},{"path":"/reference/get_cf_variables_table.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Retrieve the current CF variables table from cfconventions.org and convert it into a data.frame — get_cf_variables_table","text":"Alexey Shiklomanov","code":""},{"path":"/reference/get_clowderauth.html","id":null,"dir":"Reference","previous_headings":"","what":"Authentication lookup helper — get_clowderauth","title":"Authentication lookup helper — get_clowderauth","text":"Authentication lookup helper","code":""},{"path":"/reference/get_clowderauth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Authentication lookup helper — get_clowderauth","text":"","code":"get_clowderauth(key, user, pass, url, authfile = \"~/.pecan.clowder.xml\")"},{"path":"/reference/get_clowderauth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Authentication lookup helper — get_clowderauth","text":"key, user, pass passed unchanged download.Geostreams call, possibly null url matched <hostname> authfile, ignored authfile contains hostname. authfile path PEcAn-formatted XML settings file; must contain <clowder> key","code":""},{"path":"/reference/get_narr_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve NARR data from a given URL — get_narr_url","title":"Retrieve NARR data from a given URL — get_narr_url","text":"Retrieve NARR data given URL","code":""},{"path":"/reference/get_narr_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve NARR data from a given URL — get_narr_url","text":"","code":"get_narr_url(url, xy, flx, pb = NULL)"},{"path":"/reference/get_narr_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve NARR data from a given URL — get_narr_url","text":"url Full URL NARR thredds file xy Vector length 2 containing NARR coordinates flx (Logical) `TRUE`, format `flx` variables. Otherwise, format `sfc` variables. See [narr_flx_vars]. pb Progress bar R6 object (default = `NULL`)","code":""},{"path":"/reference/get_narr_url.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Retrieve NARR data from a given URL — get_narr_url","text":"Alexey Shiklomanov","code":""},{"path":"/reference/half_hour_downscale.html","id":null,"dir":"Reference","previous_headings":"","what":"half_hour_downscale — half_hour_downscale","title":"half_hour_downscale — half_hour_downscale","text":"half_hour_downscale","code":""},{"path":"/reference/half_hour_downscale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"half_hour_downscale — half_hour_downscale","text":"","code":"temporal_downscale_half_hour(   input_file,   output_file,   overwrite = TRUE,   hr = 0.5 )"},{"path":"/reference/half_hour_downscale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"half_hour_downscale — half_hour_downscale","text":"input_file location NOAAGEFS_1hr files output_file location store half_hour files overwrite whether force hamf_hour_downscale proceed hr set half hour","code":""},{"path":"/reference/half_hour_downscale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"half_hour_downscale — half_hour_downscale","text":"list data frames returned containing information data file can used locate later.  data frame contains information one file.","code":""},{"path":"/reference/latlon2lcc.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert latitude and longitude to x-y coordinates (in km) in Lambert conformal conic projection (used by NARR) — latlon2lcc","title":"Convert latitude and longitude to x-y coordinates (in km) in Lambert conformal conic projection (used by NARR) — latlon2lcc","text":"Convert latitude longitude x-y coordinates (km) Lambert conformal conic projection (used NARR)","code":""},{"path":"/reference/latlon2lcc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert latitude and longitude to x-y coordinates (in km) in Lambert conformal conic projection (used by NARR) — latlon2lcc","text":"","code":"latlon2lcc(lat.in, lon.in)"},{"path":"/reference/latlon2lcc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert latitude and longitude to x-y coordinates (in km) in Lambert conformal conic projection (used by NARR) — latlon2lcc","text":"lat.Latitude coordinate lon.Longitude coordinate","code":""},{"path":"/reference/latlon2lcc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert latitude and longitude to x-y coordinates (in km) in Lambert conformal conic projection (used by NARR) — latlon2lcc","text":"`sp::SpatialPoints` object containing transformed x y coordinates, km, match NARR coordinates","code":""},{"path":"/reference/latlon2lcc.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Convert latitude and longitude to x-y coordinates (in km) in Lambert conformal conic projection (used by NARR) — latlon2lcc","text":"Alexey Shiklomanov","code":""},{"path":"/reference/latlon2narr.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert latitude and longitude coordinates to NARR indices — latlon2narr","title":"Convert latitude and longitude coordinates to NARR indices — latlon2narr","text":"Convert latitude longitude coordinates NARR indices","code":""},{"path":"/reference/latlon2narr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert latitude and longitude coordinates to NARR indices — latlon2narr","text":"","code":"latlon2narr(nc, lat.in, lon.in)"},{"path":"/reference/latlon2narr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert latitude and longitude coordinates to NARR indices — latlon2narr","text":"nc `ncdf4` connection object lat.Latitude coordinate lon.Longitude coordinate","code":""},{"path":"/reference/latlon2narr.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert latitude and longitude coordinates to NARR indices — latlon2narr","text":"Vector length 2 containing NARR `x` `y` indices, can used `ncdf4::ncvar_get` `start` argument.","code":""},{"path":"/reference/latlon2narr.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Convert latitude and longitude coordinates to NARR indices — latlon2narr","text":"Alexey Shiklomanov","code":""},{"path":"/reference/lightME.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulates the light macro environment — lightME","title":"Simulates the light macro environment — lightME","text":"Simulates light macro environment based latitude, day year. coefficients can adjusted.","code":""},{"path":"/reference/lightME.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulates the light macro environment — lightME","text":"","code":"lightME(lat = 40, DOY = 190, t.d = 12, t.sn = 12, atm.P = 1e+05, alpha = 0.85)"},{"path":"/reference/lightME.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulates the light macro environment — lightME","text":"lat latitude, default 40 (Urbana, IL, U.S.). DOY day year (1–365), default 190. t.d time day hours (0–23), default 12. t.sn time solar noon, default 12. atm.P atmospheric pressure, default 1e5 (kPa). alpha atmospheric transmittance, default 0.85.","code":""},{"path":"/reference/lightME.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulates the light macro environment — lightME","text":"list structure components: '.dir' Direct radiation (\\(\\mu\\) mol \\(m^{-2}s^{-1}\\) '.diff' Indirect (diffuse) radiation (\\(\\mu\\) mol\\(m^{-2}s^{-1}\\) 'cos.th' cosine \\(\\theta\\), solar zenith angle. 'propIdir' proportion direct radiation. 'propIdiff' proportion indirect (diffuse) radiation.","code":""},{"path":"/reference/lm_ensemble_sims.html","id":null,"dir":"Reference","previous_headings":"","what":"lm_ensemble_sims — lm_ensemble_sims","title":"lm_ensemble_sims — lm_ensemble_sims","text":"function heavy lifting final              function tdm workflow titled predict_subdaily_met(). uses linear              regression approach generating hourly values coarse data              file user selects downscale based hourly models betas              generated gen.subdaily.models().","code":""},{"path":"/reference/lm_ensemble_sims.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"lm_ensemble_sims — lm_ensemble_sims","text":"","code":"lm_ensemble_sims(   dat.mod,   n.ens,   path.model,   direction.filter,   lags.list = NULL,   lags.init = NULL,   dat.train,   precip.distribution,   force.sanity = TRUE,   sanity.tries = 25,   sanity.sd = 6,   seed = Sys.time(),   print.progress = FALSE )"},{"path":"/reference/lm_ensemble_sims.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"lm_ensemble_sims — lm_ensemble_sims","text":"dat.mod - dataframe predicted time step training data n.ens - number hourly ensemble members generate path.model - path training model & betas stored direction.filter - Whether model filtered backward forward time. options = c(\"backward\", \"forward\") (PalEON go backward, anybody interested future go forward) lags.list - optional list form lags.init, one entry unique `ens.day` dat.mod lags.init - data frame initialization parameters match data dat.mod dat.train - training data used fit model; needed night/day surface_downwelling_shortwave_flux_in_air precip.distribution - list 2 sub-lists containing number observations precip training data per day & hour max rain training data.  used help solve \"constant drizzle\" problem force.sanity - (logical) force data meet sanity checks? sanity.tries - many time try predict reasonable value giving ?  want end infinite loop sanity.sd - many standard deviations mean used determine sane outliers (default 6) seed - (optional) set seed manually allow reproducible results print.progress - TRUE print progress bar","code":""},{"path":"/reference/lm_ensemble_sims.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"lm_ensemble_sims — lm_ensemble_sims","text":"Linear Regression Ensemble Simulation Met downscaling function predicts ensembles downscaled meteorology","code":""},{"path":[]},{"path":"/reference/lm_ensemble_sims.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"lm_ensemble_sims — lm_ensemble_sims","text":"Christy Rollinson, James Simkins","code":""},{"path":"/reference/load.cfmet.html","id":null,"dir":"Reference","previous_headings":"","what":"Load met data from PEcAn formatted met driver — load.cfmet","title":"Load met data from PEcAn formatted met driver — load.cfmet","text":"subsets PEcAn formatted met driver file converts data.frame object","code":""},{"path":"/reference/load.cfmet.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load met data from PEcAn formatted met driver — load.cfmet","text":"","code":"load.cfmet(met.nc, lat, lon, start.date, end.date)"},{"path":"/reference/load.cfmet.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load met data from PEcAn formatted met driver — load.cfmet","text":"met.nc object class ncdf4 representing open CF compliant, PEcAn standard netcdf file met data lat numeric value latitude lon numeric value longitude start.date format 'YYYY-MM-DD' end.date format 'YYYY-MM-DD'","code":""},{"path":"/reference/load.cfmet.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load met data from PEcAn formatted met driver — load.cfmet","text":"data frame met data","code":""},{"path":"/reference/load.cfmet.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Load met data from PEcAn formatted met driver — load.cfmet","text":"David LeBauer","code":""},{"path":"/reference/merge_met_variable.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge a new met variable from an external file (e.g. CO2) into existing met files — merge_met_variable","title":"Merge a new met variable from an external file (e.g. CO2) into existing met files — merge_met_variable","text":"Currently modifies files PLACE rather creating new copy files new DB record. Currently unit name checking implemented CO2. Currently yet support merge data lat/lon New variable time dimension thus MIGHT break downstream code....","code":""},{"path":"/reference/merge_met_variable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge a new met variable from an external file (e.g. CO2) into existing met files — merge_met_variable","text":"","code":"merge_met_variable(   in.path,   in.prefix,   start_date,   end_date,   merge.file,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/merge_met_variable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge a new met variable from an external file (e.g. CO2) into existing met files — merge_met_variable","text":".path path original data .prefix prefix original data start_date, end_date date (character standard date format). year component used. merge.file path file merged overwrite logical: replace output file already exists? verbose logical: ncdf4 functions print debugging information run? ... arguments, currently ignored","code":""},{"path":"/reference/merge_met_variable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge a new met variable from an external file (e.g. CO2) into existing met files — merge_met_variable","text":"Currently nothing. TODO: Return data frame summarizing merged files.","code":""},{"path":"/reference/merge_met_variable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Merge a new met variable from an external file (e.g. CO2) into existing met files — merge_met_variable","text":"","code":"if (FALSE) { # \\dontrun{ in.path    <- \"~/paleon/PalEONregional_CF_site_1-24047/\" in.prefix  <- \"\" outfolder  <- \"~/paleon/metTest/\" merge.file <- \"~/paleon/paleon_monthly_co2.nc\" start_date <- \"0850-01-01\" end_date   <- \"2010-12-31\" overwrite  <- FALSE verbose    <- TRUE  merge_met_variable(in.path,in.prefix,start_date,end_date,merge.file,overwrite,verbose) PEcAn.DALEC::met2model.DALEC(in.path,in.prefix,outfolder,start_date,end_date) } # }"},{"path":"/reference/met.process.html","id":null,"dir":"Reference","previous_headings":"","what":"met.process — met.process","title":"met.process — met.process","text":"met.process","code":""},{"path":"/reference/met.process.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"met.process — met.process","text":"","code":"met.process(   site,   input_met,   start_date,   end_date,   model,   host = \"localhost\",   dbparms,   dir,   spin = NULL,   overwrite = FALSE )"},{"path":"/reference/met.process.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"met.process — met.process","text":"site Site info settings file input_met data source process. start_date start date data downloaded (use year part date) end_date end date data downloaded (use year part date) model model_type name host Host info settings file dbparms database settings settings file dir directory write outputs spin spin-settings passed model-specific met2model. List containing nyear (number years spin-), nsample (first n years cycle), resample (TRUE/FALSE) overwrite Whether force met.process proceed. `overwrite` may list individual components corresponding        `download`, `met2cf`, `standardize`, `met2model`. instead simple boolean,        default behavior `overwrite=FALSE` overwrite nothing, might expect.        Note however default behavior `overwrite=TRUE` overwrite everything        *except* raw met downloads. .e., corresponds : list(download = FALSE, met2cf = TRUE, standardize = TRUE,  met2model = TRUE)  List `url`, `username`, `password`","code":""},{"path":"/reference/met.process.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"met.process — met.process","text":"Elizabeth Cowdery, Michael Dietze, Ankur Desai, James Simkins, Ryan Kelly","code":""},{"path":"/reference/met.process.stage.html","id":null,"dir":"Reference","previous_headings":"","what":"met.process.stage — met.process.stage","title":"met.process.stage — met.process.stage","text":"met.process.stage","code":""},{"path":"/reference/met.process.stage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"met.process.stage — met.process.stage","text":"","code":"met.process.stage(input.id, raw.id, con)"},{"path":"/reference/met.process.stage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"met.process.stage — met.process.stage","text":"input.id bety db input format raw.id format id raw met data con database connection","code":""},{"path":"/reference/met.process.stage.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"met.process.stage — met.process.stage","text":"Elizabeth Cowdery","code":""},{"path":"/reference/met2CF.ALMA.html","id":null,"dir":"Reference","previous_headings":"","what":"met2CF.ALMA — met2CF.ALMA","title":"met2CF.ALMA — met2CF.ALMA","text":"Get meteorology variables ALMA netCDF files convert netCDF CF format","code":""},{"path":"/reference/met2CF.ALMA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"met2CF.ALMA — met2CF.ALMA","text":"","code":"met2CF.ALMA(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE )"},{"path":"/reference/met2CF.ALMA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"met2CF.ALMA — met2CF.ALMA","text":".path location disk inputs stored .prefix prefix input output files outfolder location disk outputs stored start_date start date data downloaded (use year part date) end_date end date data downloaded (use year part date) overwrite existing files overwritten verbose logical: enable verbose mode netcdf writer functions?","code":""},{"path":"/reference/met2CF.ALMA.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"met2CF.ALMA — met2CF.ALMA","text":"Mike Dietze","code":""},{"path":"/reference/met2CF.Ameriflux.html","id":null,"dir":"Reference","previous_headings":"","what":"met2CF.Ameriflux — met2CF.Ameriflux","title":"met2CF.Ameriflux — met2CF.Ameriflux","text":"Get meteorology variables Ameriflux L2 netCDF files convert netCDF CF format","code":""},{"path":"/reference/met2CF.Ameriflux.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"met2CF.Ameriflux — met2CF.Ameriflux","text":"","code":"met2CF.Ameriflux(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/met2CF.Ameriflux.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"met2CF.Ameriflux — met2CF.Ameriflux","text":".path location disk inputs stored .prefix prefix input output files outfolder location disk outputs stored start_date start date data downloaded (use year part date) end_date end date data downloaded (use year part date) overwrite existing files overwritten verbose ouput function extra verbose ... arguments, currently ignored","code":""},{"path":"/reference/met2CF.Ameriflux.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"met2CF.Ameriflux — met2CF.Ameriflux","text":"Josh Mantooth, Mike Dietze, Elizabeth Cowdery, Ankur Desai","code":""},{"path":"/reference/met2CF.AmerifluxLBL.html","id":null,"dir":"Reference","previous_headings":"","what":"met2CF.AmerifluxLBL — met2CF.AmerifluxLBL","title":"met2CF.AmerifluxLBL — met2CF.AmerifluxLBL","text":"Get meteorology variables Ameriflux LBL convert netCDF CF format","code":""},{"path":"/reference/met2CF.AmerifluxLBL.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"met2CF.AmerifluxLBL — met2CF.AmerifluxLBL","text":"","code":"met2CF.AmerifluxLBL(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   format,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/met2CF.AmerifluxLBL.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"met2CF.AmerifluxLBL — met2CF.AmerifluxLBL","text":".path location disk inputs stored .prefix prefix input output files outfolder location disk outputs stored start_date start date data downloaded (use year part date) end_date end date data downloaded (use year part date) format data frame list elements described AmerifluxLBL format Bety record 5000000002 returned PEcAn.DB::query.format.vars(format.id=5000000002) format output db/R/query.format.vars, :   REQUIRED:   format$lat = latitude site   format$lon = longitude site   format$header = number lines header   format$vars data.frame lists information variable read, least airT required     format$vars$input_name = Name CSV file     format$vars$input_units = Units CSV file     format$vars$bety_name = Name BETY   OPTIONAL:   format$na.strings = list missing values convert NA, -9999   format$skip = lines skip excluding header   format$vars$column_number = Column number CSV file (optional, use header name first) Columns NA bety variable name dropped. Units datetime field lubridate function used parse date (e.g. ymd_hms mdy_hm). overwrite existing files overwritten verbose ouput function extra verbose ... arguments, currently ignored","code":""},{"path":"/reference/met2CF.AmerifluxLBL.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"met2CF.AmerifluxLBL — met2CF.AmerifluxLBL","text":"Ankur Desai","code":""},{"path":"/reference/met2CF.ERA5.html","id":null,"dir":"Reference","previous_headings":"","what":"met2cf.ERA5 — met2CF.ERA5","title":"met2cf.ERA5 — met2CF.ERA5","text":"met2cf.ERA5","code":""},{"path":"/reference/met2CF.ERA5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"met2cf.ERA5 — met2CF.ERA5","text":"","code":"met2CF.ERA5(   lat,   long,   start_date,   end_date,   sitename,   outfolder,   out.xts,   overwrite = FALSE,   verbose = TRUE,   ens_size = 1 )"},{"path":"/reference/met2CF.ERA5.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"met2cf.ERA5 — met2CF.ERA5","text":"lat latitude long longitude start_date start date end_date end date sitename name site used making identifier. outfolder Path directory nc files need saved. .xts Output extract.nc.ERA5 function list time series met variables ensemble member single reanalysis dataset. overwrite Logical files needs overwritten. verbose Logical flag defining ouput function extra verbose. ens_size Number ensemble members process. Default 1.","code":""},{"path":"/reference/met2CF.ERA5.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"met2cf.ERA5 — met2CF.ERA5","text":"list dataframes","code":""},{"path":"/reference/met2CF.ERA5.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"met2cf.ERA5 — met2CF.ERA5","text":"Hamze Dokohaki, Akash","code":""},{"path":"/reference/met2CF.FACE.html","id":null,"dir":"Reference","previous_headings":"","what":"convert FACE files to CF files — met2CF.FACE","title":"convert FACE files to CF files — met2CF.FACE","text":"Note: `.path` `.prefix` together must identify exactly one file,   function returns NULL. note despite name, `.prefix` match anywhere   filename: met2CF.FACE(\"dir\", \"\", ...)` find `dir/a_b.nc`   `dir/b_a.nc`!","code":""},{"path":"/reference/met2CF.FACE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convert FACE files to CF files — met2CF.FACE","text":"","code":"met2CF.FACE(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   input.id,   site,   format,   ... )"},{"path":"/reference/met2CF.FACE.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convert FACE files to CF files — met2CF.FACE","text":".path directory find inputs (`*.nc`) .prefix pattern match select file within `.path` outfolder path write output. contain substring \"FACE\", rewritten \"FACE_a\" \"FACE_e\"  corresponding treatments. start_date, end_date ignored. Time taken input files. input.id ignored site list[like]. components `lat` `lon` (decimal degrees) currently used format specification variable names units format returned `PEcAn.DB::query.format.vars` ... arguments, currently ignored","code":""},{"path":"/reference/met2CF.FACE.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"convert FACE files to CF files — met2CF.FACE","text":"Elizabeth Cowdery","code":""},{"path":"/reference/met2CF.Geostreams.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert geostreams JSON to CF met file — met2CF.Geostreams","title":"Convert geostreams JSON to CF met file — met2CF.Geostreams","text":"Convert geostreams JSON CF met file","code":""},{"path":"/reference/met2CF.Geostreams.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert geostreams JSON to CF met file — met2CF.Geostreams","text":"","code":"met2CF.Geostreams(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/met2CF.Geostreams.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert geostreams JSON to CF met file — met2CF.Geostreams","text":".path directory containing Geostreams JSON file(s) converted .prefix initial portion input filenames (everything dates) outfolder directory nc output files written. created necessary start_date, end_date beginning end run, YYYY-MM-DD. overwrite logical: Regenerate existing files name? verbose logical, passed nc_create control chatty netCDF creation ... arguments, currently ignored","code":""},{"path":"/reference/met2CF.Geostreams.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Convert geostreams JSON to CF met file — met2CF.Geostreams","text":"Harsh Agrawal, Chris Black","code":""},{"path":"/reference/met2CF.ICOS.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert variables ICOS variables to CF format. — met2CF.ICOS","title":"Convert variables ICOS variables to CF format. — met2CF.ICOS","text":"Variables present output netCDF file: air_temperature, air_temperature, relative_humidity, specific_humidity, water_vapor_saturation_deficit, surface_downwelling_longwave_flux_in_air, surface_downwelling_shortwave_flux_in_air, surface_downwelling_photosynthetic_photon_flux_in_air, precipitation_flux, eastward_wind, northward_wind","code":""},{"path":"/reference/met2CF.ICOS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert variables ICOS variables to CF format. — met2CF.ICOS","text":"","code":"met2CF.ICOS(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   format,   overwrite = FALSE,   ... )"},{"path":"/reference/met2CF.ICOS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert variables ICOS variables to CF format. — met2CF.ICOS","text":".path path input ICOS product CSV file .prefix name input file outfolder path directory output file stored. specified directory exists, created. start_date start date input file end_date end date input file format format data frame list elements described   REQUIRED:   format$header = number lines header   format$vars data.frame lists information variable read, least airT required     format$vars$input_name = Name CSV file     format$vars$input_units = Units CSV file     format$vars$bety_name = Name BETY   OPTIONAL:   format$lat = latitude site   format$lon = longitude site   format$na.strings = list missing values convert NA, -9999   format$skip = lines skip excluding header   format$vars$column_number = Column number CSV file (optional, use header name first) Columns NA bety variable name dropped. overwrite overwrite existing files overwritten. Default False. ... used extra arguments present.","code":""},{"path":"/reference/met2CF.ICOS.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert variables ICOS variables to CF format. — met2CF.ICOS","text":"information output file","code":""},{"path":"/reference/met2CF.NARR.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert NARR files to CF files — met2CF.NARR","title":"Convert NARR files to CF files — met2CF.NARR","text":"Convert NARR files CF files","code":""},{"path":"/reference/met2CF.NARR.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert NARR files to CF files — met2CF.NARR","text":"","code":"met2CF.NARR(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/met2CF.NARR.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert NARR files to CF files — met2CF.NARR","text":".path directory find NARR files .prefix pattern match find NARR files inside `.path` outfolder directory name write CF outputs start_date start date data downloaded (use year part date) end_date end date data downloaded (use year part date) overwrite existing files overwritten verbose ouput function extra verbose ... arguments, currently ignored","code":""},{"path":"/reference/met2CF.NARR.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Convert NARR files to CF files — met2CF.NARR","text":"Elizabeth Cowdery, Rob Kooper","code":""},{"path":"/reference/met2CF.PalEON.html","id":null,"dir":"Reference","previous_headings":"","what":"met2CF.PalEON — met2CF.PalEON","title":"met2CF.PalEON — met2CF.PalEON","text":"Get meteorology variables PalEON netCDF files convert netCDF CF format","code":""},{"path":"/reference/met2CF.PalEON.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"met2CF.PalEON — met2CF.PalEON","text":"","code":"met2CF.PalEON(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   lat,   lon,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/met2CF.PalEON.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"met2CF.PalEON — met2CF.PalEON","text":".path location disk inputs stored .prefix prefix input output files outfolder location disk outputs stored start_date start date data downloaded (use year part date) end_date end date data downloaded (use year part date) lat, lon site location decimal degrees. Caution: must length one. overwrite existing files overwritten verbose logical: enable verbose mode netcdf writer functions? ... arguments, currently ignored","code":""},{"path":"/reference/met2CF.PalEON.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"met2CF.PalEON — met2CF.PalEON","text":"Mike Dietze","code":""},{"path":"/reference/met2CF.PalEONregional.html","id":null,"dir":"Reference","previous_headings":"","what":"met2CF.PalEONregional — met2CF.PalEONregional","title":"met2CF.PalEONregional — met2CF.PalEONregional","text":"Get meteorology variables PalEON netCDF files convert netCDF CF format","code":""},{"path":"/reference/met2CF.PalEONregional.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"met2CF.PalEONregional — met2CF.PalEONregional","text":"","code":"met2CF.PalEONregional(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/met2CF.PalEONregional.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"met2CF.PalEONregional — met2CF.PalEONregional","text":".path location disk inputs stored .prefix prefix input output files outfolder location disk outputs stored start_date start date data downloaded (use year part date) end_date end date data downloaded (use year part date) overwrite existing files overwritten verbose logical: enable verbose mode netcdf writer functions? ... arguments, currently ignored","code":""},{"path":"/reference/met2CF.PalEONregional.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"met2CF.PalEONregional — met2CF.PalEONregional","text":"Mike Dietze","code":""},{"path":"/reference/met2CF.csv.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert met data from CSV to CF — met2CF.csv","title":"Convert met data from CSV to CF — met2CF.csv","text":"Convert met data CSV CF","code":""},{"path":"/reference/met2CF.csv.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert met data from CSV to CF — met2CF.csv","text":"","code":"met2CF.csv(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   format,   lat = NULL,   lon = NULL,   nc_verbose = FALSE,   overwrite = FALSE,   ... )"},{"path":"/reference/met2CF.csv.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert met data from CSV to CF — met2CF.csv","text":".path directory find met csv files .prefix pattern match find met files inside `.path` outfolder directory name write CF outputs start_date, end_date start stop conversion. Specify `Date` objects, year component used format data frame list produced `PEcAn.DB::query.format.vars`. See details lat, lon latitude longitude site, decimal degrees. provided, taken `format`. nc_verbose logical: run ncvar_add verbose mode? overwrite Logical: Redo conversion output file already exists? ... arguments, currently ignored","code":""},{"path":"/reference/met2CF.csv.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert met data from CSV to CF — met2CF.csv","text":"`format` argument takes output `PEcAn.DB::query.format.vars`,    following components: REQUIRED: `format$lat`: latitude site (unless passed `lat`) `format$lon`: longitude site (unless passed `lon`) `format$header`: number lines header `format$vars`: data.frame lists information         variable read. least `airT` required `format$vars$input_name`: name CSV file `format$vars$input_units`: units CSV file `format$vars$bety_name`: name BETY.       See https://pecan.gitbooks.io/pecan-documentation/content/developers_guide/Adding--Input-Converter.html       allowable names. OPTIONAL: `format$na.strings`: list missing values convert NA,         -9999 `format$skip`: lines skip excluding header `format$vars$column_number`: column number CSV file         (optional, use header name first) Columns NA bety variable name dropped. Units datetime field lubridate function used    parse date (e.g. ymd_hms mdy_hm).","code":""},{"path":"/reference/met2CF.csv.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Convert met data from CSV to CF — met2CF.csv","text":"Mike Dietze, David LeBauer, Ankur Desai","code":""},{"path":"/reference/met2CF.csv.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convert met data from CSV to CF — met2CF.csv","text":"","code":"if (FALSE) { # \\dontrun{ con <- PEcAn.DB::db.open(   list(user='bety', password='bety', host='localhost',   dbname='bety', driver='PostgreSQL',write=TRUE)) start_date <- lubridate::ymd_hm('200401010000') end_date <- lubridate::ymd_hm('200412312330') file<-PEcAn.data.atmosphere::download.Fluxnet2015('US-WCr','~/',start_date,end_date) in.path <- '~/' in.prefix <- file$dbfile.name outfolder <- '~/' format.id <- 5000000001 format <- PEcAn.DB::query.format.vars(format.id=format.id,bety = bety) format$lon <- -92.0 format$lat <- 45.0 format$time_zone <- \"America/Chicago\" results <- PEcAn.data.atmosphere::met2CF.csv(   in.path, in.prefix, outfolder,   start_date, end_date, format,   overwrite=TRUE) } # }"},{"path":"/reference/met_temporal_downscale.Gaussian_ensemble.html","id":null,"dir":"Reference","previous_headings":"","what":"met_temporal_downscale.Gaussian_ensemble — met_temporal_downscale.Gaussian_ensemble","title":"met_temporal_downscale.Gaussian_ensemble — met_temporal_downscale.Gaussian_ensemble","text":"takes source data training dataset site temporally    downscales source dataset resolution training dataset based statistics training dataset.","code":""},{"path":"/reference/met_temporal_downscale.Gaussian_ensemble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"met_temporal_downscale.Gaussian_ensemble — met_temporal_downscale.Gaussian_ensemble","text":"","code":"met_temporal_downscale.Gaussian_ensemble(   in.path,   in.prefix,   outfolder,   input_met,   train_met,   overwrite = FALSE,   verbose = FALSE,   swdn_method = \"sine\",   n_ens = 10,   w_len = 20,   utc_diff = -6,   ... )"},{"path":"/reference/met_temporal_downscale.Gaussian_ensemble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"met_temporal_downscale.Gaussian_ensemble — met_temporal_downscale.Gaussian_ensemble","text":".path ignored .prefix ignored outfolder path directory store output. created exist input_met - source dataset temporally downscaled train_met dataset train_met - observed dataset used train modeled dataset NC format. .e. Flux Tower dataset (see download.Fluxnet2015 download.Ameriflux) overwrite logical: replace output file already exists? verbose logical: ncdf4 functions print debugging information run? swdn_method - Downwelling shortwave flux air downscaling method (options \"sine\", \"spline\", \"Waichler\") n_ens - numeric value number ensembles run w_len - numeric value window length days utc_diff - numeric value HOURS local standard time difference UTC time. CST -6 ... arguments, currently ignored","code":""},{"path":"/reference/met_temporal_downscale.Gaussian_ensemble.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"met_temporal_downscale.Gaussian_ensemble — met_temporal_downscale.Gaussian_ensemble","text":"James Simkins, Akash","code":""},{"path":"/reference/metgapfill.NOAA_GEFS.html","id":null,"dir":"Reference","previous_headings":"","what":"Gapfill NOAA_GEFS weather data — metgapfill.NOAA_GEFS","title":"Gapfill NOAA_GEFS weather data — metgapfill.NOAA_GEFS","text":"function uses simple methods gapfill NOAA GEFS met data. Temperature Precipitation gapfilled splines;  data sources gapfilled using linear models fitted  fitted data.","code":""},{"path":"/reference/metgapfill.NOAA_GEFS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Gapfill NOAA_GEFS weather data — metgapfill.NOAA_GEFS","text":"","code":"metgapfill.NOAA_GEFS(   in.prefix,   in.path,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/metgapfill.NOAA_GEFS.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Gapfill NOAA_GEFS weather data — metgapfill.NOAA_GEFS","text":".prefix met file name .path location file outfolder place write output file start_date start date contents file end_date end date contents file overwrite Whether overwrite output file exists verbose Passed nc writing functions additional output ... arguments, currently ignored","code":""},{"path":"/reference/metgapfill.NOAA_GEFS.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Gapfill NOAA_GEFS weather data — metgapfill.NOAA_GEFS","text":"Luke Dramko","code":""},{"path":"/reference/metgapfill.html","id":null,"dir":"Reference","previous_headings":"","what":"Take an Ameriflux NetCDF file Fill missing met values using MDS approach using MPI-BGC REddyProc library Currently Future version: Choose which variables to gap fill Future version will first downscale and fill with NARR, then REddyProc — metgapfill","title":"Take an Ameriflux NetCDF file Fill missing met values using MDS approach using MPI-BGC REddyProc library Currently Future version: Choose which variables to gap fill Future version will first downscale and fill with NARR, then REddyProc — metgapfill","text":"Take Ameriflux NetCDF file Fill missing met values using MDS approach using MPI-BGC REddyProc library Currently Future version: Choose variables gap fill Future version first downscale fill NARR, REddyProc","code":""},{"path":"/reference/metgapfill.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Take an Ameriflux NetCDF file Fill missing met values using MDS approach using MPI-BGC REddyProc library Currently Future version: Choose which variables to gap fill Future version will first downscale and fill with NARR, then REddyProc — metgapfill","text":"","code":"metgapfill(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   lst = 0,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/metgapfill.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Take an Ameriflux NetCDF file Fill missing met values using MDS approach using MPI-BGC REddyProc library Currently Future version: Choose which variables to gap fill Future version will first downscale and fill with NARR, then REddyProc — metgapfill","text":".path location disk inputs stored .prefix prefix input output files outfolder location disk outputs stored start_date start date data downloaded (use year part date) end_date end date data downloaded (use year part date) lst timezone offset UTC, timezone available time:units attribute file, use , default assume UTC overwrite existing files overwritten verbose function verbose ... arguments, currently ignored","code":""},{"path":"/reference/metgapfill.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Take an Ameriflux NetCDF file Fill missing met values using MDS approach using MPI-BGC REddyProc library Currently Future version: Choose which variables to gap fill Future version will first downscale and fill with NARR, then REddyProc — metgapfill","text":"Ankur Desai","code":""},{"path":"/reference/model.train.html","id":null,"dir":"Reference","previous_headings":"","what":"model.train — model.train","title":"model.train — model.train","text":"Function create linear regression models specific met              variables. used conjunction temporal.downscale.functions()              generate linear regression statistics save output called              later lm_ensemble_sims().","code":""},{"path":"/reference/model.train.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"model.train — model.train","text":"","code":"model.train(dat.subset, v, n.beta, resids = resids, threshold = NULL, ...)"},{"path":"/reference/model.train.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"model.train — model.train","text":"dat.subset data.frame containing lags, next, downscale period data v variable name, character n.beta number betas pull resids TRUE FALSE, whether use residuals threshold NULL except surface_downwelling_shortwave_radiation, helps distinction day night (shortwave without sunlight) ... arguments, currently ignored","code":""},{"path":"/reference/model.train.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"model.train — model.train","text":"TDM Model Train Linear regression calculations specific met variables","code":""},{"path":[]},{"path":"/reference/model.train.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"model.train — model.train","text":"Christy Rollinson, James Simkins","code":""},{"path":"/reference/narr_flx_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"NARR flux and sfc variables — narr_flx_vars","title":"NARR flux and sfc variables — narr_flx_vars","text":"NARR flux sfc variables","code":""},{"path":"/reference/narr_flx_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"NARR flux and sfc variables — narr_flx_vars","text":"","code":"narr_flx_vars  narr_sfc_vars  narr_all_vars"},{"path":"/reference/narr_flx_vars.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"NARR flux and sfc variables — narr_flx_vars","text":"object class tbl_df (inherits tbl, data.frame) 5 rows 3 columns. object class tbl_df (inherits tbl, data.frame) 3 rows 3 columns. object class tbl_df (inherits tbl, data.frame) 8 rows 3 columns.","code":""},{"path":"/reference/nc.merge.html","id":null,"dir":"Reference","previous_headings":"","what":"nc.merge — nc.merge","title":"nc.merge — nc.merge","text":"1st function tdm (Temporally Downscale Meteorology) workflow. nc2dat.train function              parses multiple netCDF files one central training data file called 'dat.train_file'. netCDF              file used generate subdaily models next step workflow, generate.subdaily.models().              also called tdm_predict_subdaily_met final step tdm workflow.","code":""},{"path":"/reference/nc.merge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"nc.merge — nc.merge","text":"","code":"nc.merge(   outfolder,   in.path,   in.prefix,   start_date,   end_date,   upscale = FALSE,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/nc.merge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"nc.merge — nc.merge","text":"outfolder - directory output stored .path - path coarse model (e.g. GCM output) .prefix - prefix model string character (e.g. IPSL.r1i1p1.rcp85) start_date - yyyy-mm-dd end_date - yyyy-mm-dd upscale - Upscale can either set FALSE (leave alone) temporal resolution want aggregate overwrite logical: replace output file already exists? verbose logical: ncdf4 functions print debugging information run? ... arguments, currently ignored","code":""},{"path":"/reference/nc.merge.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"nc.merge — nc.merge","text":"nc.merge Parses multiple netCDF files one central document temporal downscaling procedure","code":""},{"path":[]},{"path":"/reference/nc.merge.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"nc.merge — nc.merge","text":"James Simkins, Christy Rollinson","code":""},{"path":"/reference/noaa_grid_download.html","id":null,"dir":"Reference","previous_headings":"","what":"Download gridded forecast in the box bounded by the latitude and longitude list — noaa_grid_download","title":"Download gridded forecast in the box bounded by the latitude and longitude list — noaa_grid_download","text":"Download gridded forecast box bounded latitude longitude list","code":""},{"path":"/reference/noaa_grid_download.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download gridded forecast in the box bounded by the latitude and longitude list — noaa_grid_download","text":"","code":"noaa_grid_download(   lat_list,   lon_list,   forecast_time,   forecast_date,   model_name_raw,   output_directory,   end_hr )"},{"path":"/reference/noaa_grid_download.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download gridded forecast in the box bounded by the latitude and longitude list — noaa_grid_download","text":"lat_list lat site lon_list long site forecast_time start hour forecast forecast_date date forecast model_name_raw model name directory creation output_directory output directory end_hr end hr determine many hours download","code":""},{"path":"/reference/noaa_grid_download.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download gridded forecast in the box bounded by the latitude and longitude list — noaa_grid_download","text":"NA","code":""},{"path":"/reference/noaa_stage2.html","id":null,"dir":"Reference","previous_headings":"","what":"noaa_stage2 — noaa_stage2","title":"noaa_stage2 — noaa_stage2","text":"noaa_stage2","code":""},{"path":"/reference/noaa_stage2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"noaa_stage2 — noaa_stage2","text":"","code":"noaa_stage2(   cycle = 0,   version = \"v12\",   endpoint = \"data.ecoforecast.org\",   verbose = TRUE,   start_date = \"\" )"},{"path":"/reference/noaa_stage2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"noaa_stage2 — noaa_stage2","text":"cycle Hour forecast made, character string (`\"00\"`, `\"06\"`, `\"12\"` `\"18\"`). `\"00\"` (default) 30 days horizon. version GEFS forecast version. Prior versions correspond forecasts issued 2020-09-25 different ensemble number horizon, among changes, made available . Leave default. endpoint EFI host address (leave default) verbose logical, displays hides messages start_date forecast start date yyyy-mm-dd format","code":""},{"path":"/reference/noaa_stage2.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"noaa_stage2 — noaa_stage2","text":"Alexis Helgeson (taken neon4cast package)","code":""},{"path":"/reference/par2ppfd.html","id":null,"dir":"Reference","previous_headings":"","what":"par2ppfd — par2ppfd","title":"par2ppfd — par2ppfd","text":"convert PAR PPFD","code":""},{"path":"/reference/par2ppfd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"par2ppfd — par2ppfd","text":"","code":"par2ppfd(watts)"},{"path":"/reference/par2ppfd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"par2ppfd — par2ppfd","text":"watts PAR (W / m2)","code":""},{"path":"/reference/par2ppfd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"par2ppfd — par2ppfd","text":"PPFD (umol / m2 / s)","code":""},{"path":"/reference/par2ppfd.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"par2ppfd — par2ppfd","text":"Converts photosynthetically active radiation (PAR, units Watts / m2) photosynthetic photon flux density (PPFD) units umol / m2 / s Campbell Norman p151 PPFD = PAR * (J/m2/s) * (1 mol / 2.35e5 J) 2.35e5 J / mol energy content solar radiation PAR waveband","code":""},{"path":"/reference/par2ppfd.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"par2ppfd — par2ppfd","text":"David LeBauer","code":""},{"path":"/reference/pecan_standard_met_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Conversion table for PEcAn standard meteorology — pecan_standard_met_table","title":"Conversion table for PEcAn standard meteorology — pecan_standard_met_table","text":"Conversion table PEcAn standard meteorology","code":""},{"path":"/reference/pecan_standard_met_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Conversion table for PEcAn standard meteorology — pecan_standard_met_table","text":"","code":"pecan_standard_met_table"},{"path":"/reference/pecan_standard_met_table.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Conversion table for PEcAn standard meteorology — pecan_standard_met_table","text":"object class tbl_df (inherits tbl, data.frame) 20 rows 9 columns.","code":""},{"path":"/reference/permute.nc.html","id":null,"dir":"Reference","previous_headings":"","what":"permute.nc — permute.nc","title":"permute.nc — permute.nc","text":"Permute netCDF files","code":""},{"path":"/reference/permute.nc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"permute.nc — permute.nc","text":"","code":"permute.nc(   in.path,   in.prefix,   outfolder,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/permute.nc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"permute.nc — permute.nc","text":".path location disk inputs stored .prefix prefix input output files outfolder location disk outputs stored start_date start date data permuted (use year part date) end_date end date data permuted (use year part date) overwrite existing files overwritten verbose ouput function extra verbose ... arguments, currently ignored","code":""},{"path":"/reference/permute.nc.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"permute.nc — permute.nc","text":"Elizabeth Cowdery, Rob Kooper","code":""},{"path":"/reference/post_process.html","id":null,"dir":"Reference","previous_headings":"","what":"Post process raw NARR downloaded data frame — post_process","title":"Post process raw NARR downloaded data frame — post_process","text":"Post process raw NARR downloaded data frame","code":""},{"path":"/reference/post_process.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Post process raw NARR downloaded data frame — post_process","text":"","code":"post_process(dat)"},{"path":"/reference/post_process.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Post process raw NARR downloaded data frame — post_process","text":"dat Nested `tibble` mapped call [get_narr_url]","code":""},{"path":"/reference/predict_subdaily_met.html","id":null,"dir":"Reference","previous_headings":"","what":"predict_subdaily_met — predict_subdaily_met","title":"predict_subdaily_met — predict_subdaily_met","text":"main function tdm family workflow. function predicts subdaily meteorology              daily means using linear regression modeling approach. takes dataset              daily resolution temporally downscales hourly resolution using statistics              generated gen.subdaily.models(). references predict.subdaily.function              located lm_ensemble_sims() uses linear regression based approach downscale.              generate multiple ensembles possible hourly values dictated models betas              generated gen.subdaily.models. ensemble member saved netCDF file              CF conventions files ready used general PEcAn workflow.","code":""},{"path":"/reference/predict_subdaily_met.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"predict_subdaily_met — predict_subdaily_met","text":"","code":"predict_subdaily_met(   outfolder,   in.path,   in.prefix,   path.train,   direction.filter = \"forward\",   lm.models.base,   yrs.predict = NULL,   ens.labs = 1:3,   resids = FALSE,   adjust.pr = 1,   force.sanity = TRUE,   sanity.tries = 25,   overwrite = FALSE,   verbose = FALSE,   seed = format(Sys.time(), \"%m%d\"),   print.progress = FALSE,   ... )"},{"path":"/reference/predict_subdaily_met.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"predict_subdaily_met — predict_subdaily_met","text":"outfolder - directory output file stored .path - base path dataset wish temporally downscale; Note: order parallelization work, .prefix need appended final level file structure. example, prefix GFDL.CM3.rcp45.r1i1p1, directory title .path. .prefix - prefix model dataset, .e. file GFDL.CM3.rcp45.r1i1p1.2006 prefix 'GFDL.CM3.rcp45.r1i1p1' path.train - path CF/PEcAn style training data year separate file. direction.filter - Whether model filtered backward forwards time. options = c(\"backward\", \"forwards\") (default forward; PalEON go backward, anybody interested future go forwards) lm.models.base - path linear regression model folders generated using gen.subdaily.models yrs.predict - years want generate met.  NULL, years .path done ens.labs - vector containing labels (suffixes) ensemble member; allows add ensemble rather overwriting default naming scheme resids - logical stating whether pass residual data adjust.pr - adjustment factor fore precipitation extracted values seem force.sanity - (logical) force data meet sanity checks? sanity.tries - many time try predict reasonable value giving ?  want end infinite loop overwrite logical: replace output file already exists? verbose logical: ncdf4 functions print debugging information run? seed - manually set seed results reproducible print.progress - print progress bar? ... arguments, currently ignored","code":""},{"path":"/reference/predict_subdaily_met.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"predict_subdaily_met — predict_subdaily_met","text":"Predict Subdaily Meteorology Predict Subdaily Meteorology based statistics created gen.subdaily.models()","code":""},{"path":[]},{"path":"/reference/predict_subdaily_met.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"predict_subdaily_met — predict_subdaily_met","text":"Christy Rollinson, James Simkins","code":""},{"path":"/reference/predict_subdaily_met.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"predict_subdaily_met — predict_subdaily_met","text":"","code":"if (FALSE) { # \\dontrun{   predict_subdaily_met(     outfolder = \"~/Downscaled_GCM\",     in.path = \"~/raw_GCM\",     in.prefix = \"GFDL\",     path.train = \"~/Training_data\",     lm.models.base = \"sf_scratch/US-WCr\",     ens.labs = 1:3   ) } # }"},{"path":"/reference/prepare_narr_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Write NetCDF file for a single year of data — prepare_narr_year","title":"Write NetCDF file for a single year of data — prepare_narr_year","text":"Write NetCDF file single year data","code":""},{"path":"/reference/prepare_narr_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write NetCDF file for a single year of data — prepare_narr_year","text":"","code":"prepare_narr_year(dat, file, lat_nc, lon_nc, verbose = FALSE)"},{"path":"/reference/prepare_narr_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write NetCDF file for a single year of data — prepare_narr_year","text":"dat NARR tabular data single year ([get_NARR_thredds]) file Full path target file lat_nc `ncdim` object latitude lon_nc `ncdim` object longitude verbose logical: ask`ncdf4` functions chatty work?","code":""},{"path":"/reference/prepare_narr_year.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write NetCDF file for a single year of data — prepare_narr_year","text":"List NetCDF variables data. Creates NetCDF file containing data side effect","code":""},{"path":"/reference/process_gridded_noaa_download.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract and temporally downscale points from downloaded grid files — process_gridded_noaa_download","title":"Extract and temporally downscale points from downloaded grid files — process_gridded_noaa_download","text":"Extract temporally downscale points downloaded grid files","code":""},{"path":"/reference/process_gridded_noaa_download.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract and temporally downscale points from downloaded grid files — process_gridded_noaa_download","text":"","code":"process_gridded_noaa_download(   lat_list,   lon_list,   site_id,   downscale,   overwrite,   forecast_date,   forecast_time,   model_name,   model_name_ds,   model_name_raw,   output_directory )"},{"path":"/reference/process_gridded_noaa_download.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract and temporally downscale points from downloaded grid files — process_gridded_noaa_download","text":"lat_list lat site lon_list lon site site_id Unique site_id file creation downscale Logical. Default TRUE. Downscales 6hr hourly overwrite Logical. Default FALSE. exisiting files overwritten forecast_date Date download forecast_time Time (0,6,12,18) start download model_name Name model file name model_name_ds Name downscale file name model_name_raw Name raw file name output_directory Output directory","code":""},{"path":"/reference/process_gridded_noaa_download.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract and temporally downscale points from downloaded grid files — process_gridded_noaa_download","text":"List","code":""},{"path":"/reference/qair2rh.html","id":null,"dir":"Reference","previous_headings":"","what":"qair2rh — qair2rh","title":"qair2rh — qair2rh","text":"Convert specific humidity relative humidity","code":""},{"path":"/reference/qair2rh.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"qair2rh — qair2rh","text":"","code":"qair2rh(qair, temp, press = 1013.25)"},{"path":"/reference/qair2rh.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"qair2rh — qair2rh","text":"qair specific humidity, dimensionless (e.g. kg/kg) ratio water mass / total air mass temp degrees C press pressure mb","code":""},{"path":"/reference/qair2rh.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"qair2rh — qair2rh","text":"rh relative humidity, ratio actual water mixing ratio saturation mixing ratio","code":""},{"path":"/reference/qair2rh.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"qair2rh — qair2rh","text":"converting specific humidity relative humidity NCEP surface flux data RH Bolton 1980 Teh computation Equivalent Potential Temperature https://archive.eol.ucar.edu/projects/ceop/dm/documents/refdata_report/eqns.html","code":""},{"path":"/reference/qair2rh.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"qair2rh — qair2rh","text":"David LeBauer","code":""},{"path":"/reference/read.register.html","id":null,"dir":"Reference","previous_headings":"","what":"read.register — read.register","title":"read.register — read.register","text":"read.register","code":""},{"path":"/reference/read.register.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"read.register — read.register","text":"","code":"read.register(register.xml, con)"},{"path":"/reference/read.register.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"read.register — read.register","text":"register.xml path xml file con betydb connection","code":""},{"path":"/reference/read.register.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"read.register — read.register","text":"Betsy Cowdery","code":""},{"path":"/reference/read_narr_var.html","id":null,"dir":"Reference","previous_headings":"","what":"Read a specific variable from a NARR NetCDF file — read_narr_var","title":"Read a specific variable from a NARR NetCDF file — read_narr_var","text":"Read specific variable NARR NetCDF file","code":""},{"path":"/reference/read_narr_var.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read a specific variable from a NARR NetCDF file — read_narr_var","text":"","code":"read_narr_var(nc, xy, variable, unit, flx, pb = NULL)"},{"path":"/reference/read_narr_var.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read a specific variable from a NARR NetCDF file — read_narr_var","text":"nc `ncdf4` connection object xy Vector length 2 containing NARR coordinates variable NARR name variable retrieve unit Output unit variable retrieve flx (Logical) `TRUE`, format `flx` variables. Otherwise, format `sfc` variables. See [narr_flx_vars]. pb Progress bar R6 object (default = `NULL`)","code":""},{"path":"/reference/read_narr_var.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Read a specific variable from a NARR NetCDF file — read_narr_var","text":"Alexey Shiklomanov","code":""},{"path":"/reference/rh2qair.html","id":null,"dir":"Reference","previous_headings":"","what":"RH to SH — rh2qair","title":"RH to SH — rh2qair","text":"converts relative humidity specific humidity","code":""},{"path":"/reference/rh2qair.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"RH to SH — rh2qair","text":"","code":"rh2qair(rh, T, press = 101325)"},{"path":"/reference/rh2qair.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"RH to SH — rh2qair","text":"rh relative humidity (proportion, %) T absolute temperature (Kelvin) press air pressure (Pascals)","code":""},{"path":"/reference/rh2qair.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"RH to SH — rh2qair","text":"Mike Dietze, Ankur Desai","code":""},{"path":"/reference/sat_vapor_pressure.html","id":null,"dir":"Reference","previous_headings":"","what":"Saturation vapor pressure (t2es) — sat_vapor_pressure","title":"Saturation vapor pressure (t2es) — sat_vapor_pressure","text":"Compute saturation vapor pressure temperature using one following methods: (Default) Clausius–Clapeyron (FAO-56 style) — Recommended applications. Commonly used approximation terrestrial ecosystem models, consistent Penman-Monteith FAO-56 (Allen et al, 1998). Magnus — accurate range −40 +50 C. Coefficients Alduchov & Eskridge (1996). Goff–Gratch - Highest accuracy; use following WMO-style recommendations. Goff–Gratch 1946; WMO, 2014.","code":""},{"path":"/reference/sat_vapor_pressure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Saturation vapor pressure (t2es) — sat_vapor_pressure","text":"","code":"sat_vapor_pressure(   temp,   temp_units = \"degC\",   out_units = \"kPa\",   method = c(\"ClausiusClapeyron\", \"Magnus\", \"GoffGratch\") )  get.es(temp)  t2es(   temp,   temp_units = \"degC\",   out_units = \"kPa\",   method = \"ClausiusClapeyron\" )"},{"path":"/reference/sat_vapor_pressure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Saturation vapor pressure (t2es) — sat_vapor_pressure","text":"temp numeric vector temperatures temp_units input temperature units (\"degC\",\"K\",\"degF\"), default \"degC\" out_units output pressure units (\"kPa\",\"hPa\",\"Pa\",\"mb\"), default \"kPa\" method one \"Magnus\",\"ClausiusClapeyron\" (default), \"GoffGratch\". See details references.","code":""},{"path":"/reference/sat_vapor_pressure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Saturation vapor pressure (t2es) — sat_vapor_pressure","text":"numeric vector out_units","code":""},{"path":"/reference/sat_vapor_pressure.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Saturation vapor pressure (t2es) — sat_vapor_pressure","text":"method uses different units internally, users can specify units inputs outputs, defaults \"degC\" \"kPa\", respectively.","code":""},{"path":"/reference/sat_vapor_pressure.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Saturation vapor pressure (t2es) — sat_vapor_pressure","text":"Alduchov, O. ., & Eskridge, R. E. (1996). Improved Magnus Form Approximation Saturation Vapor Pressure. J. Appl. Meteor.*, 35(4), 601–609. <doi:10.1175/1520-0450(1996)035<0601:IMFAOS>2.0.CO;2> Allen, R. G., Pereira, L. S., Raes, D., & Smith, M. (1998). Crop evapotranspiration – Guidelines computing crop water requirements. FAO Irrigation Drainage Paper 56. Goff, J. ., & Gratch, S. (1946). Low-pressure properties water −160 212F. Trans. ASHVE, 52, 95–122. WMO (2014) Guide Instruments Methods Observation (WMO-. 8), ch. 4.","code":""},{"path":"/reference/sat_vapor_pressure.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Saturation vapor pressure (t2es) — sat_vapor_pressure","text":"David LeBauer","code":""},{"path":"/reference/sat_vapor_pressure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Saturation vapor pressure (t2es) — sat_vapor_pressure","text":"","code":"# Calculate saturation vapor pressure at 20°C sat_vapor_pressure(20) #> [1] 2.370916 t2es(20) #> [1] 2.370916  # Using different methods t2es(c(10, 20, 30), method = \"Magnus\") #> [1] 1.227922 2.338205 4.242926 t2es(283.15, temp_units = \"K\", method = \"GoffGratch\") #> [1] 1.22703  # Different output units t2es(20, out_units = \"hPa\") #> [1] 23.70916"},{"path":"/reference/save.betas.html","id":null,"dir":"Reference","previous_headings":"","what":"save.betas — save.betas","title":"save.betas — save.betas","text":"Function save betas .nc file. utilized              gen.subdaily.models() linear regression models created","code":""},{"path":"/reference/save.betas.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"save.betas — save.betas","text":"","code":"save.betas(model.out, betas, outfile)"},{"path":"/reference/save.betas.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"save.betas — save.betas","text":"model.list linear regression model output betas name layer betas save (e.g. 'betas' 'betas.resid') outfile location output stored","code":""},{"path":"/reference/save.betas.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"save.betas — save.betas","text":"TDM Save Betas Saves betas calculated gen.subdaily.models()","code":""},{"path":[]},{"path":"/reference/save.betas.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"save.betas — save.betas","text":"Christy Rollinson, James Simkins","code":""},{"path":"/reference/save.model.html","id":null,"dir":"Reference","previous_headings":"","what":"save.model — save.model","title":"save.model — save.model","text":"Function save models .nc file. utilized              gen.subdaily.models() linear regression models created","code":""},{"path":"/reference/save.model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"save.model — save.model","text":"","code":"save.model(model.out, model, outfile)"},{"path":"/reference/save.model.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"save.model — save.model","text":"model.list linear regression model output model name layer model save (e.g. 'model' 'model.resid') outfile location output stored","code":""},{"path":"/reference/save.model.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"save.model — save.model","text":"TDM Save Models Saves models created gen.subdaily.models()","code":""},{"path":[]},{"path":"/reference/save.model.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"save.model — save.model","text":"Christy Rollinson, James Simkins","code":""},{"path":"/reference/site.lst.html","id":null,"dir":"Reference","previous_headings":"","what":"Find time zone for a site — site.lst","title":"Find time zone for a site — site.lst","text":"Find time zone site","code":""},{"path":"/reference/site.lst.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find time zone for a site — site.lst","text":"","code":"site.lst(site.id, con)"},{"path":"/reference/site.lst.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find time zone for a site — site.lst","text":"site.id bety id site look con betydb connection object","code":""},{"path":"/reference/site.lst.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Find time zone for a site — site.lst","text":"Betsy Cowdery","code":""},{"path":"/reference/site_from_tag.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to find the site code for a specific tag — site_from_tag","title":"Function to find the site code for a specific tag — site_from_tag","text":"Example:   sitename = 'Rhinelander Aspen FACE Experiment (FACE-RHIN)'   tag = 'FACE'   site_from_tag(sitename,tag) = 'RHIN' Requires site names set specifically (tag-sitecode) - may change","code":""},{"path":"/reference/site_from_tag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to find the site code for a specific tag — site_from_tag","text":"","code":"site_from_tag(sitename, tag)"},{"path":"/reference/site_from_tag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to find the site code for a specific tag — site_from_tag","text":"sitename full name site tag abbreviated name site","code":""},{"path":"/reference/site_from_tag.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Function to find the site code for a specific tag — site_from_tag","text":"Betsy Cowdery","code":""},{"path":"/reference/solarMJ2ppfd.html","id":null,"dir":"Reference","previous_headings":"","what":"MJ to PPFD — solarMJ2ppfd","title":"MJ to PPFD — solarMJ2ppfd","text":"Solar Radiation PPFD","code":""},{"path":"/reference/solarMJ2ppfd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MJ to PPFD — solarMJ2ppfd","text":"","code":"solarMJ2ppfd(solarMJ)"},{"path":"/reference/solarMJ2ppfd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MJ to PPFD — solarMJ2ppfd","text":"solarMJ MJ per day","code":""},{"path":"/reference/solarMJ2ppfd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MJ to PPFD — solarMJ2ppfd","text":"PPFD umol /m2 / s","code":""},{"path":"/reference/solarMJ2ppfd.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"MJ to PPFD — solarMJ2ppfd","text":"easy straight way convert MJ/m2 mu mol photons / m2 / s (PAR). Note: 1 Watt = 1J/s conversion based following reasoning 0.12 much total radiation expected ocurr hour maximum insolation (guesstimate) 2.07 coefficient converts MJ mol photons (approximate taken ... Campbell Norman (1998). Introduction Environmental Biophysics. pg 151 'energy content solar radiation PAR waveband 2.35 x 10^5 J/mol' See also chapter radiation basics (10) input total solar radiation obtain PAR spectrum need multiply 0.486 based approximation PAR 0.45-0.50 total radiation means 1e6 / (2.35e6) * 0.486 = 2.07 1e6 converts mol mu mol 1/3600 divides values hours seconds","code":""},{"path":"/reference/solarMJ2ppfd.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"MJ to PPFD — solarMJ2ppfd","text":"Fernando Miguez David LeBauer","code":""},{"path":"/reference/spin.met.html","id":null,"dir":"Reference","previous_headings":"","what":"Spin-up meteorology — spin.met","title":"Spin-up meteorology — spin.met","text":"Spin-meteorology","code":""},{"path":"/reference/spin.met.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Spin-up meteorology — spin.met","text":"","code":"spin.met(   in.path,   in.prefix,   start_date,   end_date,   nyear = 1000,   nsample = 50,   resample = TRUE,   run_start_date = start_date,   overwrite = TRUE )"},{"path":"/reference/spin.met.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Spin-up meteorology — spin.met","text":".path met input folder path .prefix met input file prefix (shared annual files, can \"\") start_date start met end_date end met nyear number years spin-, default 1000 nsample sample first nsample years met, default 50 resample resample (TRUE, default) cycle (FALSE) meteorology run_start_date date run starts, can different start met overwrite whether replace previous resampling","code":""},{"path":"/reference/spin.met.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Spin-up meteorology — spin.met","text":"updated start date","code":""},{"path":"/reference/spin.met.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Spin-up meteorology — spin.met","text":"spin.met works creating symbolic links sampled met file, rather copying whole file. aware internal dates files modified. Right now designed called within met2model.[MODEL] met processed (designed work annual CF files model-specific files) example models process met one large file","code":""},{"path":"/reference/spin.met.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Spin-up meteorology — spin.met","text":"","code":"start_date <- \"0850-01-01 00:00:00\" end_date   <- \"2010-12-31 23:59:59\" nyear      <- 10 nsample    <- 50 resample   <- TRUE  if (FALSE) { # \\dontrun{ if(!is.null(spin)){    ## if spinning up, extend processed met by resampling or cycling met    start_date <- PEcAn.data.atmosphere::spin.met(      in.path, in.prefix,      start_date, end_date,      nyear, nsample, resample) } } # }"},{"path":"/reference/split_wind.html","id":null,"dir":"Reference","previous_headings":"","what":"Split wind_speed into eastward_wind and northward_wind — split_wind","title":"Split wind_speed into eastward_wind and northward_wind — split_wind","text":"Currently modifies files PLACE rather creating new copy files new DB record.","code":""},{"path":"/reference/split_wind.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split wind_speed into eastward_wind and northward_wind — split_wind","text":"","code":"split_wind(   in.path,   in.prefix,   start_date,   end_date,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/split_wind.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split wind_speed into eastward_wind and northward_wind — split_wind","text":".path path original data .prefix prefix original data start_date, end_date date (character standard date format). year component used. overwrite logical: replace output file already exists? verbose logical: ncdf4 functions print debugging information run? ... arguments, currently ignored","code":""},{"path":"/reference/split_wind.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split wind_speed into eastward_wind and northward_wind — split_wind","text":"nothing. TODO: Return data frame summarizing results","code":""},{"path":"/reference/split_wind.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split wind_speed into eastward_wind and northward_wind — split_wind","text":"","code":"if (FALSE) { # \\dontrun{ in.path    <- \"~/paleon/PalEONregional_CF_site_1-24047/\" in.prefix  <- \"\" outfolder  <- \"~/paleon/metTest/\" start_date <- \"0850-01-01\" end_date   <- \"2010-12-31\" overwrite  <- FALSE verbose    <- TRUE  split_wind(in.path, in.prefix, start_date, end_date, merge.file, overwrite, verbose) } # }"},{"path":"/reference/step_means.html","id":null,"dir":"Reference","previous_headings":"","what":"take mean at fixed intervals along a vector — step_means","title":"take mean at fixed intervals along a vector — step_means","text":"take mean fixed intervals along vector","code":""},{"path":"/reference/step_means.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"take mean at fixed intervals along a vector — step_means","text":"","code":"step_means(x, step)"},{"path":"/reference/step_means.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"take mean at fixed intervals along a vector — step_means","text":"x numeric vector step integer step size","code":""},{"path":"/reference/step_means.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"take mean at fixed intervals along a vector — step_means","text":"numeric length length(x)/step","code":""},{"path":"/reference/step_means.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"take mean at fixed intervals along a vector — step_means","text":"User check length(x) even multiple step","code":""},{"path":"/reference/subdaily_pred.html","id":null,"dir":"Reference","previous_headings":"","what":"subdaily_pred — subdaily_pred","title":"subdaily_pred — subdaily_pred","text":"Function pull objects created linear regression models              used predict subdaily meteorology. function called              lm_ensemble_sims() downscale meteorology product.              Linear regression models created gen.subdaily.models()","code":""},{"path":"/reference/subdaily_pred.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"subdaily_pred — subdaily_pred","text":"","code":"subdaily_pred(   newdata,   model.predict,   Rbeta,   resid.err = FALSE,   model.resid = NULL,   Rbeta.resid = NULL,   n.ens )"},{"path":"/reference/subdaily_pred.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"subdaily_pred — subdaily_pred","text":"newdata dataframe data downscaled model.predict saved linear regression model Rbeta matrix Rbetas saved linear regression model resid.err logical, whether include residual error model.resid data.frame model residuals Rbeta.resid data.frame Rbeta residuals n.ens number ensembles create","code":""},{"path":"/reference/subdaily_pred.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"subdaily_pred — subdaily_pred","text":"Subdaily Prediction Pulls information linear regression models predict subdaily meteorology","code":""},{"path":[]},{"path":"/reference/subdaily_pred.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"subdaily_pred — subdaily_pred","text":"Christy Rollinson, James Simkins","code":""},{"path":"/reference/sw2par.html","id":null,"dir":"Reference","previous_headings":"","what":"SW to PAR — sw2par","title":"SW to PAR — sw2par","text":"Solar Radiation PPFD","code":""},{"path":"/reference/sw2par.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SW to PAR — sw2par","text":"","code":"sw2par(sw)"},{"path":"/reference/sw2par.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SW to PAR — sw2par","text":"sw shortwave radiation (W/m2 == J/m2/s)","code":""},{"path":"/reference/sw2par.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SW to PAR — sw2par","text":"PAR W/m2","code":""},{"path":"/reference/sw2par.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"SW to PAR — sw2par","text":"input total solar radiation obtain PAR spectrum need multiply 0.486 Campbell Norman p151 based approximation PAR 0.45-0.50 total radiation","code":""},{"path":"/reference/sw2par.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"SW to PAR — sw2par","text":"David LeBauer","code":""},{"path":"/reference/sw2ppfd.html","id":null,"dir":"Reference","previous_headings":"","what":"SW to PPFD — sw2ppfd","title":"SW to PPFD — sw2ppfd","text":"CF Shortwave PPFD","code":""},{"path":"/reference/sw2ppfd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SW to PPFD — sw2ppfd","text":"","code":"sw2ppfd(sw)"},{"path":"/reference/sw2ppfd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SW to PPFD — sw2ppfd","text":"sw CF surface_downwelling_shortwave_flux_in_air (W/m2)","code":""},{"path":"/reference/sw2ppfd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SW to PPFD — sw2ppfd","text":"PPFD umol /m2 / s","code":""},{"path":"/reference/sw2ppfd.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"SW to PPFD — sw2ppfd","text":"Cambell Norman 1998 p 151, ch 10","code":""},{"path":"/reference/sw2ppfd.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"SW to PPFD — sw2ppfd","text":"David LeBauer","code":""},{"path":"/reference/temporal.downscale.functions.html","id":null,"dir":"Reference","previous_headings":"","what":"temporal_downscale_functions — temporal.downscale.functions","title":"temporal_downscale_functions — temporal.downscale.functions","text":"function contains functions heavy lifting gen.subdaily.models()              predict.subdaily.workflow(). Individual variable functions actually generate models              betas dat.train_file save output file. save.model()              save.betas() helper functions save linear regression model output              specific location. future, save data actually use              linear regression model large file. predict.met() called              predict.subdaily.workflow() references linear regression model output              predict ensemble data.","code":""},{"path":"/reference/temporal.downscale.functions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"temporal_downscale_functions — temporal.downscale.functions","text":"","code":"temporal.downscale.functions(   dat.train,   n.beta,   day.window,   resids = FALSE,   parallel = FALSE,   n.cores = NULL,   seed = format(Sys.time(), \"%m%d\"),   outfolder,   print.progress = FALSE,   ... )"},{"path":"/reference/temporal.downscale.functions.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"temporal_downscale_functions — temporal.downscale.functions","text":"dat.train - training data generated tdm_nc2dat.train.R n.beta - number betas generate day.window - number days surrounding current day want pull statistics resids - whether propagate residuals, set FALSE parallel - whether run parallel. feature still worked , set FALSE n.cores - number cores use parallel processing , set NULL seed - allows reproducible outfolder = output stored print.progress - print progress model generation? ... arguments, currently ignored","code":""},{"path":"/reference/temporal.downscale.functions.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"temporal_downscale_functions — temporal.downscale.functions","text":"Temporal Downscale Functions  Met variable functions called gen.subdaily.models predict.subdaily.workflow","code":""},{"path":[]},{"path":"/reference/temporal.downscale.functions.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"temporal_downscale_functions — temporal.downscale.functions","text":"Christy Rollinson, James Simkins","code":""},{"path":"/reference/temporal_downscale.html","id":null,"dir":"Reference","previous_headings":"","what":"Downscale NOAA GEFS from 6hr to 1hr — temporal_downscale","title":"Downscale NOAA GEFS from 6hr to 1hr — temporal_downscale","text":"Downscale NOAA GEFS 6hr 1hr","code":""},{"path":"/reference/temporal_downscale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downscale NOAA GEFS from 6hr to 1hr — temporal_downscale","text":"","code":"temporal_downscale(input_file, output_file, overwrite = TRUE, hr = 1)"},{"path":"/reference/temporal_downscale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downscale NOAA GEFS from 6hr to 1hr — temporal_downscale","text":"input_file, full path 6hr file output_file, full path 1hr file generated overwrite, logical stating overwrite existing output_file hr time step hours temporal downscaling (default = 1)","code":""},{"path":"/reference/temporal_downscale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downscale NOAA GEFS from 6hr to 1hr — temporal_downscale","text":"None","code":""},{"path":"/reference/temporal_downscale.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Downscale NOAA GEFS from 6hr to 1hr — temporal_downscale","text":"Quinn Thomas","code":""},{"path":"/reference/upscale_met.html","id":null,"dir":"Reference","previous_headings":"","what":"upscale_met — upscale_met","title":"upscale_met — upscale_met","text":"upscale_met upscales temporal resolution dataset","code":""},{"path":"/reference/upscale_met.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"upscale_met — upscale_met","text":"","code":"upscale_met(   outfolder,   input_met,   resolution = 1/24,   overwrite = FALSE,   verbose = FALSE,   ... )"},{"path":"/reference/upscale_met.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"upscale_met — upscale_met","text":"outfolder path directory output saved Output netcdf named <input_met_filename>.upscaled.nc input_met path netcdf file containing met dataset resolution desired output resolution, days overwrite logical: replace output file already exists? verbose logical: ncdf4 functions print debugging information run? ... arguments, currently ignored","code":""},{"path":"/reference/upscale_met.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"upscale_met — upscale_met","text":"James Simkins, Chris Black","code":""},{"path":"/reference/wide2long.html","id":null,"dir":"Reference","previous_headings":"","what":"Wide to Long — wide2long","title":"Wide to Long — wide2long","text":"Convert raster lat, lon, var","code":""},{"path":"/reference/wide2long.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Wide to Long — wide2long","text":"","code":"wide2long(data.wide, lat, lon, var)"},{"path":"/reference/wide2long.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Wide to Long — wide2long","text":"data.wide data lat latitude rows lon longitude columns var variable measured","code":""},{"path":"/reference/wide2long.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Wide to Long — wide2long","text":"data.frame colnames (lat, lon, var)","code":""},{"path":"/reference/wide2long.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Wide to Long — wide2long","text":"David LeBauer","code":""},{"path":"/reference/write_noaa_gefs_netcdf.html","id":null,"dir":"Reference","previous_headings":"","what":"Write NOAA GEFS netCDF — write_noaa_gefs_netcdf","title":"Write NOAA GEFS netCDF — write_noaa_gefs_netcdf","text":"Write NOAA GEFS netCDF","code":""},{"path":"/reference/write_noaa_gefs_netcdf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write NOAA GEFS netCDF — write_noaa_gefs_netcdf","text":"","code":"write_noaa_gefs_netcdf(   df,   ens = NA,   lat,   lon,   cf_units,   output_file,   overwrite )"},{"path":"/reference/write_noaa_gefs_netcdf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write NOAA GEFS netCDF — write_noaa_gefs_netcdf","text":"df data frame meterological variables written netcdf.  Columns must start time following columns order `cf_units` ens ensemble index used subsetting df lat latitude degree north lon longitude degree east cf_units vector variable names order appear df output_file name, full path, netcdf file generated overwrite logical overwrite existing netcdf file","code":""},{"path":"/reference/write_noaa_gefs_netcdf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write NOAA GEFS netCDF — write_noaa_gefs_netcdf","text":"NA","code":""},{"path":"/reference/write_noaa_gefs_netcdf.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Write NOAA GEFS netCDF — write_noaa_gefs_netcdf","text":"Quinn Thomas","code":""},{"path":[]},{"path":"/news/index.html","id":"added-1-9-1","dir":"Changelog","previous_headings":"","what":"Added","title":"PEcAn.data.atmosphere 1.9.1","text":"New function sat_vapor_pressure() computes saturation vapor pressure temperature (#3597). New function AmeriFlux_met_ensemble() generates weather ensembles Ameriflux data ERA5 fallback missing radiation soil moisture (#3586). ERA5_met_process() gains option n_cores process ensemble data efficiently parallel (#3563). download.ERA5_cds gains options time, dataset, product_type, defaulting values previously hard-coded (#3547).","code":""},{"path":"/news/index.html","id":"fixed-1-9-1","dir":"Changelog","previous_headings":"","what":"Fixed","title":"PEcAn.data.atmosphere 1.9.1","text":"Updated download.NOAA_GEFS work current (v12.3) release GEFS (#3349).","code":""},{"path":"/news/index.html","id":"changed-1-9-1","dir":"Changelog","previous_headings":"","what":"Changed","title":"PEcAn.data.atmosphere 1.9.1","text":"Dependency ggplot2 now suggested rather required. used two vignettes optional diagnostic plots debias_met_regression. download.ERA5_cds now downloads NetCDF directly (replacing internal conversion grib) using R package ecmwfr (replacing python dependency cdsapi via reticulate) (#3547). download.ERA5.cds() now requires valid Copernicus CDS API key, replacing previous .netrc authentication. See ecmwfr package documentation details. extract.nc.ERA5() met2CF.ERA5 now support ensemble single-member data products (#3584). added support soil temperature, relative humidity, soil moisture, PPFD downscaling met_temporal_downscale.Gaussian_ensemble (#3586). Removed sitename username formal arguments download.NOAA_GEFS. silently ignored, now ’re treated part ... (also ignored!) (#3349).","code":""},{"path":[]},{"path":"/news/index.html","id":"fixed-1-9-0","dir":"Changelog","previous_headings":"","what":"Fixed","title":"PEcAn.data.atmosphere 1.9.0","text":"download.AmerifluxLBL longer wrongly re-fetches raw zipfiles overwrite = FALSE","code":""},{"path":"/news/index.html","id":"changed-1-9-0","dir":"Changelog","previous_headings":"","what":"Changed","title":"PEcAn.data.atmosphere 1.9.0","text":"Functions take argument site_id now accept strings well BETYdb numeric IDs. download.ERA5.old renamed download.ERA5_cds","code":""},{"path":"/news/index.html","id":"removed-1-9-0","dir":"Changelog","previous_headings":"","what":"Removed","title":"PEcAn.data.atmosphere 1.9.0","text":"Helper function db.site.lat.lon removed. Users use PEcAn.DB::query.site(id, con)[c(\"lat\", \"lon\")] instead [@Sweetdevil144, #3308] Removed browndog.net; Browndog service defunct.","code":""},{"path":[]},{"path":"/news/index.html","id":"fixed-1-8-0","dir":"Changelog","previous_headings":"","what":"Fixed","title":"PEcAn.data.atmosphere 1.8.0","text":"Extensive code cleanup fixes function documentation [@moki1202, ; @meetagrawal, #3212; @aariq, #3055; @-Maniaco, #2954] Retired packages maptools rgdal longer imported [@istfer, #3228] Unit conversion now uses PEcAn.utils::ud_convert avoid relying orphaned package udunits2 [@nanu1695, #2989] download.MERRA() now respects overwrite = FALSE [@meetagrawal09, #3169] download.MERRA() can now find data September 2020 [@KristinaRiemer, #2888] download.Fluxnet2015() now gives useful message passed malformed URL [@meetagrawal, #3130] cfmet.downscale.hourly now produces correct number rows timesteps 1 hour (#3270). Note extreme timesteps downscaling algorithm may may give sensible values; patch just ensures gives number values asked .","code":""},{"path":"/news/index.html","id":"added-1-8-0","dir":"Changelog","previous_headings":"","what":"Added","title":"PEcAn.data.atmosphere 1.8.0","text":"ERA5 via ERA5_met_process() [@DongchenZ, #2886] NOAA GEFS data hosted Ecological Forecasting Initiative, via download_NOAA_GEFS_EFI() [@helge22a, #3174] (GEFS data directly NOAA, continue use download.NOAA_GEFS) Integration tests met download CRUNCEP (#3203), ERA5 (#3207), Ameriflux (#3208) [@meetagrawal09]","code":""},{"path":"/news/index.html","id":"changed-1-8-0","dir":"Changelog","previous_headings":"","what":"Changed","title":"PEcAn.data.atmosphere 1.8.0","text":"Download Ameriflux data now uses amerifluxr package, replacing old custom download code [@HenriKajasilta, #2907] metgapfill() can now handle partial years [@istfer, #2878] Downscaling load.cfmet now return plain data frames rather data.tables. Package data.table longer dependency.","code":""},{"path":"/news/index.html","id":"removed-1-8-0","dir":"Changelog","previous_headings":"","what":"Removed","title":"PEcAn.data.atmosphere 1.8.0","text":"Helper function robustly moved package PEcAn.utils [@meetagrawal, #3096]","code":""},{"path":"/news/index.html","id":"pecandataatmosphere-171","dir":"Changelog","previous_headings":"","what":"PEcAn.data.atmosphere 1.7.1","title":"PEcAn.data.atmosphere 1.7.1","text":"changes 1.7.1 earlier recorded single file PEcAn packages; please see https://github.com/PecanProject/pecan/blob/v1.7.1/CHANGELOG.md details.","code":""}]
