<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>sda.enkf_local — sda.enkf_local • PEcAnAssimSequential</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="sda.enkf_local — sda.enkf_local"><meta name="description" content="This function provides complete support for the multi-core and multi-node computation on the general HPC system.
Thus, this script will be more computationally efficient, making it possible to run SDA over thousands of locations."><meta property="og:description" content="This function provides complete support for the multi-core and multi-node computation on the general HPC system.
Thus, this script will be more computationally efficient, making it possible to run SDA over thousands of locations."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PEcAnAssimSequential</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.10.0.9000</small>

    <a href="../index.html" style="padding: 0em 1em">← Up</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>sda.enkf_local</h1>
      <small class="dont-index">Source: <a href="https://github.com/PecanProject/pecan/blob/develop/modules/assim.sequential/R/sda.enkf_parallel.R" class="external-link"><code>R/sda.enkf_parallel.R</code></a></small>
      <div class="d-none name"><code>sda.enkf_local.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function provides complete support for the multi-core and multi-node computation on the general HPC system.
Thus, this script will be more computationally efficient, making it possible to run SDA over thousands of locations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">sda.enkf_local</span><span class="op">(</span></span>
<span>  <span class="va">settings</span>,</span>
<span>  <span class="va">obs.mean</span>,</span>
<span>  <span class="va">obs.cov</span>,</span>
<span>  Q <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pre_enkf_params <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  ensemble.samples <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  outdir <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  control <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>TimeseriesPlot <span class="op">=</span> <span class="cn">FALSE</span>, OutlierDetection <span class="op">=</span> <span class="cn">FALSE</span>, send_email <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>    keepNC <span class="op">=</span> <span class="cn">TRUE</span>, forceRun <span class="op">=</span> <span class="cn">TRUE</span>, MCMC.args <span class="op">=</span> <span class="cn">NULL</span>, merge_nc <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  debias <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cov.dir <span class="op">=</span> <span class="cn">NULL</span>, start.year <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-settings">settings<a class="anchor" aria-label="anchor" href="#arg-settings"></a></dt>
<dd><p>PEcAn settings object</p></dd>


<dt id="arg-obs-mean">obs.mean<a class="anchor" aria-label="anchor" href="#arg-obs-mean"></a></dt>
<dd><p>Lists of date times named by time points, which contains lists of sites named by site ids, which contains observation means for each state variables of each site for each time point.</p></dd>


<dt id="arg-obs-cov">obs.cov<a class="anchor" aria-label="anchor" href="#arg-obs-cov"></a></dt>
<dd><p>Lists of date times named by time points, which contains lists of sites named by site ids, which contains observation covariances for all state variables of each site for each time point.</p></dd>


<dt id="arg-q">Q<a class="anchor" aria-label="anchor" href="#arg-q"></a></dt>
<dd><p>Process covariance matrix given if there is no data to estimate it.</p></dd>


<dt id="arg-pre-enkf-params">pre_enkf_params<a class="anchor" aria-label="anchor" href="#arg-pre-enkf-params"></a></dt>
<dd><p>Used for passing pre-existing time-series of process error into the current SDA runs to ignore the impact by the differences between process errors.</p></dd>


<dt id="arg-ensemble-samples">ensemble.samples<a class="anchor" aria-label="anchor" href="#arg-ensemble-samples"></a></dt>
<dd><p>list of ensemble parameters across PFTs. Default is NULL.</p></dd>


<dt id="arg-outdir">outdir<a class="anchor" aria-label="anchor" href="#arg-outdir"></a></dt>
<dd><p>physical path to the folder that stores the SDA outputs. Default is NULL.</p></dd>


<dt id="arg-control">control<a class="anchor" aria-label="anchor" href="#arg-control"></a></dt>
<dd><p>List of flags controlling the behavior of the SDA.
`TimeseriesPlot` for post analysis examination;
`OutlierDetection` decide if we want to execute the outlier detection each time after the model forecasting;
`send_email` contains lists for sending email to report the SDA progress;
`keepNC` decide if we want to keep the NetCDF files inside the out directory;
`forceRun` decide if we want to proceed the Bayesian MCMC sampling without observations;
`MCMC.args` include lists for controling the MCMC sampling process (iteration, nchains, burnin, and nthin.).
`merge_nc` determine if we want to merge all netCDF files across sites and ensembles.
If it's set as `TRUE`, we will then combine all netCDF files into the `merged_nc` folder within the `outdir`.</p></dd>


<dt id="arg-debias">debias<a class="anchor" aria-label="anchor" href="#arg-debias"></a></dt>
<dd><p>List: R list containing the covariance directory and the start year.
covariance directory should include GeoTIFF files named by year.
start year is numeric input which decide when to start the debiasing feature.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>NONE</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Dongchen Zhang <a href="mailto:zhangdc@bu.edu">zhangdc@bu.edu</a></p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mike Dietze.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

