[{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Mike Dietze. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Dietze M (2025). PEcAnAssimSequential: PEcAn Functions Used Ecological Forecasts Reanalysis. R package version 1.9.0.9000, https://pecanproject.github.io.","code":"@Manual{,   title = {PEcAnAssimSequential: PEcAn Functions Used for Ecological Forecasts and Reanalysis},   author = {Mike Dietze},   year = {2025},   note = {R package version 1.9.0.9000},   url = {https://pecanproject.github.io}, }"},{"path":"/index.html","id":"pecanassimsequential","dir":"","previous_headings":"","what":"PEcAn Functions Used for Ecological Forecasts and Reanalysis","title":"PEcAn Functions Used for Ecological Forecasts and Reanalysis","text":"PEcAn Functions Used Ecological Forecasts Reanalysis","code":""},{"path":"/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"PEcAn Functions Used for Ecological Forecasts and Reanalysis","text":"can install development version PEcAnAssimSequential r-universe like : can install directly GitHub remotes package like :","code":"# Enable repository from pecanproject options(repos = c(   pecanproject = 'https://pecanproject.r-universe.dev',   CRAN = 'https://cloud.r-project.org')) # Download and install PEcAnAssimSequential in R install.packages('PEcAnAssimSequential') library(remotes) install_github('pecanproject/pecan',  subdir = \"modules/assim.sequential\")"},{"path":"/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"PEcAn Functions Used for Ecological Forecasts and Reanalysis","text":"basic example shows solve common problem:","code":"library(PEcAnAssimSequential) ## basic example code"},{"path":"/reference/Analysis.sda.html","id":null,"dir":"Reference","previous_headings":"","what":"Analysis.sda — Analysis.sda","title":"Analysis.sda — Analysis.sda","text":"functions uses FUN perform analysis. EnKF function developed inside PEcAnAssimSequential package can sent function perform Ensemble Kalman Filter. option GEF function inside package allowing perform Generalized Ensemble kalman Filter. using arbitrary function can use ... send variables desired analysis function.","code":""},{"path":"/reference/Analysis.sda.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Analysis.sda — Analysis.sda","text":"","code":"Analysis.sda(   settings,   FUN,   Forecast = list(Pf = NULL, mu.f = NULL, Q = NULL, X = NULL),   Observed = list(R = NULL, Y = NULL),   H,   extraArg,   ... )"},{"path":"/reference/Analysis.sda.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Analysis.sda — Analysis.sda","text":"settings pecan standard settings list. FUN Function performing analysis step. Two available options : 1-EnKF 2-GEF. Forecast list containing forecasts variables including Q (process variance) X (dataframe forecasts state variables different ensemble) Observed list containing observed variables including R (cov observed state variables) Y (vector estimated mean observed state variables) H matrix 1's 0's specifying observations go variables. extraArg argument list containing aqq, bqq t. aqq bqq shape parameters estimated time proccess covariance t gives time terms index obs.list. See Details. ... Extra argument sent analysis function. case using `GEF` function, function requires nt, obs.mean, obs.cov, total number steps, list observed means list observed cov respectively.","code":""},{"path":"/reference/Analysis.sda.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Analysis.sda — Analysis.sda","text":"Returns whatever FUN returning. case EnKF GEF, function returns list estimated mean cov matrix forecast state variables well mean cov estimated result assimilation/analysis .","code":""},{"path":"/reference/Analysis.sda.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Analysis.sda — Analysis.sda","text":"Michael Dietze dietze@bu.edu, Ann Raiho Hamze Dokoohaki","code":""},{"path":"/reference/Construc_H.html","id":null,"dir":"Reference","previous_headings":"","what":"Construc_H — Construc_H","title":"Construc_H — Construc_H","text":"function creates matrix mapping obsereved data forecast state variable.","code":""},{"path":"/reference/Construc_H.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construc_H — Construc_H","text":"","code":"Construct_H(choose, Y, X)"},{"path":"/reference/Construc_H.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construc_H — Construc_H","text":"choose vector observations indices oredered based appearances list state variable names. Y vector observations X Dataframe matrix forecast state variables different ensembles.","code":""},{"path":"/reference/Construc_H.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construc_H — Construc_H","text":"returns matrix specifying observation go state variables.","code":""},{"path":"/reference/Construc_H.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Construc_H — Construc_H","text":"Hamze Dokoohaki","code":""},{"path":"/reference/Construct.H.multisite.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct.H.multisite — Construct.H.multisite","title":"Construct.H.multisite — Construct.H.multisite","text":"function makes blocked mapping function.","code":""},{"path":"/reference/Construct.H.multisite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct.H.multisite — Construct.H.multisite","text":"","code":"Construct.H.multisite(site.ids, var.names, obs.t.mean)"},{"path":"/reference/Construct.H.multisite.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct.H.multisite — Construct.H.multisite","text":"site.ids vector name site ids var.names vector names state variable names obs.t.mean list vector means time t different sites.","code":""},{"path":"/reference/Construct.H.multisite.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct.H.multisite — Construct.H.multisite","text":"Returns matrix block sizes determined b argument. block filled value taken x.","code":""},{"path":"/reference/Construct.H.multisite.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Construct.H.multisite — Construct.H.multisite","text":"Hamze","code":""},{"path":"/reference/Construct.R.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct.R — Construct.R","title":"Construct.R — Construct.R","text":"Make sure lists named siteids.","code":""},{"path":"/reference/Construct.R.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct.R — Construct.R","text":"","code":"Construct.R(site.ids, var.names, obs.t.mean, obs.t.cov)"},{"path":"/reference/Construct.R.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct.R — Construct.R","text":"site.ids vector name site ids var.names vector names state variable names obs.t.mean list vector means time t different sites. obs.t.cov list list cov time different sites.","code":""},{"path":"/reference/Construct.R.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct.R — Construct.R","text":"function returns list Y R ready sent analysis functions.","code":""},{"path":"/reference/Construct.R.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Construct.R — Construct.R","text":"Hamze Dokoohaki","code":""},{"path":"/reference/Contruct.Pf.html","id":null,"dir":"Reference","previous_headings":"","what":"Contruct.Pf — Contruct.Pf","title":"Contruct.Pf — Contruct.Pf","text":"argument X needs attribute pointing state variables corresponding site. attribute needs called `Site`. moment, cov state variables blocks defining cov two sites assumed zero.","code":""},{"path":"/reference/Contruct.Pf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Contruct.Pf — Contruct.Pf","text":"","code":"Contruct.Pf(   site.ids,   var.names,   X,   localization.FUN = NULL,   t = 1,   blocked.dis = NULL,   ... )"},{"path":"/reference/Contruct.Pf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Contruct.Pf — Contruct.Pf","text":"site.ids vector name site ids. var.names vector names state variable names. X matrix state variables. matrix rows represent ensembles, columns show variables different sites. localization.FUN function performs localization Pf matrix returns localized matrix dimensions. t used blocked.dis passed `localization.FUN` ... passed `localization.FUN`","code":""},{"path":"/reference/Contruct.Pf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Contruct.Pf — Contruct.Pf","text":"returns var-cov matrix state variables multiple sites.","code":""},{"path":"/reference/Contruct.Pf.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Contruct.Pf — Contruct.Pf","text":"Hamze Dokoohaki","code":""},{"path":"/reference/Create_Site_PFT_CSV.html","id":null,"dir":"Reference","previous_headings":"","what":"Title Identify pft for each site of a multi-site settings using NLCD and Eco-region — Create_Site_PFT_CSV","title":"Title Identify pft for each site of a multi-site settings using NLCD and Eco-region — Create_Site_PFT_CSV","text":"Title Identify pft site multi-site settings using NLCD Eco-region","code":""},{"path":"/reference/Create_Site_PFT_CSV.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title Identify pft for each site of a multi-site settings using NLCD and Eco-region — Create_Site_PFT_CSV","text":"","code":"Create_Site_PFT_CSV(settings, Ecoregion, NLCD, con)"},{"path":"/reference/Create_Site_PFT_CSV.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title Identify pft for each site of a multi-site settings using NLCD and Eco-region — Create_Site_PFT_CSV","text":"settings multi-site settings Ecoregion path Ecoregion data (*.shp) NLCD path NLCD img file con connection bety","code":""},{"path":"/reference/Create_Site_PFT_CSV.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title Identify pft for each site of a multi-site settings using NLCD and Eco-region — Create_Site_PFT_CSV","text":"pft info site","code":""},{"path":"/reference/Create_Site_PFT_CSV.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Title Identify pft for each site of a multi-site settings using NLCD and Eco-region — Create_Site_PFT_CSV","text":"","code":"if (FALSE) { # \\dontrun{  NLCD <- file.path(    \"/fs\", \"data1\", \"pecan.data\", \"input\",    \"nlcd_2001_landcover_2011_edition_2014_10_10\",    \"nlcd_2001_landcover_2011_edition_2014_10_10.img\")  Ecoregion <- file.path(    \"/projectnb\", \"dietzelab\", \"dongchen\",    \"All_NEON_SDA\", \"NEON42\", \"eco-region\", \"us_eco_l3_state_boundaries.shp\")  settings <- PEcAn.settings::read.settings(    \"/projectnb/dietzelab/dongchen/All_NEON_SDA/NEON42/pecan.xml\")  con <- PEcAn.DB::db.open(settings$database$bety)    site_pft_info <- Create_Site_PFT_CSV(settings, Ecoregion, NLCD, con) } # }"},{"path":"/reference/EnKF.MultiSite.html","id":null,"dir":"Reference","previous_headings":"","what":"EnKF.MultiSite — EnKF.MultiSite","title":"EnKF.MultiSite — EnKF.MultiSite","text":"Given Forecast Observed function performs Ensemble Kalamn Filter.","code":""},{"path":"/reference/EnKF.MultiSite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EnKF.MultiSite — EnKF.MultiSite","text":"","code":"EnKF.MultiSite(settings, Forecast, Observed, H, extraArg = NULL, ...)"},{"path":"/reference/EnKF.MultiSite.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"EnKF.MultiSite — EnKF.MultiSite","text":"settings pecan standard settings list. Forecast list containing forecasts variables including Q (process variance) X (dataframe forecasts state variables different ensemble) Observed list containing observed variables including R (cov observed state variables) Y (vector estimated mean observed state variables) H matrix 1's 0's specifying observations go state variables. extraArg argument used inside function list containing aqq, bqq t. aqq bqq shape parameters estimated time proccess covariance t gives time terms index obs.list. ... Extra argument sent analysis function.","code":""},{"path":"/reference/EnKF.MultiSite.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"EnKF.MultiSite — EnKF.MultiSite","text":"returns list estimated mean cov matrix forecast state variables well mean cov estimated result assimilation/analysis .","code":""},{"path":"/reference/EnKF.MultiSite.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"EnKF.MultiSite — EnKF.MultiSite","text":"function different `EnKF` function terms creates Pf matrix.","code":""},{"path":"/reference/EnKF.MultiSite.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"EnKF.MultiSite — EnKF.MultiSite","text":"Michael Dietze dietze@bu.edu, Ann Raiho Hamze Dokoohaki","code":""},{"path":"/reference/EnKF.html","id":null,"dir":"Reference","previous_headings":"","what":"EnKF — EnKF","title":"EnKF — EnKF","text":"Given Forecast Observed function performs Ensemble Kalamn Filter.","code":""},{"path":"/reference/EnKF.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"EnKF — EnKF","text":"","code":"EnKF(settings, Forecast, Observed, H, extraArg = NULL, ...)"},{"path":"/reference/EnKF.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"EnKF — EnKF","text":"settings pecan standard settings list. Forecast list containing forecasts variables including Q (process variance) X (dataframe forecasts state variables different ensemble) Observed list containing observed variables including R (cov observed state variables) Y (vector estimated mean observed state variables) H matrix 1's 0's specifying observations go variables. extraArg argument used inside function list containing aqq, bqq t. aqq bqq shape parameters estimated time proccess covariance t gives time terms index obs.list. See Details. ... Extra argument sent analysis function.","code":""},{"path":"/reference/EnKF.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"EnKF — EnKF","text":"returns list estimated mean cov matrix forecast state variables well mean cov estimated result assimilation/analysis .","code":""},{"path":"/reference/EnKF.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"EnKF — EnKF","text":"Michael Dietze dietze@bu.edu, Ann Raiho Hamze Dokoohaki","code":""},{"path":"/reference/GEF.MultiSite.Nimble.html","id":null,"dir":"Reference","previous_headings":"","what":"multisite TWEnF — GEF.MultiSite.Nimble","title":"multisite TWEnF — GEF.MultiSite.Nimble","text":"multisite TWEnF","code":""},{"path":"/reference/GEF.MultiSite.Nimble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"multisite TWEnF — GEF.MultiSite.Nimble","text":"","code":"GEF.MultiSite.Nimble"},{"path":"/reference/GEF.MultiSite.Nimble.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"multisite TWEnF — GEF.MultiSite.Nimble","text":"TBD","code":""},{"path":"/reference/GEF.html","id":null,"dir":"Reference","previous_headings":"","what":"GEF — GEF","title":"GEF — GEF","text":"Given Forecast Observed function performs Generalized Ensemble Kalamn Filter. generalized ensemble filter follows generally three steps sequential state data assimilation. , generalized ensemble filter add latent state vector accounts added process variance. Furthermore, instead solving analysis analytically like EnKF, estimate mean analysis vector covariance matrix MCMC.","code":""},{"path":"/reference/GEF.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GEF — GEF","text":"","code":"GEF(   settings,   Forecast,   Observed,   H,   extraArg,   nitr = 50000,   nburnin = 10000,   ... )  GEF.MultiSite(settings, Forecast, Observed, H, extraArg, ...)"},{"path":"/reference/GEF.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GEF — GEF","text":"settings pecan standard settings list. Forecast list containing forecasts variables including Q (process variance) X (dataframe forecast state variables different ensemble) Observed list containing observed variables including R (cov observed state variables) Y (vector estimated mean observed state variables) H used extraArg argument list containing aqq, bqq t. aqq bqq shape parameters estimated time process covariance t gives time terms index obs.list. See Details. nitr Number iterations run MCMC chain. nburnin Number initial, pre-thinning, MCMC iterations discard. ... function requires nt, obs.mean, obs.cov, total number steps, list observed means list observed cov respectively.","code":""},{"path":"/reference/GEF.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"GEF — GEF","text":"returns list estimated mean cov matrix forecast state variables well mean cov estimated result assimilation/analysis .","code":""},{"path":"/reference/GEF.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"GEF — GEF","text":"Michael Dietze dietze@bu.edu, Ann Raiho Hamze Dokoohaki","code":""},{"path":"/reference/GrabFillMatrix.html","id":null,"dir":"Reference","previous_headings":"","what":"GrabFillMatrix — GrabFillMatrix","title":"GrabFillMatrix — GrabFillMatrix","text":"GrabFillMatrix","code":""},{"path":"/reference/GrabFillMatrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GrabFillMatrix — GrabFillMatrix","text":"","code":"GrabFillMatrix(M, ind, M1 = NULL)"},{"path":"/reference/GrabFillMatrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GrabFillMatrix — GrabFillMatrix","text":"M source matrix either subtracted filled . ind vector index subtracted filled . M1 additional matrix used fill source matrix, default NULL.","code":""},{"path":"/reference/GrabFillMatrix.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"GrabFillMatrix — GrabFillMatrix","text":"function helps subtract fill matrix given index.","code":""},{"path":"/reference/GrabFillMatrix.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"GrabFillMatrix — GrabFillMatrix","text":"Dongchen Zhang","code":""},{"path":"/reference/Local.support.html","id":null,"dir":"Reference","previous_headings":"","what":"Local.support — Local.support","title":"Local.support — Local.support","text":"distance.mat matrix need just physical distance, however represent measure similarity state variables different sites.","code":""},{"path":"/reference/Local.support.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Local.support — Local.support","text":"","code":"Local.support(Pf, distance.mat, scalef = 1)"},{"path":"/reference/Local.support.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Local.support — Local.support","text":"Pf Forecast error covariance matrix distance.mat matrix distances sites. scalef scalef numeric value requires tuning controls shape corrolation function","code":""},{"path":"/reference/Local.support.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Local.support — Local.support","text":"returns localized covariance matrix taking Schur product Pf corrolation function","code":""},{"path":"/reference/Local.support.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Local.support — Local.support","text":"Hamze Dokoohaki","code":""},{"path":"/reference/MCMC_Init.html","id":null,"dir":"Reference","previous_headings":"","what":"MCMC_Init — MCMC_Init","title":"MCMC_Init — MCMC_Init","text":"MCMC_Init","code":""},{"path":"/reference/MCMC_Init.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MCMC_Init — MCMC_Init","text":"","code":"MCMC_Init(block.list, X)"},{"path":"/reference/MCMC_Init.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MCMC_Init — MCMC_Init","text":"block.list lists blocks generated `build.block.xy` function. X matrix contains ensemble forecasts.","code":""},{"path":"/reference/MCMC_Init.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MCMC_Init — MCMC_Init","text":"returns `block.list` object initial conditions filled .","code":""},{"path":"/reference/MCMC_Init.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"MCMC_Init — MCMC_Init","text":"function helps create initial conditions MCMC sampling.","code":""},{"path":"/reference/MCMC_Init.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"MCMC_Init — MCMC_Init","text":"Dongchen Zhang","code":""},{"path":"/reference/MCMC_block_function.html","id":null,"dir":"Reference","previous_headings":"","what":"MCMC_block_function — MCMC_block_function","title":"MCMC_block_function — MCMC_block_function","text":"MCMC_block_function","code":""},{"path":"/reference/MCMC_block_function.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MCMC_block_function — MCMC_block_function","text":"","code":"MCMC_block_function(block)"},{"path":"/reference/MCMC_block_function.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MCMC_block_function — MCMC_block_function","text":"block block within `block.list` lists.","code":""},{"path":"/reference/MCMC_block_function.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"MCMC_block_function — MCMC_block_function","text":"returns `block` object analysis results filled .","code":""},{"path":"/reference/MCMC_block_function.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"MCMC_block_function — MCMC_block_function","text":"Dongchen Zhang","code":""},{"path":"/reference/MCMC_function.html","id":null,"dir":"Reference","previous_headings":"","what":"MCMC_function — MCMC_function","title":"MCMC_function — MCMC_function","text":"MCMC_function","code":""},{"path":"/reference/MCMC_function.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"MCMC_function — MCMC_function","text":"","code":"MCMC_function(data)"},{"path":"/reference/MCMC_function.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"MCMC_function — MCMC_function","text":"data list containing everything needed MCMC sampling.","code":""},{"path":"/reference/MCMC_function.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"MCMC_function — MCMC_function","text":"function replace previous code implenmented MCMC sampling part, allows MCMC sampling multiple chains parallel mode.","code":""},{"path":"/reference/MCMC_function.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"MCMC_function — MCMC_function","text":"Michael Dietze dietze@bu.edu, Ann Raiho, Hamze Dokoohaki, Dongchen Zhang.","code":""},{"path":"/reference/Obs.data.prepare.MultiSite.html","id":null,"dir":"Reference","previous_headings":"","what":"Obs.data.prepare.MultiSite — Obs.data.prepare.MultiSite","title":"Obs.data.prepare.MultiSite — Obs.data.prepare.MultiSite","text":"Obs.data.prepare.MultiSite","code":""},{"path":"/reference/Obs.data.prepare.MultiSite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Obs.data.prepare.MultiSite — Obs.data.prepare.MultiSite","text":"","code":"Obs.data.prepare.MultiSite(obs.path, site.ids)"},{"path":"/reference/Obs.data.prepare.MultiSite.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Obs.data.prepare.MultiSite — Obs.data.prepare.MultiSite","text":"obs.path Path obs data expected .Rdata. site.ids character vector site ids need extracted.","code":""},{"path":"/reference/Obs.data.prepare.MultiSite.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Obs.data.prepare.MultiSite — Obs.data.prepare.MultiSite","text":"list observed mean cov SDA expected .","code":""},{"path":"/reference/Prep_OBS_SDA.html","id":null,"dir":"Reference","previous_headings":"","what":"SDA observation preparation function for LAI and AGB — Prep_OBS_SDA","title":"SDA observation preparation function for LAI and AGB — Prep_OBS_SDA","text":"SDA observation preparation function LAI AGB","code":""},{"path":"/reference/Prep_OBS_SDA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SDA observation preparation function for LAI and AGB — Prep_OBS_SDA","text":"","code":"Prep_OBS_SDA(settings, out_dir, AGB_dir, Search_Window = 30)"},{"path":"/reference/Prep_OBS_SDA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SDA observation preparation function for LAI and AGB — Prep_OBS_SDA","text":"settings multi.settings objects contains multiple sites info out_dir output dir AGB_dir AGB data dir Search_Window search window locate available LAI values","code":""},{"path":"/reference/Prep_OBS_SDA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SDA observation preparation function for LAI and AGB — Prep_OBS_SDA","text":"mean covariance observations","code":""},{"path":"/reference/Remote_Sync_launcher.html","id":null,"dir":"Reference","previous_headings":"","what":"Remote_Sync_launcher — Remote_Sync_launcher","title":"Remote_Sync_launcher — Remote_Sync_launcher","text":"Remote_Sync_launcher","code":""},{"path":"/reference/Remote_Sync_launcher.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remote_Sync_launcher — Remote_Sync_launcher","text":"","code":"Remote_Sync_launcher(settingPath, remote.path, PID)"},{"path":"/reference/Remote_Sync_launcher.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remote_Sync_launcher — Remote_Sync_launcher","text":"settingPath Path local setting . remote.path Path generated SDA_remote_launcher shows path remote SDA run. PID PID generated SDA_remote_launcher shows active PID running SDA job.","code":""},{"path":"/reference/SDA_OBS_Assembler.html","id":null,"dir":"Reference","previous_headings":"","what":"Assembler for preparing obs.mean and obs.cov for the SDA workflow — SDA_OBS_Assembler","title":"Assembler for preparing obs.mean and obs.cov for the SDA workflow — SDA_OBS_Assembler","text":"Assembler preparing obs.mean obs.cov SDA workflow","code":""},{"path":"/reference/SDA_OBS_Assembler.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Assembler for preparing obs.mean and obs.cov for the SDA workflow — SDA_OBS_Assembler","text":"","code":"SDA_OBS_Assembler(settings)"},{"path":"/reference/SDA_OBS_Assembler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Assembler for preparing obs.mean and obs.cov for the SDA workflow — SDA_OBS_Assembler","text":"settings settings object followed PEcAn.settings format.","code":""},{"path":"/reference/SDA_OBS_Assembler.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Assembler for preparing obs.mean and obs.cov for the SDA workflow — SDA_OBS_Assembler","text":"list obs.mean obs.cov","code":""},{"path":"/reference/SDA_OBS_Assembler.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Assembler for preparing obs.mean and obs.cov for the SDA workflow — SDA_OBS_Assembler","text":"Dongchen Zhang","code":""},{"path":"/reference/SDA_OBS_Assembler.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Assembler for preparing obs.mean and obs.cov for the SDA workflow — SDA_OBS_Assembler","text":"","code":"if (FALSE) { # \\dontrun{ settings_dir <- \"/projectnb/dietzelab/dongchen/All_NEON_SDA/NEON42/IC/pecan.xml\" settings <- PEcAn.settings::read.settings(settings_dir) OBS <- SDA_OBS_Assembler(settings) } # }"},{"path":"/reference/SDA_control.html","id":null,"dir":"Reference","previous_headings":"","what":"SDA_control — SDA_control","title":"SDA_control — SDA_control","text":"SDA_control","code":""},{"path":"/reference/SDA_control.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SDA_control — SDA_control","text":"","code":"SDA_control(   trace = TRUE,   ForewardForecast = FALSE,   interactivePlot = FALSE,   TimeseriesPlot = FALSE,   BiasPlot = FALSE,   plot.title = NULL,   facet.plots = FALSE,   debug = FALSE,   pause = FALSE,   Profiling = FALSE,   OutlierDetection = FALSE )"},{"path":"/reference/SDA_control.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SDA_control — SDA_control","text":"trace Logical code print progress SDA . ForewardForecast Logical foreward forecast estimates needs read visualized time series plots. interactivePlot Logical time series plots need generated. TimeseriesPlot Logical time series plots need generated. BiasPlot Logical bias plots need generated plot.title Character defining title times series plots facet.plots Logical timeseries plots faceted based state variables debug Logical code stop milestones open interactive debugging environment pause Logical code needs paused wait instruction analysis step Profiling Logical code keep track much time step took OutlierDetection Logical TRUE simple method used replace simulations outside 3IQR median ensembles.","code":""},{"path":"/reference/SDA_control.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SDA_control — SDA_control","text":"list arguments needed setup SDA function","code":""},{"path":"/reference/SDA_downscale.html","id":null,"dir":"Reference","previous_headings":"","what":"SDA Downscale Function — SDA_downscale","title":"SDA Downscale Function — SDA_downscale","text":"function uses either Random Forest Convolutional Neural Network model based model_type parameter.","code":""},{"path":"/reference/SDA_downscale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SDA Downscale Function — SDA_downscale","text":"","code":"SDA_downscale(   preprocessed,   date,   carbon_pool,   covariates,   model_type = \"rf\",   seed = NULL )"},{"path":"/reference/SDA_downscale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SDA Downscale Function — SDA_downscale","text":"preprocessed List. Preprocessed data returned output SDA_downscale_preprocess function. date Date. SDA site run, format yyyy/mm/dd; NEON, yyyy-mm-dd. Restricted years within file supplied 'preprocessed' 'data_path'. carbon_pool Character. Carbon pool interest. Name must match carbon pool name found within file supplied 'preprocessed' 'data_path'. covariates SpatRaster stack. Used predictors downscaling. Layers within stack named. Recommended stack generated using 'covariates' instructions assim.sequential/inst folder model_type Character. Either \"rf\" Random Forest \"cnn\" Convolutional Neural Network. Default Random Forest. seed Numeric NULL. Optional seed random number generation. Default NULL.","code":""},{"path":"/reference/SDA_downscale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SDA Downscale Function — SDA_downscale","text":"list containing training testing data sets, models, predicted maps ensemble member, predictions testing data.","code":""},{"path":"/reference/SDA_downscale.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"SDA Downscale Function — SDA_downscale","text":"function downscale forecast data unmodeled locations using covariates site locations","code":""},{"path":"/reference/SDA_downscale.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"SDA Downscale Function — SDA_downscale","text":"Joshua Ploshay, Sambhav Dixit","code":""},{"path":"/reference/SDA_downscale_hrly.html","id":null,"dir":"Reference","previous_headings":"","what":"SDA Downscale Function for Hourly Data — SDA_downscale_hrly","title":"SDA Downscale Function for Hourly Data — SDA_downscale_hrly","text":"function uses randomForest model downscale forecast data (hourly) unmodeled locations using covariates site locations","code":""},{"path":"/reference/SDA_downscale_hrly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SDA Downscale Function for Hourly Data — SDA_downscale_hrly","text":"","code":"SDA_downscale_hrly(nc_file, coords, yyyy, covariates)"},{"path":"/reference/SDA_downscale_hrly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SDA Downscale Function for Hourly Data — SDA_downscale_hrly","text":"nc_file quotes, file path .nc containing ensemble data. coords quotes, file path .csv file containing site coordinates, columns named \"lon\" \"lat\". yyyy string, format yyyy(year interest) covariates SpatRaster stack, used predictors randomForest. Layers within stack named. Recommended stack generated using 'covariates' instructions assim.sequential/inst folder","code":""},{"path":"/reference/SDA_downscale_hrly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SDA Downscale Function for Hourly Data — SDA_downscale_hrly","text":"returns `downscale_output` list containing lists training testing data sets, models, predicted maps ensemble member.","code":""},{"path":"/reference/SDA_downscale_hrly.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"SDA Downscale Function for Hourly Data — SDA_downscale_hrly","text":"Harunobu Ishii","code":""},{"path":"/reference/SDA_downscale_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Metrics for Downscaling Results — SDA_downscale_metrics","title":"Calculate Metrics for Downscaling Results — SDA_downscale_metrics","text":"function takes output SDA_downscale function computes various performance metrics ensemble. provides way evaluate accuracy downscaling results without modifying main downscaling function.","code":""},{"path":"/reference/SDA_downscale_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Metrics for Downscaling Results — SDA_downscale_metrics","text":"","code":"SDA_downscale_metrics(downscale_output, carbon_pool)"},{"path":"/reference/SDA_downscale_metrics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Metrics for Downscaling Results — SDA_downscale_metrics","text":"downscale_output List. Output SDA_downscale function, containing data, models, maps, predictions ensemble. carbon_pool Character. Name carbon pool used downscaling process.","code":""},{"path":"/reference/SDA_downscale_metrics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Metrics for Downscaling Results — SDA_downscale_metrics","text":"list metrics ensemble, element contains MAE , MSE ,R_squared ,actual values testing data predicted values testing data","code":""},{"path":"/reference/SDA_downscale_metrics.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate Metrics for Downscaling Results — SDA_downscale_metrics","text":"function calculates performance metrics downscaling results. computes Mean Squared Error (MSE), Mean Absolute Error (MAE), R-squared ensemble. function uses actual values testing data predictions generated downscaling process.","code":""},{"path":"/reference/SDA_downscale_metrics.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Calculate Metrics for Downscaling Results — SDA_downscale_metrics","text":"Sambhav Dixit","code":""},{"path":"/reference/SDA_downscale_preprocess.html","id":null,"dir":"Reference","previous_headings":"","what":"Preprocess Data for Downscaling — SDA_downscale_preprocess","title":"Preprocess Data for Downscaling — SDA_downscale_preprocess","text":"function reads checks input data, ensuring required date carbon pool exist, site coordinates valid.","code":""},{"path":"/reference/SDA_downscale_preprocess.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Preprocess Data for Downscaling — SDA_downscale_preprocess","text":"","code":"SDA_downscale_preprocess(data_path, coords_path, date, carbon_pool)"},{"path":"/reference/SDA_downscale_preprocess.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Preprocess Data for Downscaling — SDA_downscale_preprocess","text":"data_path Character. File path .rds containing ensemble data. coords_path Character. File path .csv file containing site coordinates, columns named \"lon\" \"lat\". date Date. SDA site run, format yyyy/mm/dd; NEON, yyyy-mm-dd. Restricted years within file supplied 'data_path'. carbon_pool Character. Carbon pool interest. Name must match carbon pool name found within file supplied 'data_path'.","code":""},{"path":"/reference/SDA_downscale_preprocess.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Preprocess Data for Downscaling — SDA_downscale_preprocess","text":"list containing read .rds data , cleaned site coordinates, preprocessed carbon data.","code":""},{"path":"/reference/SDA_downscale_preprocess.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Preprocess Data for Downscaling — SDA_downscale_preprocess","text":"function ensures specified date carbon pool present input data. also checks validity site coordinates aligns number rows site coordinates carbon data.","code":""},{"path":"/reference/SDA_downscale_preprocess.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Preprocess Data for Downscaling — SDA_downscale_preprocess","text":"Sambhav Dixit","code":""},{"path":"/reference/SDA_remote_launcher.html","id":null,"dir":"Reference","previous_headings":"","what":"SDA_remote_launcher — SDA_remote_launcher","title":"SDA_remote_launcher — SDA_remote_launcher","text":"SDA_remote_launcher","code":""},{"path":"/reference/SDA_remote_launcher.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SDA_remote_launcher — SDA_remote_launcher","text":"","code":"SDA_remote_launcher(settingPath, ObsPath, run.bash.args)"},{"path":"/reference/SDA_remote_launcher.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SDA_remote_launcher — SDA_remote_launcher","text":"settingPath Path setting run SDA ObsPath Path obs data expected .Rdata. run.bash.args Shell commands run remote host launching SDA. See examples","code":""},{"path":"/reference/SDA_remote_launcher.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SDA_remote_launcher — SDA_remote_launcher","text":"function returns list two pieces information. One remote path SDA running PID active run.","code":""},{"path":"/reference/SDA_remote_launcher.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"SDA_remote_launcher — SDA_remote_launcher","text":"","code":"if (FALSE) { # \\dontrun{  # This example can be found under inst folder in the package  library(PEcAn.all)  library(purrr)    run.bash.args <- c(   \"#$ -l h_rt=48:00:00\",   \"#$ -pe omp 28 # Request a parallel environment with 4 cores\",   \"#$ -l mem_per_core=1G # and 4G memory for each\",   \"#$ -l buyin\",   \"module load R/3.5.2\",   \"module load python/2.7.13\"   )  settingPath <-\"pecan.SDA.4sites.xml\"   ObsPath <- \"Obs/LandTrendr_AGB_output50s.RData\"      SDA_remote_launcher(settingPath, ObsPath, run.bash.args) } # }"},{"path":"/reference/adj.ens.html","id":null,"dir":"Reference","previous_headings":"","what":"adj.ens — adj.ens","title":"adj.ens — adj.ens","text":"functions gives weights different ensemble members based likelihood analysis step. adjusts analysis mean estimates state variables based estimated weights.","code":""},{"path":"/reference/adj.ens.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"adj.ens — adj.ens","text":"","code":"adj.ens(Pf, X, mu.f, mu.a, Pa)"},{"path":"/reference/adj.ens.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"adj.ens — adj.ens","text":"Pf cov matrix forecast state variables. X Dataframe matrix forecast state variables different ensembles. mu.f vector forecast mean estimates state variables. mu.vector analysis mean estimates state variables. Pa state estimate cov matrix analysis.","code":""},{"path":"/reference/adj.ens.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"adj.ens — adj.ens","text":"Returns vector adjusted analysis mean estimates state variables.","code":""},{"path":"/reference/adj.ens.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"adj.ens — adj.ens","text":"Michael Dietze dietze@bu.edu, Ann Raiho Hamze Dokoohaki","code":""},{"path":"/reference/aggregate.html","id":null,"dir":"Reference","previous_headings":"","what":"Aggregation Function — aggregate","title":"Aggregation Function — aggregate","text":"Aggregation Function","code":""},{"path":"/reference/aggregate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Aggregation Function — aggregate","text":"","code":"aggregate(downscale_output, polygon_data, func = \"mean\")"},{"path":"/reference/aggregate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Aggregation Function — aggregate","text":"downscale_output Raster file output downscale_function.R. Read file way stored locally: downscale_output <- readRDS(\"xxx.rds\") polygon_data spatial polygon object (e.g., `sf` object) defines spatial units aggregation. data coordinate reference system compatible raster data (e.g., \"EPSG:4326\"). func character string specifying aggregation function use (e.g., 'mean', 'sum').","code":""},{"path":"/reference/aggregate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Aggregation Function — aggregate","text":"returns `polygon_data` added columns mean sum values aggregated raster data ensemble member.","code":""},{"path":"/reference/aggregate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Aggregation Function — aggregate","text":"function aggregate previously downscaled carbon flux amount spatial unit choice","code":""},{"path":"/reference/aggregate.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Aggregation Function — aggregate","text":"Harunobu Ishii","code":""},{"path":"/reference/aggregate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Aggregation Function — aggregate","text":"","code":"if (FALSE) { # \\dontrun{        # Download a shapefile of U.S. (polygon data)        url <- \"https://www2.census.gov/geo/tiger/GENZ2020/shp/cb_2020_us_state_20m.zip\"        download.file(url, destfile = \"polygon/us_states.zip\")                # Unzip the downloaded file and save locally        unzip(\"polygon/us_states.zip\", exdir = \"polygon/us_states\")        us_states <- st_read(\"polygon/us_states/cb_2020_us_state_20m.shp\")        saveRDS(us_states, \"polygon/us_states.rds\")                # Load the saved polygon data with Massachusetts as an example        us_states <- readRDS(\"polygon/us_states.rds\")        state <- \"MA\"        polygon_data <- st_transform(us_states[us_states$STUSPS == state, ], crs = \"EPSG:4326\")              # Load the downscaled raster output        downscale_output <- readRDS(\"path/to/downscale_output.rds\")                # Slot in as argument to the aggregate function        result <- aggregate(downscale_output, polygon_data)        print(result)        } # }"},{"path":"/reference/alltocs.html","id":null,"dir":"Reference","previous_headings":"","what":"alltocs — alltocs","title":"alltocs — alltocs","text":"function finds tic functions called estimates time elapsed one saves/appends csv file.","code":""},{"path":"/reference/alltocs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"alltocs — alltocs","text":"","code":"alltocs(fname = \"tocs.csv\")"},{"path":"/reference/alltocs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"alltocs — alltocs","text":"fname string path output needs saved csv file.","code":""},{"path":"/reference/alltocs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"alltocs — alltocs","text":"function writes csv file three columns: 1- message sepecified `tic` 2- Total elapsed time 3- execution time","code":""},{"path":"/reference/alltocs.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"alltocs — alltocs","text":"","code":"if (FALSE) { # \\dontrun{  library(tictoc)  tic(\"Analysis\")  Sys.sleep(5)  testfunc()  tic(\"Adjustment\")  Sys.sleep(4)  alltocs(\"timing.csv\")   } # }"},{"path":"/reference/alr.html","id":null,"dir":"Reference","previous_headings":"","what":"Additive Log Ratio transform — alr","title":"Additive Log Ratio transform — alr","text":"Additive Log Ratio transform","code":""},{"path":"/reference/alr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Additive Log Ratio transform — alr","text":"","code":"alr(y)"},{"path":"/reference/alr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Additive Log Ratio transform — alr","text":"y state var","code":""},{"path":"/reference/analysis_sda_block.html","id":null,"dir":"Reference","previous_headings":"","what":"analysis_sda_block — analysis_sda_block","title":"analysis_sda_block — analysis_sda_block","text":"function provides block-based MCMC sampling approach.","code":""},{"path":"/reference/analysis_sda_block.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"analysis_sda_block — analysis_sda_block","text":"","code":"analysis_sda_block(   settings,   block.list.all,   X,   obs.mean,   obs.cov,   t,   nt,   MCMC.args,   block.list.all.pre = NULL )"},{"path":"/reference/analysis_sda_block.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"analysis_sda_block — analysis_sda_block","text":"settings pecan standard multi-site settings list. block.list.Lists forecast analysis outputs time point block. t=1, initialize outputs block NULL `sda.enkf.multisite` function. X matrix contains ensemble forecasts dimensions `[ensemble number, site number * number state variables]`. columns matched site.ids state variable names inside `FORECAST` object `sda.enkf.multisite` script. obs.mean Lists date times named time points, contains lists sites named site ids, contains observation means state variables site time point. obs.cov Lists date times named time points, contains lists sites named site ids, contains observation covariances state variables site time point. t time point format YYYY-MM-DD. nt total length time steps, corresponding `nt` variable `sda.enkf.multisite` function. MCMC.args arguments MCMC sampling, details can found roxygen strucutre control list `sda.enkf.multisite` function. block.list..pre pre-existed block.list.object passing aqq bqq current SDA run, default NULL. Details can found roxygen structure `pre_enkf_params` `sda.enkf.multisite` function.","code":""},{"path":"/reference/analysis_sda_block.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"analysis_sda_block — analysis_sda_block","text":"returns `build.block.xy` object analysis results.","code":""},{"path":"/reference/analysis_sda_block.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"analysis_sda_block — analysis_sda_block","text":"function add data constants block needed MCMC sampling.","code":""},{"path":"/reference/analysis_sda_block.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"analysis_sda_block — analysis_sda_block","text":"Dongchen Zhang","code":""},{"path":"/reference/assess.params.html","id":null,"dir":"Reference","previous_headings":"","what":"assess.params — assess.params","title":"assess.params — assess.params","text":"Assessing parameter estimations mapping model output tobit space","code":""},{"path":"/reference/assess.params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"assess.params — assess.params","text":"","code":"assessParams(dat, Xt, wts = NULL, mu_f_TRUE = NULL, P_f_TRUE = NULL)"},{"path":"/reference/assess.params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"assess.params — assess.params","text":"dat MCMC output Xt ensemble output matrix wts ensemble weights mu_f_TRUE muf tobit2space P_f_TRUE Pf tobit2space","code":""},{"path":"/reference/assess.params.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"assess.params — assess.params","text":"make plots","code":""},{"path":"/reference/assess.params.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"assess.params — assess.params","text":"Michael Dietze Ann Raiho dietze@bu.edu","code":""},{"path":"/reference/block.2.vector.html","id":null,"dir":"Reference","previous_headings":"","what":"block.2.vector — block.2.vector","title":"block.2.vector — block.2.vector","text":"block.2.vector","code":""},{"path":"/reference/block.2.vector.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"block.2.vector — block.2.vector","text":"","code":"block.2.vector(block.list, X, H, adjustment)"},{"path":"/reference/block.2.vector.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"block.2.vector — block.2.vector","text":"block.list lists blocks generated `build.block.xy` function. X matrix contains ensemble forecasts. H H index created `construct_nimble_H` function. adjustment logical variable determine want adjust analysis ensembles based likelihood.","code":""},{"path":"/reference/block.2.vector.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"block.2.vector — block.2.vector","text":"returns list analysis results MCMC sampling.","code":""},{"path":"/reference/block.2.vector.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"block.2.vector — block.2.vector","text":"Dongchen Zhang","code":""},{"path":"/reference/block_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"block_matrix — block_matrix","title":"block_matrix — block_matrix","text":"function adopted migest package.","code":""},{"path":"/reference/block_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"block_matrix — block_matrix","text":"","code":"block_matrix(x = NULL, b = NULL, byrow = FALSE, dimnames = NULL)"},{"path":"/reference/block_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"block_matrix — block_matrix","text":"x Vector numbers identify block. b Numeric value size blocks within matrix ordered depending byrow byrow logical value. FALSE (default) blocks filled columns, otherwise blocks matrix filled rows. dimnames Character string name attribute basis block matrix. NULL vector length b provides basis row column names.#'.","code":""},{"path":"/reference/block_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"block_matrix — block_matrix","text":"Returns matrix block sizes determined b argument. block filled value taken x.","code":""},{"path":"/reference/block_matrix.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"block_matrix — block_matrix","text":"Guy J. Abel","code":""},{"path":"/reference/build.block.xy.html","id":null,"dir":"Reference","previous_headings":"","what":"build.block.xy — build.block.xy","title":"build.block.xy — build.block.xy","text":"function split long vector covariance matrix blocks corresponding localization.","code":""},{"path":"/reference/build.block.xy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"build.block.xy — build.block.xy","text":"","code":"build.block.xy(settings, block.list.all, X, obs.mean, obs.cov, t)"},{"path":"/reference/build.block.xy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"build.block.xy — build.block.xy","text":"settings pecan standard multi-site settings list. block.list.List contains nt empty sub-elements. X matrix contains ensemble forecasts. obs.mean List dataframe observation means, named observation datetime. obs.cov List covariance matrices state variables , named observation datetime. t time point.","code":""},{"path":"/reference/build.block.xy.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"build.block.xy — build.block.xy","text":"function add data constants block needed MCMC sampling.","code":""},{"path":"/reference/build.block.xy.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"build.block.xy — build.block.xy","text":"Dongchen Zhang","code":""},{"path":"/reference/build_X.html","id":null,"dir":"Reference","previous_headings":"","what":"build_X — build_X","title":"build_X — build_X","text":"builds X matrix SDA","code":""},{"path":"/reference/build_X.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"build_X — build_X","text":"","code":"build_X(   out.configs,   settings,   new.params,   nens,   read_restart_times,   outdir,   t = 1,   var.names,   my.read_restart,   restart_flag = FALSE )"},{"path":"/reference/build_X.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"build_X — build_X","text":".configs object created build_X passed sda.enkf_MultiSite settings settings object, passed sda.enkf_MultiSite new.params object created sda_matchparam, passed sda.enkf_MultiSite nens number ensemble members .e. runs read_restart_times passed sda.enkf_MultiSite outdir location previous run output folder containing .nc files t Default t=1, function work within time loop var.names list state variables taken settings object .read_restart object points model restart function .e. read_restart.SIPNET restart_flag flag restart stage. Default FALSE.","code":""},{"path":"/reference/build_X.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"build_X — build_X","text":"X ready passed SDA Analysis code","code":""},{"path":"/reference/build_X.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"build_X — build_X","text":"Alexis Helgeson","code":""},{"path":"/reference/conj_wt_wishart_sampler.html","id":null,"dir":"Reference","previous_headings":"","what":"Weighted conjugate wishart — conj_wt_wishart_sampler","title":"Weighted conjugate wishart — conj_wt_wishart_sampler","text":"Weighted conjugate wishart","code":""},{"path":"/reference/conj_wt_wishart_sampler.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weighted conjugate wishart — conj_wt_wishart_sampler","text":"","code":"conj_wt_wishart_sampler(model, mvSaved, target, control)"},{"path":"/reference/conj_wt_wishart_sampler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Weighted conjugate wishart — conj_wt_wishart_sampler","text":"model model mvSaved copied target thing targetted control unused","code":""},{"path":"/reference/construct_nimble_H.html","id":null,"dir":"Reference","previous_headings":"","what":"construct_nimble_H — construct_nimble_H","title":"construct_nimble_H — construct_nimble_H","text":"function upgrade Construct.H.multisite function provides index different criteria.","code":""},{"path":"/reference/construct_nimble_H.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"construct_nimble_H — construct_nimble_H","text":"","code":"construct_nimble_H(site.ids, var.names, obs.t, pft.path = NULL, by = \"single\")"},{"path":"/reference/construct_nimble_H.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"construct_nimble_H — construct_nimble_H","text":"site.ids vector name site ids var.names vector names state variable names obs.t list vector means time t different sites. pft.path physical path pft.csv file. criteria, supports variable, site, pft, , single Q.","code":""},{"path":"/reference/construct_nimble_H.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"construct_nimble_H — construct_nimble_H","text":"Returns one vector containing index Q estimated variable, vector gives state variable observation (= element.W.Data).","code":""},{"path":"/reference/construct_nimble_H.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"construct_nimble_H — construct_nimble_H","text":"Dongchen Zhang","code":""},{"path":"/reference/downscale_main.html","id":null,"dir":"Reference","previous_headings":"","what":"downscale_main — downscale_main","title":"downscale_main — downscale_main","text":"main function execute machine learning training prediction. Note deployed node requested qsub feature enabled .","code":""},{"path":"/reference/downscale_main.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"downscale_main — downscale_main","text":"","code":"downscale_main(   settings,   analysis,   covariates.dir,   time,   variable,   outdir,   base.map.dir,   method = \"randomForest\",   cores = parallel::detectCores() )"},{"path":"/reference/downscale_main.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"downscale_main — downscale_main","text":"settings character: physical path points pecan settings XML file. analysis numeric: data frame (rows: ensemble member; columns: site*state_variables) updated ensemble analysis results `sda_enkf` function. covariates.dir character: path exported covariates GeoTIFF file. time character: time tag used differentiate outputs others. variable character: name state variable. match column names analysis data frame. outdir character: output directory downscaled maps stored. base.map.dir character: path GeoTIFF file within extents CRS used generate ensemble maps. method character: machine learning method, default randomForest (currently support randomForest xgboost). cores numeric: many CPus used calculation, default total CPU number .","code":""},{"path":"/reference/downscale_main.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"downscale_main — downscale_main","text":"paths ensemble downscaled maps.","code":""},{"path":"/reference/downscale_main.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"downscale_main — downscale_main","text":"Dongchen Zhang","code":""},{"path":"/reference/downscale_qsub_main.html","id":null,"dir":"Reference","previous_headings":"","what":"downscale_qsub_main — downscale_qsub_main","title":"downscale_qsub_main — downscale_qsub_main","text":"qsub function helps run submitted qsub jobs running downscale_main function.","code":""},{"path":"/reference/downscale_qsub_main.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"downscale_qsub_main — downscale_qsub_main","text":"","code":"downscale_qsub_main(folder.path)"},{"path":"/reference/downscale_qsub_main.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"downscale_qsub_main — downscale_qsub_main","text":"folder.path Character: physical path job file located.","code":""},{"path":"/reference/downscale_qsub_main.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"downscale_qsub_main — downscale_qsub_main","text":"Dongchen Zhang","code":""},{"path":"/reference/dwtmnorm.html","id":null,"dir":"Reference","previous_headings":"","what":"weighted multivariate normal density — dwtmnorm","title":"weighted multivariate normal density — dwtmnorm","text":"weighted multivariate normal density","code":""},{"path":"/reference/dwtmnorm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"weighted multivariate normal density — dwtmnorm","text":"","code":"dwtmnorm(x, mean, prec, wt, log = 0)"},{"path":"/reference/dwtmnorm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"weighted multivariate normal density — dwtmnorm","text":"x random variable mean mean prec precision wt weight log log","code":""},{"path":"/reference/get_ensemble_weights.html","id":null,"dir":"Reference","previous_headings":"","what":"get_ensemble_weights — get_ensemble_weights","title":"get_ensemble_weights — get_ensemble_weights","text":"Creates file ensemble weights format needed SDA","code":""},{"path":"/reference/get_ensemble_weights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"get_ensemble_weights — get_ensemble_weights","text":"","code":"get_ensemble_weights(settings, time_do)"},{"path":"/reference/get_ensemble_weights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"get_ensemble_weights — get_ensemble_weights","text":"settings PEcAn settings object time_do Give user specific time annual","code":""},{"path":"/reference/get_ensemble_weights.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"get_ensemble_weights — get_ensemble_weights","text":"NONE","code":""},{"path":"/reference/get_ensemble_weights.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"get_ensemble_weights — get_ensemble_weights","text":"Ann Raiho ann.raiho@gmail.com","code":""},{"path":"/reference/hop_test.html","id":null,"dir":"Reference","previous_headings":"","what":"hop_test — hop_test","title":"hop_test — hop_test","text":"Hop test. script tests model successfully reads restart can restart without loss information.","code":""},{"path":"/reference/hop_test.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"hop_test — hop_test","text":"","code":"hop_test(settings, ens.runid = NULL, nyear)"},{"path":"/reference/hop_test.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"hop_test — hop_test","text":"settings SDA PEcAn settings object ens.runid run id. provided, looked [settings$outdir]/runs.txt nyear number years run hop test ","code":""},{"path":"/reference/hop_test.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"hop_test — hop_test","text":"NONE","code":""},{"path":"/reference/hop_test.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"hop_test — hop_test","text":"Ann Raiho araiho@nd.edu","code":""},{"path":"/reference/interactive.plotting.sda.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal functions for plotting SDA outputs. Interactive, post analysis time-series and bias plots in base plotting system and ggplot — interactive.plotting.sda","title":"Internal functions for plotting SDA outputs. Interactive, post analysis time-series and bias plots in base plotting system and ggplot — interactive.plotting.sda","text":"Internal functions plotting SDA outputs. Interactive, post analysis time-series bias plots base plotting system ggplot","code":""},{"path":"/reference/interactive.plotting.sda.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal functions for plotting SDA outputs. Interactive, post analysis time-series and bias plots in base plotting system and ggplot — interactive.plotting.sda","text":"","code":"interactive.plotting.sda(   settings,   t,   obs.times,   obs.mean,   obs.cov,   obs,   X,   FORECAST,   ANALYSIS )  postana.timeser.plotting.sda(   settings,   t,   obs.times,   obs.mean,   obs.cov,   obs,   X,   FORECAST,   ANALYSIS )  postana.bias.plotting.sda(   settings,   t,   obs.times,   obs.mean,   obs.cov,   obs,   X,   FORECAST,   ANALYSIS )  postana.bias.plotting.sda.corr(t, obs.times, X, aqq, bqq)  post.analysis.ggplot(   settings,   t,   obs.times,   obs.mean,   obs.cov,   obs,   X,   FORECAST,   ANALYSIS,   plot.title = NULL )  post.analysis.ggplot.violin(   settings,   t,   obs.times,   obs.mean,   obs.cov,   obs,   X,   FORECAST,   ANALYSIS,   plot.title = NULL )  post.analysis.multisite.ggplot(   settings,   t,   obs.times,   obs.mean,   obs.cov,   FORECAST,   ANALYSIS,   plot.title = NULL,   facetg = FALSE,   readsFF = NULL,   Add_Map = FALSE )  SDA_timeseries_plot(   ANALYSIS,   FORECAST,   obs.mean = NULL,   obs.cov = NULL,   outdir,   pft.path = NULL,   by = \"site\",   types = c(\"FORECAST\", \"ANALYSIS\", \"OBS\"),   CI = c(0.025, 0.975),   unit = list(AbvGrndWood = \"Mg/ha\", LAI = \"m2/m2\", SoilMoistFrac = \"\", TotSoilCarb =     \"kg/m2\"),   style = list(general_color = c(FORECAST = \"blue\", ANALYSIS = \"red\", OBS = \"black\"),     fill_color = c(FORECAST = \"yellow\", ANALYSIS = \"green\", OBS = \"grey\"), title_color =     \"red\"),   PDF_w = 20,   PDF_h = 16,   t.inds = NULL )"},{"path":"/reference/interactive.plotting.sda.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal functions for plotting SDA outputs. Interactive, post analysis time-series and bias plots in base plotting system and ggplot — interactive.plotting.sda","text":"settings pecan standard settings list. t current time - int number giving position current time obs.time. obs.times vector dates measurements obs.mean obs.mean obs.cov obs.cov obs list containing mean cov object X dataframe state variables ensemble FORECAST Forecast object sda.output.Rdata. ANALYSIS Analysis object sda.output.Rdata. aqq, bqq shape parameters estimated time process covariance plot.title character giving title post visualization ggplots facetg logical: Create subpanel variable? readsFF optional forward forecast Add_Map Bool variable decide want export GIS map Ecoregion. outdir physical path pdf stored. pft.path Physical path pft.csv file allow = pft option. arrange figures var, pft, site. types data types shown figure. CI range confidence interval. unit list unit used y axis label. style color option. PDF_w width exported PDF file, passed `base::pdf()`. PDF_h height exported PDF file, passed `base::pdf()`. t.inds index period plotted.","code":""},{"path":"/reference/interactive.plotting.sda.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Internal functions for plotting SDA outputs. Interactive, post analysis time-series and bias plots in base plotting system and ggplot — interactive.plotting.sda","text":"Dongchen Zhang","code":""},{"path":"/reference/inv.alr.html","id":null,"dir":"Reference","previous_headings":"","what":"inverse of ALR transform — inv.alr","title":"inverse of ALR transform — inv.alr","text":"inverse ALR transform","code":""},{"path":"/reference/inv.alr.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"inverse of ALR transform — inv.alr","text":"","code":"inv.alr(alr)"},{"path":"/reference/inv.alr.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"inverse of ALR transform — inv.alr","text":"alr state var","code":""},{"path":"/reference/load_data_paleon_sda.html","id":null,"dir":"Reference","previous_headings":"","what":"load_data_paleon_sda — load_data_paleon_sda","title":"load_data_paleon_sda — load_data_paleon_sda","text":"Load data function paleon SDA data products","code":""},{"path":"/reference/load_data_paleon_sda.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"load_data_paleon_sda — load_data_paleon_sda","text":"","code":"load_data_paleon_sda(settings)"},{"path":"/reference/load_data_paleon_sda.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"load_data_paleon_sda — load_data_paleon_sda","text":"settings PEcAn SDA settings object","code":""},{"path":"/reference/load_data_paleon_sda.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"load_data_paleon_sda — load_data_paleon_sda","text":"obs.mean obs.cov sda.enkf","code":""},{"path":"/reference/load_data_paleon_sda.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"load_data_paleon_sda — load_data_paleon_sda","text":"Ann Raiho araiho@nd.edu","code":""},{"path":"/reference/load_nimble.html","id":null,"dir":"Reference","previous_headings":"","what":"load_nimble — load_nimble","title":"load_nimble — load_nimble","text":"functions internally used register series nimble functions inside GEF analysis function.","code":""},{"path":"/reference/load_nimble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"load_nimble — load_nimble","text":"","code":"y_star_create(X)"},{"path":"/reference/load_nimble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"load_nimble — load_nimble","text":"X state var","code":""},{"path":"/reference/load_nimble.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"load_nimble — load_nimble","text":"Ann Raiho, Hamze Dokoohaki","code":""},{"path":"/reference/matrix_network.html","id":null,"dir":"Reference","previous_headings":"","what":"matrix_network — matrix_network","title":"matrix_network — matrix_network","text":"matrix_network","code":""},{"path":"/reference/matrix_network.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"matrix_network — matrix_network","text":"","code":"matrix_network(mat)"},{"path":"/reference/matrix_network.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"matrix_network — matrix_network","text":"mat boolean matrix representing interactions sites.","code":""},{"path":"/reference/matrix_network.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"matrix_network — matrix_network","text":"returns lists index representing network.","code":""},{"path":"/reference/matrix_network.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"matrix_network — matrix_network","text":"Dongchen Zhang","code":""},{"path":"/reference/metSplit.html","id":null,"dir":"Reference","previous_headings":"","what":"metSplit — metSplit","title":"metSplit — metSplit","text":"metSplit","code":""},{"path":"/reference/metSplit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"metSplit — metSplit","text":"","code":"metSplit(   conf.settings,   inputs,   settings,   model,   no_split = FALSE,   obs.times,   t,   nens,   restart_flag = FALSE,   my.split_inputs )"},{"path":"/reference/metSplit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"metSplit — metSplit","text":"conf.settings listed multisite settings object generated sda.enkf_MultiSite inputs listed object containing met ensemble members generated input.ens.gen settings settings object passed sda.enkf_MultiSite model model name ex. SIPNET no_split TRUE/FALSE model requires met split obs.times matrix dates used assimilation t number dates obs.times nens number ensemble members, taken settings object restart_flag TRUE/FALSE taken restart arguement .split_inputs generated sda.enkf_MultiSite ex. split_inputs.SIPNET","code":""},{"path":"/reference/metSplit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"metSplit — metSplit","text":"input.split object split met filepaths","code":""},{"path":"/reference/metSplit.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"metSplit — metSplit","text":"Alexis Helgeson","code":""},{"path":"/reference/obs_timestep2timepoint.html","id":null,"dir":"Reference","previous_headings":"","what":"convert from timestep to actual time points. supports year, month, week, and day as time unit. — obs_timestep2timepoint","title":"convert from timestep to actual time points. supports year, month, week, and day as time unit. — obs_timestep2timepoint","text":"convert timestep actual time points. supports year, month, week, day time unit.","code":""},{"path":"/reference/obs_timestep2timepoint.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"convert from timestep to actual time points. supports year, month, week, and day as time unit. — obs_timestep2timepoint","text":"","code":"obs_timestep2timepoint(start.date, end.date, timestep)"},{"path":"/reference/obs_timestep2timepoint.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"convert from timestep to actual time points. supports year, month, week, and day as time unit. — obs_timestep2timepoint","text":"start.date start date first observation taken. end.date end date last observation taken. timestep list includes time unit number time unit per timestep.","code":""},{"path":"/reference/obs_timestep2timepoint.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"convert from timestep to actual time points. supports year, month, week, and day as time unit. — obs_timestep2timepoint","text":"timepoints start end date given number time unit per timestep.","code":""},{"path":"/reference/obs_timestep2timepoint.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"convert from timestep to actual time points. supports year, month, week, and day as time unit. — obs_timestep2timepoint","text":"Dongchen Zhang","code":""},{"path":"/reference/outlier.detector.boxplot.html","id":null,"dir":"Reference","previous_headings":"","what":"outlier.detector.boxplot — outlier.detector.boxplot","title":"outlier.detector.boxplot — outlier.detector.boxplot","text":"function performs simple outlier replacement columns dataframes inside list","code":""},{"path":"/reference/outlier.detector.boxplot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"outlier.detector.boxplot — outlier.detector.boxplot","text":"","code":"outlier.detector.boxplot(X)"},{"path":"/reference/outlier.detector.boxplot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"outlier.detector.boxplot — outlier.detector.boxplot","text":"X list dataframes","code":""},{"path":"/reference/outlier.detector.boxplot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"outlier.detector.boxplot — outlier.detector.boxplot","text":"list dimension X, column dataframe   modified replacing outlier points column median","code":""},{"path":"/reference/parallel_prediction.html","id":null,"dir":"Reference","previous_headings":"","what":"parallel_prediction — parallel_prediction","title":"parallel_prediction — parallel_prediction","text":"function helps predict target variable observations based covariates. prediction working parallel across vegetated pixels.","code":""},{"path":"/reference/parallel_prediction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"parallel_prediction — parallel_prediction","text":"","code":"parallel_prediction(   base.map.dir,   models,   cov.vecs,   non.na.inds,   outdir,   name,   cores = parallel::detectCores() )"},{"path":"/reference/parallel_prediction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"parallel_prediction — parallel_prediction","text":"base.map.dir character: path GeoTIFF file within extents CRS used generate ensemble maps. models list: trained models across ensemble members generated `parallel_train` function. cov.vecs numeric: data frame containing covaraites across vegetated pixels generated `stack_covariates_2_df` function. non.na.inds numeric: corresponding index vegetated pixels generated `stack_covariates_2_df` function. outdir character: output directory downscaled maps stored. name list: containing time variable name create final GeoTIFF file name. cores numeric: many CPus used calculation, default total CPU number .","code":""},{"path":"/reference/parallel_prediction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"parallel_prediction — parallel_prediction","text":"paths ensemble downscaled maps.","code":""},{"path":"/reference/parallel_prediction.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"parallel_prediction — parallel_prediction","text":"Dongchen Zhang","code":""},{"path":"/reference/parallel_train.html","id":null,"dir":"Reference","previous_headings":"","what":"parallel_train — parallel_train","title":"parallel_train — parallel_train","text":"function helps train ML model across ensemble members parallel.","code":""},{"path":"/reference/parallel_train.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"parallel_train — parallel_train","text":"","code":"parallel_train(   full_data,   method = \"randomForest\",   cores = parallel::detectCores() )"},{"path":"/reference/parallel_train.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"parallel_train — parallel_train","text":"full_data numeric: matrix generated using `prepare_train_dat` function. method character: machine learning method (currently support randomForest xgboost). cores numeric: many CPus used calculation, default total CPU number .","code":""},{"path":"/reference/parallel_train.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"parallel_train — parallel_train","text":"list trained models across ensemble members.","code":""},{"path":"/reference/parallel_train.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"parallel_train — parallel_train","text":"Dongchen Zhang","code":""},{"path":"/reference/pecan_settings_2_pts.html","id":null,"dir":"Reference","previous_headings":"","what":"pecan_settings_2_pts — pecan_settings_2_pts","title":"pecan_settings_2_pts — pecan_settings_2_pts","text":"convert settings geospatial points terra.","code":""},{"path":"/reference/pecan_settings_2_pts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"pecan_settings_2_pts — pecan_settings_2_pts","text":"","code":"pecan_settings_2_pts(settings)"},{"path":"/reference/pecan_settings_2_pts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"pecan_settings_2_pts — pecan_settings_2_pts","text":"settings PEcAn settings: either character points settings shape file actual pecan settings object accepted.","code":""},{"path":"/reference/pecan_settings_2_pts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"pecan_settings_2_pts — pecan_settings_2_pts","text":"terra spatial points object.","code":""},{"path":"/reference/pecan_settings_2_pts.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"pecan_settings_2_pts — pecan_settings_2_pts","text":"Dongchen Zhang","code":""},{"path":"/reference/piecew.poly.local.html","id":null,"dir":"Reference","previous_headings":"","what":"piecew.poly.local — piecew.poly.local","title":"piecew.poly.local — piecew.poly.local","text":"5th order piecewise polynomial adopted Data assimilation spatio-temporal processes - p250 - Sebastian Reich","code":""},{"path":"/reference/piecew.poly.local.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"piecew.poly.local — piecew.poly.local","text":"","code":"piecew.poly.local(Pf, distance.mat, scalef = 2)"},{"path":"/reference/piecew.poly.local.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"piecew.poly.local — piecew.poly.local","text":"Pf Forecast error covariance matrix distance.mat matrix distances sites. scalef scalef numeric value requires tuning controls shape corrolation function","code":""},{"path":"/reference/piecew.poly.local.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"piecew.poly.local — piecew.poly.local","text":"returns localized covariance matrix taking Schur product Pf corrolation function","code":""},{"path":"/reference/piecew.poly.local.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"piecew.poly.local — piecew.poly.local","text":"Hamze Dokoohaki","code":""},{"path":"/reference/prepare_train_dat.html","id":null,"dir":"Reference","previous_headings":"","what":"prepare_train_dat — prepare_train_dat","title":"prepare_train_dat — prepare_train_dat","text":"function helps create training dataset specific variable type locations downscaling. TODO: Add ratio argument (training sample size/total sample size) calculate --sample accuracy.","code":""},{"path":"/reference/prepare_train_dat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"prepare_train_dat — prepare_train_dat","text":"","code":"prepare_train_dat(pts, analysis, covariates.dir, variable)"},{"path":"/reference/prepare_train_dat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"prepare_train_dat — prepare_train_dat","text":"pts spatialpoints: spatial points returned `terra::vectors` function. analysis numeric: data frame (rows: ensemble member; columns: site*state_variables) updated ensemble analysis results `sda_enkf` function. covariates.dir character: path exported covariates GeoTIFF file. variable character: name state variable. match column names analysis data frame.","code":""},{"path":"/reference/prepare_train_dat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"prepare_train_dat — prepare_train_dat","text":"matrix (num.sites, num.variables * num.ensemble + num.covariates) within first sets columns contain values state variables ensemble member every site, rest columns contain corresponding covariates.","code":""},{"path":"/reference/prepare_train_dat.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"prepare_train_dat — prepare_train_dat","text":"Dongchen Zhang","code":""},{"path":"/reference/qsub_sda.html","id":null,"dir":"Reference","previous_headings":"","what":"qsub_sda — qsub_sda","title":"qsub_sda — qsub_sda","text":"function provides means split large SDA runs separate `qsub` jobs. Including job creation, submission, assemble.","code":""},{"path":"/reference/qsub_sda.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"qsub_sda — qsub_sda","text":"","code":"qsub_sda(   settings,   obs.mean,   obs.cov,   Q,   pre_enkf_params,   ensemble.samples,   outdir,   control,   block.index = NULL,   debias = list(cov.dir = NULL, start.year = NULL),   prefix = \"batch\" )"},{"path":"/reference/qsub_sda.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"qsub_sda — qsub_sda","text":"settings PEcAn settings object obs.mean Lists date times named time points, contains lists sites named site ids, contains observation means state variables site time point. obs.cov Lists date times named time points, contains lists sites named site ids, contains observation covariances state variables site time point. Q Process covariance matrix given data estimate . pre_enkf_params Used passing pre-existing time-series process error current SDA runs ignore impact differences process errors. ensemble.samples Pass ensemble.samples outside avoid GitHub check issues. outdir Physical path folder SDA outputs stored. default NULL, using outdir settings object. control List flags controlling behavior SDA. `TimeseriesPlot` post analysis examination; `OutlierDetection` decide want execute outlier detection time model forecasting; `send_email` contains lists sending email report SDA progress; `keepNC` decide want keep NetCDF files inside directory; `forceRun` decide want proceed Bayesian MCMC sampling without observations; `MCMC.args` include lists controling MCMC sampling process (iteration, nchains, burnin, nthin.). block.index list site ids block, default NULL. used localization turns . Please keep using default value localization feature still development. debias List: R list containing covariance directory start year. covariance directory include GeoTIFF files named year. start year numeric input decide start debiasing feature. prefix character: desired folder name store outputs.","code":""},{"path":"/reference/qsub_sda.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"qsub_sda — qsub_sda","text":"NONE","code":""},{"path":"/reference/qsub_sda.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"qsub_sda — qsub_sda","text":"Dongchen Zhang","code":""},{"path":"/reference/qsub_sda_batch.html","id":null,"dir":"Reference","previous_headings":"","what":"qsub_sda_batch — qsub_sda_batch","title":"qsub_sda_batch — qsub_sda_batch","text":"function can help execute sda function.","code":""},{"path":"/reference/qsub_sda_batch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"qsub_sda_batch — qsub_sda_batch","text":"","code":"qsub_sda_batch(folder.path)"},{"path":"/reference/qsub_sda_batch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"qsub_sda_batch — qsub_sda_batch","text":"folder.path character: path `configs.rds` file stored.","code":""},{"path":"/reference/qsub_sda_batch.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"qsub_sda_batch — qsub_sda_batch","text":"Dongchen Zhang.","code":""},{"path":"/reference/rescaling_stateVars.html","id":null,"dir":"Reference","previous_headings":"","what":"rescaling_stateVars — rescaling_stateVars","title":"rescaling_stateVars — rescaling_stateVars","text":"function uses set scaling factors defined pecan XML scale given matrix","code":""},{"path":"/reference/rescaling_stateVars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"rescaling_stateVars — rescaling_stateVars","text":"","code":"rescaling_stateVars(settings, X, multiply = TRUE)"},{"path":"/reference/rescaling_stateVars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"rescaling_stateVars — rescaling_stateVars","text":"settings pecan xml settings state variables scaling_factor tag X Matrix column names variable names multiply TRUE = multiplication, FALSE = division","code":""},{"path":"/reference/rescaling_stateVars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"rescaling_stateVars — rescaling_stateVars","text":"rescaled Matrix","code":""},{"path":"/reference/rwtmnorm.html","id":null,"dir":"Reference","previous_headings":"","what":"random weighted multivariate normal — rwtmnorm","title":"random weighted multivariate normal — rwtmnorm","text":"random weighted multivariate normal","code":""},{"path":"/reference/rwtmnorm.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"random weighted multivariate normal — rwtmnorm","text":"","code":"rwtmnorm(n, mean, prec, wt)"},{"path":"/reference/rwtmnorm.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"random weighted multivariate normal — rwtmnorm","text":"n sample size mean mean prec precision wt weight","code":""},{"path":"/reference/sample.parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"sample parameters — sample.parameters","title":"sample parameters — sample.parameters","text":"sample parameters","code":""},{"path":"/reference/sample.parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"sample parameters — sample.parameters","text":"","code":"sample.parameters(ne, settings, con)"},{"path":"/reference/sample.parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"sample parameters — sample.parameters","text":"ne number ensemble members settings PEcAn settings object con PEcAn database connection","code":""},{"path":"/reference/sample.parameters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"sample parameters — sample.parameters","text":"data frame sampled parameters posterior distribution","code":""},{"path":"/reference/sample.parameters.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sample parameters — sample.parameters","text":"Michael Dietze dietze@bu.edu","code":""},{"path":"/reference/sample_met.html","id":null,"dir":"Reference","previous_headings":"","what":"Sample meteorological ensembles — sample_met","title":"Sample meteorological ensembles — sample_met","text":"Sample meteorological ensembles","code":""},{"path":"/reference/sample_met.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sample meteorological ensembles — sample_met","text":"","code":"sample_met(settings, nens = 1)"},{"path":"/reference/sample_met.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sample meteorological ensembles — sample_met","text":"settings PEcAn settings list nens number ensemble members sampled","code":""},{"path":"/reference/sampler_toggle.html","id":null,"dir":"Reference","previous_headings":"","what":"sampler toggling — sampler_toggle","title":"sampler toggling — sampler_toggle","text":"sampler toggling","code":""},{"path":"/reference/sampler_toggle.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"sampler toggling — sampler_toggle","text":"","code":"sampler_toggle(model, mvSaved, target, control)"},{"path":"/reference/sampler_toggle.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"sampler toggling — sampler_toggle","text":"model model mvSaved copied target thing targetted control unused","code":""},{"path":"/reference/sda.enkf.html","id":null,"dir":"Reference","previous_headings":"","what":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf","text":"Restart mode:  Basic idea restart (primary case  envisioned iterative forecast), new workflow folder created  previous forecast start_time copied . restart  initial run loop skipped, info populated  previous run. function dives right first Analysis,  continues like normal.","code":""},{"path":"/reference/sda.enkf.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf","text":"","code":"sda.enkf(   settings,   obs.mean,   obs.cov,   Q = NULL,   restart = NULL,   control = list(trace = TRUE, interactivePlot = TRUE, TimeseriesPlot = TRUE, BiasPlot =     FALSE, plot.title = NULL, debug = FALSE, pause = FALSE),   ... )"},{"path":"/reference/sda.enkf.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf","text":"settings PEcAn settings object obs.mean List dataframe observation means, named observation datetime. obs.cov List covariance matrices state variables , named observation datetime. Q Process covariance matrix given data estimate . restart Used iterative updating previous forecasts. restart TRUE read object SDA folder written previous SDA. control List flags controlling behaviour SDA. trace reporting back SDA outcomes, interactivePlot plotting outcomes step, TimeseriesPlot post analysis examination, BiasPlot plotting correlation state variables, plot.title title post analysis plots debug mode allows pausing code examining variables inside function. ... Additional arguments, currently ignored","code":""},{"path":"/reference/sda.enkf.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf","text":"NONE","code":""},{"path":"/reference/sda.enkf.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf","text":"Michael Dietze Ann Raiho dietze@bu.edu","code":""},{"path":"/reference/sda.enkf.multisite.html","id":null,"dir":"Reference","previous_headings":"","what":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf.multisite","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf.multisite","text":"Check SDA_control function details control arguments.","code":""},{"path":"/reference/sda.enkf.multisite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf.multisite","text":"","code":"sda.enkf.multisite(   settings,   obs.mean,   obs.cov,   Q = NULL,   restart = NULL,   pre_enkf_params = NULL,   ensemble.samples = NULL,   control = list(TimeseriesPlot = FALSE, OutlierDetection = FALSE, send_email = NULL,     keepNC = TRUE, forceRun = TRUE, run_parallel = TRUE, MCMC.args = NULL, merge_nc =     TRUE, execution = \"local\"),   debias = list(cov.dir = NULL, start.year = NULL),   ... )"},{"path":"/reference/sda.enkf.multisite.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf.multisite","text":"settings PEcAn settings object obs.mean Lists date times named time points, contains lists sites named site ids, contains observation means state variables site time point. obs.cov Lists date times named time points, contains lists sites named site ids, contains observation covariances state variables site time point. Q Process covariance matrix given data estimate . restart Used iterative updating previous forecasts. Default NULL. List object includes file path previous runs start date SDA. pre_enkf_params Used passing pre-existing time-series process error current SDA runs ignore impact differences process errors. ensemble.samples list ensemble parameters across PFTs. Default NULL. control List flags controlling behavior SDA. `TimeseriesPlot` post analysis examination; `OutlierDetection` decide want execute outlier detection time model forecasting; `send_email` contains lists sending email report SDA progress; `keepNC` decide want keep NetCDF files inside directory; `forceRun` decide want proceed Bayesian MCMC sampling without observations; `run_parallel` decide want run SDA parallel mode `future_map` function; `MCMC.args` include lists controling MCMC sampling process (iteration, nchains, burnin, nthin.). `merge_nc` determine want merge netCDF files across sites ensembles. set `TRUE`, combine netCDF files `merged_nc` folder within `outdir`. `execution` decide way want execute model including `local` ,execute model locally; `qsub`, use traditional `start_model_runs` function submission; `qsub_parallel`, first combine jobs submit SCC. debias List: R list containing covariance directory start year. covariance directory include GeoTIFF files named year. start year numeric input decide start debiasing feature. ... Additional arguments, currently ignored","code":""},{"path":"/reference/sda.enkf.multisite.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf.multisite","text":"NONE","code":""},{"path":"/reference/sda.enkf.multisite.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf.multisite","text":"Restart mode:  Basic idea restart (primary case envisioned iterative forecast), new workflow folder created previous forecast start_time copied . restart initial run loop skipped, info populated previous run. function dives right first Analysis, continues like normal.","code":""},{"path":"/reference/sda.enkf.multisite.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"State Variable Data Assimilation: Ensemble Kalman Filter and Generalized ensemble filter — sda.enkf.multisite","text":"Michael Dietze, Ann Raiho Alexis Helgeson dietze@bu.edu","code":""},{"path":"/reference/sda.enkf.original.html","id":null,"dir":"Reference","previous_headings":"","what":"State Variable Data Assimilation: Ensemble Kalman Filter — sda.enkf.original","title":"State Variable Data Assimilation: Ensemble Kalman Filter — sda.enkf.original","text":"Restart mode:  Basic idea restart (primary case envisioned iterative forecast),  new workflow folder created previous forecast start_time copied . restart initial run loop skipped, info populated previous run. function dives right first Analysis, continues like normal.","code":""},{"path":"/reference/sda.enkf.original.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"State Variable Data Assimilation: Ensemble Kalman Filter — sda.enkf.original","text":"","code":"sda.enkf.original(   settings,   obs.mean,   obs.cov,   IC = NULL,   Q = NULL,   adjustment = TRUE,   restart = NULL )"},{"path":"/reference/sda.enkf.original.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"State Variable Data Assimilation: Ensemble Kalman Filter — sda.enkf.original","text":"settings PEcAn settings object obs.mean list observations means state variable (time X nstate) obs.cov list observations covariance matrices state variables (time X nstate X nstate) IC initial conditions Q process covariance matrix given data estimate adjustment flag using ensemble adjustment filter restart Used iterative updating previous forecasts. list includes ens.inputs, list inputs ensemble member, params, parameters, old_outdir, output directory previous workflow. three things needed ensure new workflow started ensemble members keep run-specific met params. See Details","code":""},{"path":"/reference/sda.enkf.original.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"State Variable Data Assimilation: Ensemble Kalman Filter — sda.enkf.original","text":"NONE","code":""},{"path":"/reference/sda.enkf.original.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"State Variable Data Assimilation: Ensemble Kalman Filter — sda.enkf.original","text":"Michael Dietze Ann Raiho dietze@bu.edu","code":""},{"path":"/reference/sda.enkf_local.html","id":null,"dir":"Reference","previous_headings":"","what":"sda.enkf_local — sda.enkf_local","title":"sda.enkf_local — sda.enkf_local","text":"function provides complete support multi-core multi-node computation general HPC system. Thus, script computationally efficient, making possible run SDA thousands locations.","code":""},{"path":"/reference/sda.enkf_local.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"sda.enkf_local — sda.enkf_local","text":"","code":"sda.enkf_local(   settings,   obs.mean,   obs.cov,   Q = NULL,   pre_enkf_params = NULL,   ensemble.samples = NULL,   outdir = NULL,   control = list(TimeseriesPlot = FALSE, OutlierDetection = FALSE, send_email = NULL,     keepNC = TRUE, forceRun = TRUE, MCMC.args = NULL, merge_nc = TRUE),   debias = list(cov.dir = NULL, start.year = NULL) )"},{"path":"/reference/sda.enkf_local.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"sda.enkf_local — sda.enkf_local","text":"settings PEcAn settings object obs.mean Lists date times named time points, contains lists sites named site ids, contains observation means state variables site time point. obs.cov Lists date times named time points, contains lists sites named site ids, contains observation covariances state variables site time point. Q Process covariance matrix given data estimate . pre_enkf_params Used passing pre-existing time-series process error current SDA runs ignore impact differences process errors. ensemble.samples list ensemble parameters across PFTs. Default NULL. outdir physical path folder stores SDA outputs. Default NULL. control List flags controlling behavior SDA. `TimeseriesPlot` post analysis examination; `OutlierDetection` decide want execute outlier detection time model forecasting; `send_email` contains lists sending email report SDA progress; `keepNC` decide want keep NetCDF files inside directory; `forceRun` decide want proceed Bayesian MCMC sampling without observations; `MCMC.args` include lists controling MCMC sampling process (iteration, nchains, burnin, nthin.). `merge_nc` determine want merge netCDF files across sites ensembles. set `TRUE`, combine netCDF files `merged_nc` folder within `outdir`. debias List: R list containing covariance directory start year. covariance directory include GeoTIFF files named year. start year numeric input decide start debiasing feature.","code":""},{"path":"/reference/sda.enkf_local.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"sda.enkf_local — sda.enkf_local","text":"NONE","code":""},{"path":"/reference/sda.enkf_local.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sda.enkf_local — sda.enkf_local","text":"Dongchen Zhang zhangdc@bu.edu","code":""},{"path":"/reference/sda_assemble.html","id":null,"dir":"Reference","previous_headings":"","what":"sda_assemble — sda_assemble","title":"sda_assemble — sda_assemble","text":"function can help assemble sda outputs (analysis forecasts) job execution.","code":""},{"path":"/reference/sda_assemble.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"sda_assemble — sda_assemble","text":"","code":"sda_assemble(batch.folder, outdir)"},{"path":"/reference/sda_assemble.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"sda_assemble — sda_assemble","text":"batch.folder character: path SDA batch jobs stored. outdir character: path want store assembled analysis forecasts.","code":""},{"path":"/reference/sda_assemble.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sda_assemble — sda_assemble","text":"Dongchen Zhang.","code":""},{"path":"/reference/sda_bias_correction.html","id":null,"dir":"Reference","previous_headings":"","what":"sda_bias_correction — sda_bias_correction","title":"sda_bias_correction — sda_bias_correction","text":"function helps correct forecasts' biases based ML (random forest) training previous time point.","code":""},{"path":"/reference/sda_bias_correction.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"sda_bias_correction — sda_bias_correction","text":"","code":"sda_bias_correction(   site.locs,   t,   all.X,   obs.mean,   state.interval,   cov.dir,   pre.states,   py.init = NULL )"},{"path":"/reference/sda_bias_correction.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"sda_bias_correction — sda_bias_correction","text":"site.locs data.frame: data.frame contains longitude latitude first second column. t numeric: current number time points (e.g., t=1 beginning time point). .X list: lists data frame model forecast beginning current time points n (ensemble size) rows n.var (number variables) times n.site (number locations) columns. (e.g., 100 ensembles, 4 variables, 8,000 locations end data.frame 100 rows 32,000 columns) obs.mean List: lists date times named time points, contains lists sites named site ids, contains observation means state variables site time point. state.interval matrix: containing upper lower boundaries state variable. cov.dir character: physical path directory contains time series covariate maps. pre.states list: containing previous covariates location. py.init R function: R function initialize python functions. Default NULL. default random forest used `py.init` NULL.","code":""},{"path":"/reference/sda_bias_correction.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"sda_bias_correction — sda_bias_correction","text":"list: current X bias-correction; ML model variable; predicted residuals.","code":""},{"path":"/reference/sda_bias_correction.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sda_bias_correction — sda_bias_correction","text":"Dongchen Zhang","code":""},{"path":"/reference/sda_matchparam.html","id":null,"dir":"Reference","previous_headings":"","what":"sda_matchparam — sda_matchparam","title":"sda_matchparam — sda_matchparam","text":"sda_matchparam","code":""},{"path":"/reference/sda_matchparam.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"sda_matchparam — sda_matchparam","text":"","code":"sda_matchparam(settings, ensemble.samples, site.ids, nens)"},{"path":"/reference/sda_matchparam.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"sda_matchparam — sda_matchparam","text":"settings settings object passed sda.enkf_MultiSite ensemble.samples taken sample.Rdata object site.ids character object passed sda.enkf_MultiSite nens number ensemble members model runs, taken restart$runids","code":""},{"path":"/reference/sda_matchparam.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"sda_matchparam — sda_matchparam","text":"new.params object used ","code":""},{"path":"/reference/sda_matchparam.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"sda_matchparam — sda_matchparam","text":"Alexis Helgeson","code":""},{"path":"/reference/sda_weights_site.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate ensemble weights for each site at time t. — sda_weights_site","title":"Calculate ensemble weights for each site at time t. — sda_weights_site","text":"Calculate ensemble weights site time t.","code":""},{"path":"/reference/sda_weights_site.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate ensemble weights for each site at time t. — sda_weights_site","text":"","code":"sda_weights_site(FORECAST, ANALYSIS, t, ens)"},{"path":"/reference/sda_weights_site.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate ensemble weights for each site at time t. — sda_weights_site","text":"FORECAST FORECAST object built within sda.enkf_MultiSite function. ANALYSIS ANALYSIS object built within Analysis_sda_multisite function. t exact number t inside sda.enkf_MultiSite function. ens number ensemble members.","code":""},{"path":"/reference/sda_weights_site.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate ensemble weights for each site at time t. — sda_weights_site","text":"list weights associated ensemble member site.","code":""},{"path":"/reference/sda_weights_site.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Calculate ensemble weights for each site at time t. — sda_weights_site","text":"Dongchen Zhang Hamze Dokoohaki","code":""},{"path":"/reference/simple.local.html","id":null,"dir":"Reference","previous_headings":"","what":"simple.local — simple.local","title":"simple.local — simple.local","text":"Adopted Data assimilation spatio-temporal processes - p250 - Sebastian Reich","code":""},{"path":"/reference/simple.local.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"simple.local — simple.local","text":"","code":"simple.local(Pf, distance.mat, scalef = 2)"},{"path":"/reference/simple.local.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"simple.local — simple.local","text":"Pf Forecast error covariance matrix distance.mat matrix distances sites. scalef scalef numeric value requires tuning controls shape corrolation function","code":""},{"path":"/reference/simple.local.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"simple.local — simple.local","text":"returns localized covariance matrix taking Schur product Pf corrolation function","code":""},{"path":"/reference/simple.local.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"simple.local — simple.local","text":"Hamze Dokoohaki","code":""},{"path":"/reference/stack_covariates_2_df.html","id":null,"dir":"Reference","previous_headings":"","what":"stack_covariates_2_df — stack_covariates_2_df","title":"stack_covariates_2_df — stack_covariates_2_df","text":"function helps build data frame (pixels data columns) vegetated pixels improve efficiency. Note `LC` field using `MODIS land cover` observations (MCD12Q1.061) must supplied covariates make function work.","code":""},{"path":"/reference/stack_covariates_2_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"stack_covariates_2_df — stack_covariates_2_df","text":"","code":"stack_covariates_2_df(rast.dir, cores = parallel::detectCores())"},{"path":"/reference/stack_covariates_2_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"stack_covariates_2_df — stack_covariates_2_df","text":"rast.dir character: character points covariates raster file generated `stack_covariates_2_geotiff` function. cores numeric: many CPus used calculation, default total CPU number .","code":""},{"path":"/reference/stack_covariates_2_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"stack_covariates_2_df — stack_covariates_2_df","text":"list containing data frame covariates vegetated pixels corresponding index pixels.","code":""},{"path":"/reference/stack_covariates_2_df.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"stack_covariates_2_df — stack_covariates_2_df","text":"Dongchen Zhang","code":""},{"path":"/reference/stack_covariates_2_geotiff.html","id":null,"dir":"Reference","previous_headings":"","what":"stack_covariates_2_geotiff — stack_covariates_2_geotiff","title":"stack_covariates_2_geotiff — stack_covariates_2_geotiff","text":"function helps stack target data layers various GeoTIFF maps (different extents, CRS, resolutions) single map.","code":""},{"path":"/reference/stack_covariates_2_geotiff.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"stack_covariates_2_geotiff — stack_covariates_2_geotiff","text":"","code":"stack_covariates_2_geotiff(   outdir,   year,   base.map.dir,   cov.tif.file.list,   normalize = T,   cores = parallel::detectCores() )"},{"path":"/reference/stack_covariates_2_geotiff.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"stack_covariates_2_geotiff — stack_covariates_2_geotiff","text":"outdir character: output directory stacked GeoTIFF file generated. year numeric: year covariates stacked. base.map.dir character: path GeoTIFF file within extents CRS used generate final map. cov.tif.file.list list: list contains sub-lists including path corresponding map variables extracted (e.g., list(LC = list(dir = \"path//landcover.tiff\", var.name = \"LC\")). normalize boolean: decide want normalize data layer, default TRUE. cores numeric: many CPus used calculation, default total CPU number .","code":""},{"path":"/reference/stack_covariates_2_geotiff.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"stack_covariates_2_geotiff — stack_covariates_2_geotiff","text":"path exported GeoTIFF file.","code":""},{"path":"/reference/stack_covariates_2_geotiff.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"stack_covariates_2_geotiff — stack_covariates_2_geotiff","text":"Dongchen Zhang","code":""},{"path":"/reference/tobit.model.html","id":null,"dir":"Reference","previous_headings":"","what":"TWEnF — tobit.model","title":"TWEnF — tobit.model","text":"TWEnF","code":""},{"path":"/reference/tobit.model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"TWEnF — tobit.model","text":"","code":"tobit.model"},{"path":"/reference/tobit.model.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"TWEnF — tobit.model","text":"TBD","code":""},{"path":"/reference/tobit2space.model.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit tobit prior to ensemble members — tobit2space.model","title":"Fit tobit prior to ensemble members — tobit2space.model","text":"Fit tobit prior ensemble members","code":""},{"path":"/reference/tobit2space.model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit tobit prior to ensemble members — tobit2space.model","text":"","code":"tobit2space.model"},{"path":"/reference/tobit2space.model.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Fit tobit prior to ensemble members — tobit2space.model","text":"TBD","code":""},{"path":"/reference/tobit_model_censored.html","id":null,"dir":"Reference","previous_headings":"","what":"tobit_model_censored — tobit_model_censored","title":"tobit_model_censored — tobit_model_censored","text":"tobit_model_censored","code":""},{"path":"/reference/tobit_model_censored.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"tobit_model_censored — tobit_model_censored","text":"","code":"tobit_model_censored(settings, X, var.names, mu.f, Pf, t)"},{"path":"/reference/tobit_model_censored.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"tobit_model_censored — tobit_model_censored","text":"settings (list) pecan standard settings list. X (numeric) matrix contains ensemble forecasts (ensembles * variables). var.names (character) variable names. mu.f (numeric) forecast mean values. Pf (numeric) forecast covariance matrix. t (numeric) timestep. t=1, initial values imputed zero values mu.f","code":""},{"path":"/reference/tobit_model_censored.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"tobit_model_censored — tobit_model_censored","text":"list updated mu.f, pf, X, indication y values censored","code":""},{"path":"/reference/update_q.html","id":null,"dir":"Reference","previous_headings":"","what":"update_q — update_q","title":"update_q — update_q","text":"update_q","code":""},{"path":"/reference/update_q.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"update_q — update_q","text":"","code":"update_q(   block.list.all,   t,   nt,   aqq.Init = NULL,   bqq.Init = NULL,   MCMC_dat = NULL,   block.list.all.pre = NULL )"},{"path":"/reference/update_q.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"update_q — update_q","text":"block.list.block within `block.list` lists. t time point. nt total length time steps. aqq.Init initial values aqq, default NULL. bqq.Init initial values bqq, default NULL. MCMC_dat data frame MCMC samples, default NULL. block.list..pre pre-existed block.list.object passing aqq bqq current SDA run, default NULL.","code":""},{"path":"/reference/update_q.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"update_q — update_q","text":"returns `block.list.` object initialized/updated Q filled .","code":""},{"path":"/reference/update_q.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"update_q — update_q","text":"Dongchen Zhang","code":""},{"path":[]},{"path":"/news/index.html","id":"added-1-9-0","dir":"Changelog","previous_headings":"","what":"Added","title":"PEcAnAssimSequential 1.9.0","text":"tobit_model_censored, technically new newly exported refactored inside existing SDA analysis code. aggregate spatiol aggregation model downscaling outputs","code":""},{"path":"/news/index.html","id":"changed-1-9-0","dir":"Changelog","previous_headings":"","what":"Changed","title":"PEcAnAssimSequential 1.9.0","text":"NA_downscale renamed SDA_downscale_hrly Documentation improvements","code":""},{"path":[]},{"path":"/news/index.html","id":"added-1-8-0","dir":"Changelog","previous_headings":"","what":"Added","title":"PEcAnAssimSequential 1.8.0","text":"allow user-defined free-run mode; allow user-defined parallel mode qsub submission; allow user-defined email option report progress. GET.MultiSite() now supports parallelization multi-chain MCMC sampling fully randomized inits function. Added new block-based SDA workflow 342 North America anchor sites.","code":""},{"path":"/news/index.html","id":"pecanassimsequential-171","dir":"Changelog","previous_headings":"","what":"PEcAnAssimSequential 1.7.1","title":"PEcAnAssimSequential 1.7.1","text":"changes 1.7.1 earlier recorded single file PEcAn packages; please see https://github.com/PecanProject/pecan/blob/v1.7.1/CHANGELOG.md details.","code":""}]
