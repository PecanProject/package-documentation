<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Perform Bayesian inversion using BayesianTools package — invert_bt • PEcAnRTM</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Perform Bayesian inversion using BayesianTools package — invert_bt"><meta name="description" content="Use samplers from the BayesianTools package to fit models to data. Like
invert.auto, this will continue to run until convergence is achieved
(based on Gelman diagnostic) and the result has enough samples (as
specified by the user; see Details)."><meta property="og:description" content="Use samplers from the BayesianTools package to fit models to data. Like
invert.auto, this will continue to run until convergence is achieved
(based on Gelman diagnostic) and the result has enough samples (as
specified by the user; see Details)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PEcAnRTM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.9.0</small>

    <a href="../index.html" style="padding: 0em 1em">← Up</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/pecanrtm.vignette.html">The PEcAn RTM package</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Perform Bayesian inversion using BayesianTools package</h1>
      <small class="dont-index">Source: <a href="https://github.com/PecanProject/pecan/blob/develop/modules/rtm/R/bayestools.R" class="external-link"><code>R/bayestools.R</code></a></small>
      <div class="d-none name"><code>invert_bt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Use samplers from the BayesianTools package to fit models to data. Like
<code>invert.auto</code>, this will continue to run until convergence is achieved
(based on Gelman diagnostic) <em>and</em> the result has enough samples (as
specified by the user; see Details).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">invert_bt</span><span class="op">(</span><span class="va">observed</span>, <span class="va">model</span>, <span class="va">prior</span>, custom_settings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>, loglike <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-observed">observed<a class="anchor" aria-label="anchor" href="#arg-observed"></a></dt>
<dd><p>Vector of observations. Ignored if <code>loglike</code> is not <code>NULL</code>.</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Function called by log-likelihood. Must be <code>function(params)</code>
and return a vector equal to <code>length(observed)</code> or <code>nrow(observed)</code>. Ignored
if <code>loglike</code> is not <code>NULL</code>.</p></dd>


<dt id="arg-prior">prior<a class="anchor" aria-label="anchor" href="#arg-prior"></a></dt>
<dd><p>BayesianTools prior object.</p></dd>


<dt id="arg-custom-settings">custom_settings<a class="anchor" aria-label="anchor" href="#arg-custom-settings"></a></dt>
<dd><p>Nested settings list. See Details.</p></dd>


<dt id="arg-loglike">loglike<a class="anchor" aria-label="anchor" href="#arg-loglike"></a></dt>
<dd><p>Custom log likelihood function. If <code>NULL</code>, use <code><a href="rtm_loglike.html">rtm_loglike()</a></code>
with provided <code>observed</code> and <code>model</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p><code>custom_settings</code> is a list of lists, containing the following:</p><ul><li><p><code>common</code> – BayesianTools settings common to both the initial and subsequent samples.</p></li>
<li><p><code>init</code> – BayesianTools settings for just the first round of sampling.
This is most common for the initial number of iterations, which is the
minimum expected for convergence.</p></li>
<li><p><code>loop</code> – BayesianTools settings for iterations inside the convergence
checking <code>while</code> loop. This is most commonly for setting a smaller
iteration count than in <code>init</code>.</p></li>
<li><p><code>other</code> – Miscellaneous (non-BayesianTools) settings, including:</p><ul><li><p><code>sampler</code> – String describing which sampler to use. Default is <code>DEzs</code></p></li>
<li><p><code>use_mpsrf</code> – Use the multivariate PSRF to check convergence.
Default is <code>FALSE</code> because it may be an excessively conservative
diagnostic.</p></li>
<li><p><code>min_samp</code> – Minimum number of samples after burnin before stopping.
Default is 5000.</p></li>
<li><p><code>max_iter</code> – Maximum total number of iterations. Default is 1e6.</p></li>
<li><p><code>lag.max</code> – Maximum lag to use for autocorrelation normalization.
Default is <code>10 * log10(n)</code> (same as <code><a href="https://rdrr.io/r/stats/acf.html" class="external-link">stats::acf</a></code> function).</p></li>
<li><p><code>save_progress</code> – File name for saving samples between loop
iterations. If <code>NULL</code> (default), do not save progress samples.</p></li>
<li><p><code>threshold</code> – Threshold for Gelman PSRF convergence diagnostic. Default is 1.1.</p></li>
<li><p><code>verbose_loglike</code> – Diagnostic messages in log likelihood output. Default is TRUE.</p></li>
</ul></li>
</ul><p>See the BayesianTools sampler documentation for what can go in the <code>BayesianTools</code> settings lists.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mike Dietze, Shawn Serbin, Alexey Shiklomanov.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

